<xml xmlns="http://www.w3.org/1999/xhtml">
  <block type="procedures_defnoreturn" id="1" collapsed="true" x="3088" y="270">
    <mutation></mutation>
    <field name="NAME">PlaceCharacter</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="2" inline="false">
        <field name="VAR">global CharacterGridLocation</field>
        <value name="VALUE">
          <block type="math_number" id="3">
            <field name="NUM">182</field>
          </block>
        </value>
        <next>
          <block type="component_method" id="4" inline="false">
            <mutation component_type="ImageSprite" method_name="MoveTo" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <value name="ARG0">
              <block type="math_number" id="5">
                <field name="NUM">16</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="math_number" id="6">
                <field name="NUM">128</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="7" inline="false" collapsed="true" x="3358" y="270">
    <field name="NAME">ObstacleTerrainValues</field>
    <value name="VALUE">
      <block type="lists_create_with" id="8">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="9" collapsed="true" x="3639" y="270">
    <mutation component_type="Button" instance_name="DownButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">DownButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="10" inline="false">
        <field name="VAR">global MapSlideDirection</field>
        <value name="VALUE">
          <block type="math_number" id="11">
            <field name="NUM">270</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="12" inline="false">
            <field name="VAR">global MapSlideGrowthSize</field>
            <value name="VALUE">
              <block type="math_number" id="13">
                <field name="NUM">64</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="14" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="15">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="16" collapsed="true" x="3906" y="270">
    <mutation component_type="Clock" instance_name="MovementDelayTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">MovementDelayTimer</field>
    <statement name="DO">
      <block type="controls_if" id="17" inline="false">
        <value name="IF0">
          <block type="lexical_variable_get" id="18">
            <field name="VAR">global MovementDelay</field>
          </block>
        </value>
        <statement name="DO0">
          <block type="lexical_variable_set" id="19" inline="false">
            <field name="VAR">global MovementDelay</field>
            <value name="VALUE">
              <block type="logic_false" id="20">
                <field name="BOOL">FALSE</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="21" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementDelayTimer"></mutation>
                <field name="COMPONENT_SELECTOR">MovementDelayTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="22">
                    <field name="BOOL">FALSE</field>
                  </block>
                </value>
                <next>
                  <block type="procedures_callnoreturn" id="23" inline="false">
                    <mutation name="Move">
                      <arg name="direction"></arg>
                    </mutation>
                    <field name="PROCNAME">Move</field>
                    <value name="ARG0">
                      <block type="lexical_variable_get" id="24">
                        <field name="VAR">global CharacterHeading</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
        <next>
          <block type="lexical_variable_set" id="25" inline="false">
            <field name="VAR">global MovementDelay</field>
            <value name="VALUE">
              <block type="logic_false" id="26">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="27" inline="false" collapsed="true" x="3088" y="321">
    <field name="NAME">TerrainData</field>
    <value name="VALUE">
      <block type="lists_create_with" id="28">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="29" inline="false" collapsed="true" x="4179" y="270">
    <field name="NAME">MapCornerCanvases</field>
    <value name="VALUE">
      <block type="lists_create_with" id="30">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="31" collapsed="true" x="3358" y="321">
    <mutation component_type="Button" instance_name="ShrinkButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">ShrinkButton</field>
    <statement name="DO">
      <block type="component_set_get" id="32" inline="false">
        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
        <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
        <field name="PROP">TimerEnabled</field>
        <value name="VALUE">
          <block type="logic_boolean" id="33">
            <field name="BOOL">TRUE</field>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="34" inline="false">
            <mutation component_type="ImageSprite" set_or_get="set" property_name="Visible" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <field name="PROP">Visible</field>
            <value name="VALUE">
              <block type="logic_false" id="35">
                <field name="BOOL">FALSE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="36" collapsed="true" x="3639" y="321">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">SetCharacterDirection</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="controls_if" id="37" inline="false">
        <mutation elseif="2" else="1"></mutation>
        <value name="IF0">
          <block type="math_compare" id="38" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="39">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="40">
                <field name="NUM">0</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="lexical_variable_set" id="41" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="42">
                <field name="TEXT">right</field>
              </block>
            </value>
          </block>
        </statement>
        <value name="IF1">
          <block type="math_compare" id="43" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="44">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="45">
                <field name="NUM">90</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO1">
          <block type="lexical_variable_set" id="46" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="47">
                <field name="TEXT">up</field>
              </block>
            </value>
          </block>
        </statement>
        <value name="IF2">
          <block type="math_compare" id="48" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="49">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="50">
                <field name="NUM">180</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO2">
          <block type="lexical_variable_set" id="51" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="52">
                <field name="TEXT">left</field>
              </block>
            </value>
          </block>
        </statement>
        <statement name="ELSE">
          <block type="lexical_variable_set" id="53" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="54">
                <field name="TEXT">down</field>
              </block>
            </value>
          </block>
        </statement>
        <next>
          <block type="component_set_get" id="55" inline="false">
            <mutation component_type="ImageSprite" set_or_get="set" property_name="Picture" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <field name="PROP">Picture</field>
            <value name="VALUE">
              <block type="text_join" id="56" inline="false">
                <mutation items="3"></mutation>
                <value name="ADD0">
                  <block type="text" id="57">
                    <field name="TEXT">walk_</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="lexical_variable_get" id="58">
                    <field name="VAR">global CharacterDirection</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="text" id="59">
                    <field name="TEXT">01.png</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="60" collapsed="true" x="3906" y="321">
    <mutation component_type="Button" instance_name="ResetButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">ResetButton</field>
    <statement name="DO">
      <block type="component_method" id="61" inline="false">
        <mutation component_type="File" method_name="ReadFrom" is_generic="false" instance_name="File1"></mutation>
        <field name="COMPONENT_SELECTOR">File1</field>
        <value name="ARG0">
          <block type="text" id="62">
            <field name="TEXT">//cabin.json</field>
          </block>
        </value>
        <next>
          <block type="procedures_callnoreturn" id="63">
            <mutation name="PlaceCharacter"></mutation>
            <field name="PROCNAME">PlaceCharacter</field>
            <next>
              <block type="component_method" id="64">
                <mutation component_type="Canvas" method_name="Clear" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <next>
                  <block type="procedures_callnoreturn" id="65">
                    <mutation name="RegisterObstacles"></mutation>
                    <field name="PROCNAME">RegisterObstacles</field>
                    <next>
                      <block type="procedures_callnoreturn" id="66">
                        <mutation name="PositionArrows"></mutation>
                        <field name="PROCNAME">PositionArrows</field>
                        <next>
                          <block type="procedures_callnoreturn" id="67">
                            <mutation name="SetMapBorderCells"></mutation>
                            <field name="PROCNAME">SetMapBorderCells</field>
                            <next>
                              <block type="procedures_callnoreturn" id="68">
                                <mutation name="SetMapCanvases"></mutation>
                                <field name="PROCNAME">SetMapCanvases</field>
                                <next>
                                  <block type="procedures_callnoreturn" id="69">
                                    <mutation name="SetMapCanvasCells"></mutation>
                                    <field name="PROCNAME">SetMapCanvasCells</field>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="70" inline="false" collapsed="true" x="3088" y="372">
    <mutation>
      <arg name="json"></arg>
      <arg name="index"></arg>
      <arg name="query"></arg>
    </mutation>
    <field name="NAME">getItemAtIndex</field>
    <field name="VAR0">json</field>
    <field name="VAR1">index</field>
    <field name="VAR2">query</field>
    <value name="RETURN">
      <block type="lists_select_item" id="71" inline="false">
        <value name="LIST">
          <block type="lists_lookup_in_pairs" id="72" inline="false">
            <value name="KEY">
              <block type="lists_select_item" id="73" inline="false">
                <value name="LIST">
                  <block type="text_split" id="74" inline="false">
                    <mutation mode="SPLITATFIRST"></mutation>
                    <field name="OP">SPLITATFIRST</field>
                    <value name="TEXT">
                      <block type="lexical_variable_get" id="75">
                        <field name="VAR">query</field>
                      </block>
                    </value>
                    <value name="AT">
                      <block type="text" id="76">
                        <field name="TEXT">[</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="NUM">
                  <block type="math_number" id="77">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="LIST">
              <block type="lexical_variable_get" id="78">
                <field name="VAR">json</field>
              </block>
            </value>
            <value name="NOTFOUND">
              <block type="text" id="79">
                <field name="TEXT">not found</field>
              </block>
            </value>
          </block>
        </value>
        <value name="NUM">
          <block type="lexical_variable_get" id="80">
            <field name="VAR">index</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="81" collapsed="true" x="4179" y="321">
    <mutation component_type="Clock" instance_name="ZoomOutMapTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
    <statement name="DO">
      <block type="local_declaration_statement" id="82" inline="false">
        <mutation>
          <localname name="growingSize"></localname>
        </mutation>
        <field name="VAR0">growingSize</field>
        <value name="DECL0">
          <block type="math_add" id="83" inline="true">
            <mutation items="2"></mutation>
            <value name="NUM0">
              <block type="component_set_get" id="84">
                <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                <field name="COMPONENT_SELECTOR">Row1</field>
                <field name="PROP">Height</field>
              </block>
            </value>
            <value name="NUM1">
              <block type="lexical_variable_get" id="85">
                <field name="VAR">global MapSpeed</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="STACK">
          <block type="local_declaration_statement" id="86" inline="false">
            <mutation>
              <localname name="shrinkingSize"></localname>
            </mutation>
            <field name="VAR0">shrinkingSize</field>
            <value name="DECL0">
              <block type="math_subtract" id="87" inline="true">
                <value name="A">
                  <block type="component_set_get" id="88">
                    <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Width" is_generic="false" instance_name="Row3Col3"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col3</field>
                    <field name="PROP">Width</field>
                  </block>
                </value>
                <value name="B">
                  <block type="math_multiply" id="89" inline="true">
                    <mutation items="2"></mutation>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="90">
                        <field name="VAR">global MapSpeed</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="91">
                        <field name="NUM">4</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <statement name="STACK">
              <block type="controls_if" id="92" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="93" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="94">
                        <field name="VAR">growingSize</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="95">
                        <field name="NUM">64</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="component_set_get" id="96" inline="false">
                    <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
                    <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
                    <field name="PROP">TimerEnabled</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="97">
                        <field name="BOOL">FALSE</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="98" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="99" inline="true">
                        <field name="OP">LTE</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="100">
                            <field name="VAR">growingSize</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="101">
                            <field name="NUM">64</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="procedures_callnoreturn" id="102" inline="false">
                        <mutation name="ResizeMapCells">
                          <arg name="canvases"></arg>
                          <arg name="cells"></arg>
                          <arg name="size"></arg>
                        </mutation>
                        <field name="PROCNAME">ResizeMapCells</field>
                        <value name="ARG0">
                          <block type="lists_create_with" id="103">
                            <mutation items="0"></mutation>
                          </block>
                        </value>
                        <value name="ARG1">
                          <block type="lexical_variable_get" id="104">
                            <field name="VAR">global MapBorderCellsAll</field>
                          </block>
                        </value>
                        <value name="ARG2">
                          <block type="lexical_variable_get" id="105">
                            <field name="VAR">growingSize</field>
                          </block>
                        </value>
                        <next>
                          <block type="procedures_callnoreturn" id="106" inline="false">
                            <mutation name="ResizeMapCells">
                              <arg name="canvases"></arg>
                              <arg name="cells"></arg>
                              <arg name="size"></arg>
                            </mutation>
                            <field name="PROCNAME">ResizeMapCells</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="107">
                                <field name="VAR">global MapCanvasesAll</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="108">
                                <field name="VAR">global MapCellsAll</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="lexical_variable_get" id="109">
                                <field name="VAR">growingSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="110" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                <field name="COMPONENT_SELECTOR">Row1</field>
                                <field name="PROP">Height</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="111">
                                    <field name="VAR">growingSize</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="112" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row2"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row2</field>
                                    <field name="PROP">Height</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="113">
                                        <field name="VAR">growingSize</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="114" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row4"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row4</field>
                                        <field name="PROP">Height</field>
                                        <value name="VALUE">
                                          <block type="lexical_variable_get" id="115">
                                            <field name="VAR">growingSize</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_set_get" id="116" inline="false">
                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row5</field>
                                            <field name="PROP">Height</field>
                                            <value name="VALUE">
                                              <block type="lexical_variable_get" id="117">
                                                <field name="VAR">growingSize</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="procedures_callnoreturn" id="118" inline="false">
                                                <mutation name="ResizeMapCells">
                                                  <arg name="canvases"></arg>
                                                  <arg name="cells"></arg>
                                                  <arg name="size"></arg>
                                                </mutation>
                                                <field name="PROCNAME">ResizeMapCells</field>
                                                <value name="ARG0">
                                                  <block type="lists_create_with" id="119" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="120">
                                                        <mutation component_type="Canvas" instance_name="WorldCanvas"></mutation>
                                                        <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG1">
                                                  <block type="lists_create_with" id="121" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="122">
                                                        <mutation component_type="HorizontalArrangement" instance_name="Row3Col3"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG2">
                                                  <block type="lexical_variable_get" id="123">
                                                    <field name="VAR">shrinkingSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="124" collapsed="true" x="3358" y="372">
    <mutation>
      <arg name="obstacleName"></arg>
    </mutation>
    <field name="NAME">SetObstacleTerrainValues</field>
    <field name="VAR0">obstacleName</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="125" inline="false">
        <field name="VAR">global ObstacleTerrainValues</field>
        <value name="VALUE">
          <block type="procedures_callreturn" id="126" inline="false">
            <mutation name="GetObstacleValues">
              <arg name="terrainObstacleIndices"></arg>
            </mutation>
            <field name="PROCNAME">GetObstacleValues</field>
            <value name="ARG0">
              <block type="procedures_callreturn" id="127" inline="false">
                <mutation name="GetTerrainObstacleIndices">
                  <arg name="obstacleName"></arg>
                </mutation>
                <field name="PROCNAME">GetTerrainObstacleIndices</field>
                <value name="ARG0">
                  <block type="lexical_variable_get" id="128">
                    <field name="VAR">obstacleName</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="129" collapsed="true" x="3639" y="372">
    <mutation component_type="Button" instance_name="LeftButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">LeftButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="130" inline="false">
        <field name="VAR">global MapSlideDirection</field>
        <value name="VALUE">
          <block type="math_number" id="131">
            <field name="NUM">0</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="132" inline="false">
            <field name="VAR">global MapSlideGrowthSize</field>
            <value name="VALUE">
              <block type="math_number" id="133">
                <field name="NUM">64</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="134" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="135">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="136" inline="false" collapsed="true" x="3906" y="372">
    <field name="NAME">MapShrinkSize</field>
    <value name="VALUE">
      <block type="math_number" id="137">
        <field name="NUM">64</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="138" inline="false" collapsed="true" x="3088" y="423">
    <field name="NAME">Ydirection</field>
    <value name="VALUE">
      <block type="math_number" id="139">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="140" collapsed="true" x="4179" y="372">
    <mutation>
      <arg name="canvases"></arg>
      <arg name="cells"></arg>
      <arg name="size"></arg>
    </mutation>
    <field name="NAME">ResizeMapCells</field>
    <field name="VAR0">canvases</field>
    <field name="VAR1">cells</field>
    <field name="VAR2">size</field>
    <statement name="STACK">
      <block type="controls_forEach" id="141" inline="false">
        <field name="VAR">cell</field>
        <value name="LIST">
          <block type="lexical_variable_get" id="142">
            <field name="VAR">cells</field>
          </block>
        </value>
        <statement name="DO">
          <block type="component_set_get" id="143" inline="false">
            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="true"></mutation>
            <field name="PROP">Height</field>
            <value name="COMPONENT">
              <block type="lexical_variable_get" id="144">
                <field name="VAR">cell</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="lexical_variable_get" id="145">
                <field name="VAR">size</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="146" inline="false">
                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="true"></mutation>
                <field name="PROP">Width</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="147">
                    <field name="VAR">cell</field>
                  </block>
                </value>
                <value name="VALUE">
                  <block type="lexical_variable_get" id="148">
                    <field name="VAR">size</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </statement>
        <next>
          <block type="controls_forEach" id="149" inline="false">
            <field name="VAR">canvas</field>
            <value name="LIST">
              <block type="lexical_variable_get" id="150">
                <field name="VAR">canvases</field>
              </block>
            </value>
            <statement name="DO">
              <block type="component_set_get" id="151" inline="false">
                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="true"></mutation>
                <field name="PROP">Width</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="152">
                    <field name="VAR">canvas</field>
                  </block>
                </value>
                <value name="VALUE">
                  <block type="math_on_list" id="153" inline="false">
                    <mutation items="2"></mutation>
                    <field name="OP">MAX</field>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="154">
                        <field name="VAR">size</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="155">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="component_set_get" id="156" inline="false">
                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="true"></mutation>
                    <field name="PROP">Height</field>
                    <value name="COMPONENT">
                      <block type="lexical_variable_get" id="157">
                        <field name="VAR">canvas</field>
                      </block>
                    </value>
                    <value name="VALUE">
                      <block type="math_on_list" id="158" inline="false">
                        <mutation items="2"></mutation>
                        <field name="OP">MAX</field>
                        <value name="NUM0">
                          <block type="lexical_variable_get" id="159">
                            <field name="VAR">size</field>
                          </block>
                        </value>
                        <value name="NUM1">
                          <block type="math_number" id="160">
                            <field name="NUM">1</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="161" inline="false" collapsed="true" x="3358" y="423">
    <mutation>
      <arg name="terrainObstacleIndices"></arg>
    </mutation>
    <field name="NAME">GetObstacleValues</field>
    <field name="VAR0">terrainObstacleIndices</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="162" inline="false">
        <mutation>
          <localname name="obstacleValues"></localname>
        </mutation>
        <field name="VAR0">obstacleValues</field>
        <value name="DECL0">
          <block type="lists_create_with" id="163">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="164" inline="false">
            <statement name="STM">
              <block type="local_declaration_statement" id="165" inline="false">
                <mutation>
                  <localname name="tilesets"></localname>
                </mutation>
                <field name="VAR0">tilesets</field>
                <value name="DECL0">
                  <block type="procedures_callreturn" id="166" inline="false">
                    <mutation name="jsonLookup">
                      <arg name="query"></arg>
                      <arg name="json"></arg>
                    </mutation>
                    <field name="PROCNAME">jsonLookup</field>
                    <value name="ARG0">
                      <block type="text" id="167">
                        <field name="TEXT">tilesets</field>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="lexical_variable_get" id="168">
                        <field name="VAR">global TerrainJson</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="STACK">
                  <block type="controls_forRange" id="169" inline="false">
                    <field name="VAR">tilesetIndex</field>
                    <value name="START">
                      <block type="math_number" id="170">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                    <value name="END">
                      <block type="lists_length" id="171" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="172">
                            <field name="VAR">tilesets</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="STEP">
                      <block type="math_number" id="173">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="local_declaration_statement" id="174" inline="false">
                        <mutation>
                          <localname name="tileset"></localname>
                        </mutation>
                        <field name="VAR0">tileset</field>
                        <value name="DECL0">
                          <block type="lists_select_item" id="175" inline="false">
                            <value name="LIST">
                              <block type="lexical_variable_get" id="176">
                                <field name="VAR">tilesets</field>
                              </block>
                            </value>
                            <value name="NUM">
                              <block type="lexical_variable_get" id="177">
                                <field name="VAR">tilesetIndex</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="controls_forEach" id="178" inline="false">
                            <field name="VAR">tile</field>
                            <value name="LIST">
                              <block type="lists_lookup_in_pairs" id="179" inline="false">
                                <value name="KEY">
                                  <block type="text" id="180">
                                    <field name="TEXT">tiles</field>
                                  </block>
                                </value>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="181">
                                    <field name="VAR">tileset</field>
                                  </block>
                                </value>
                                <value name="NOTFOUND">
                                  <block type="text" id="182">
                                    <field name="TEXT">not found tile</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO">
                              <block type="local_declaration_statement" id="183" inline="false">
                                <mutation>
                                  <localname name="obstacleCount"></localname>
                                </mutation>
                                <field name="VAR0">obstacleCount</field>
                                <value name="DECL0">
                                  <block type="math_number" id="184">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                                <statement name="STACK">
                                  <block type="controls_forEach" id="185" inline="false">
                                    <field name="VAR">tileValue</field>
                                    <value name="LIST">
                                      <block type="lists_lookup_in_pairs" id="186" inline="false">
                                        <value name="KEY">
                                          <block type="text" id="187">
                                            <field name="TEXT">terrain</field>
                                          </block>
                                        </value>
                                        <value name="LIST">
                                          <block type="lists_select_item" id="188" inline="false">
                                            <value name="LIST">
                                              <block type="lexical_variable_get" id="189">
                                                <field name="VAR">tile</field>
                                              </block>
                                            </value>
                                            <value name="NUM">
                                              <block type="math_number" id="190">
                                                <field name="NUM">2</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NOTFOUND">
                                          <block type="text" id="191">
                                            <field name="TEXT">not found tile</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <statement name="DO">
                                      <block type="controls_if" id="192" inline="false">
                                        <value name="IF0">
                                          <block type="lists_is_in" id="193" inline="false">
                                            <value name="ITEM">
                                              <block type="lexical_variable_get" id="194">
                                                <field name="VAR">tileValue</field>
                                              </block>
                                            </value>
                                            <value name="LIST">
                                              <block type="lists_select_item" id="195" inline="false">
                                                <value name="LIST">
                                                  <block type="lexical_variable_get" id="196">
                                                    <field name="VAR">terrainObstacleIndices</field>
                                                  </block>
                                                </value>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="197">
                                                    <field name="VAR">tilesetIndex</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <statement name="DO0">
                                          <block type="lexical_variable_set" id="198" inline="false">
                                            <field name="VAR">obstacleCount</field>
                                            <value name="VALUE">
                                              <block type="math_add" id="199" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="200">
                                                    <field name="VAR">obstacleCount</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="201">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </statement>
                                    <next>
                                      <block type="controls_if" id="202" inline="false">
                                        <value name="IF0">
                                          <block type="math_compare" id="203" inline="true">
                                            <field name="OP">EQ</field>
                                            <value name="A">
                                              <block type="lexical_variable_get" id="204">
                                                <field name="VAR">obstacleCount</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="math_number" id="205">
                                                <field name="NUM">4</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <statement name="DO0">
                                          <block type="lists_add_items" id="206" inline="false">
                                            <mutation items="1"></mutation>
                                            <value name="LIST">
                                              <block type="lexical_variable_get" id="207">
                                                <field name="VAR">obstacleValues</field>
                                              </block>
                                            </value>
                                            <value name="ITEM0">
                                              <block type="math_add" id="208" inline="true">
                                                <mutation items="2"></mutation>
                                                <comment pinned="false" h="80" w="160">Tile names are 1 more than the terrain value they refer to.</comment>
                                                <value name="NUM0">
                                                  <block type="lists_select_item" id="209" inline="false">
                                                    <value name="LIST">
                                                      <block type="lexical_variable_get" id="210">
                                                        <field name="VAR">tile</field>
                                                      </block>
                                                    </value>
                                                    <value name="NUM">
                                                      <block type="math_number" id="211">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="212">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </statement>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                              </block>
                            </statement>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="213">
                <field name="VAR">obstacleValues</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="214" inline="false" collapsed="true" x="3639" y="423">
    <mutation></mutation>
    <field name="NAME">GetDisallowedDirections</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="215" inline="false">
        <mutation>
          <localname name="disallowedDirections"></localname>
        </mutation>
        <field name="VAR0">disallowedDirections</field>
        <value name="DECL0">
          <block type="lists_create_with" id="216">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="217" inline="false">
            <statement name="STM">
              <block type="controls_if" id="218" inline="false">
                <value name="IF0">
                  <block type="procedures_callreturn" id="219" inline="false">
                    <mutation name="PositionDoesHaveObstacle">
                      <arg name="gridPosition"></arg>
                    </mutation>
                    <field name="PROCNAME">PositionDoesHaveObstacle</field>
                    <value name="ARG0">
                      <block type="math_subtract" id="220" inline="true">
                        <value name="A">
                          <block type="lexical_variable_get" id="221">
                            <field name="VAR">global CharacterGridLocation</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="222">
                            <field name="NUM">20</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="lists_add_items" id="223" inline="false">
                    <mutation items="1"></mutation>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="224">
                        <field name="VAR">disallowedDirections</field>
                      </block>
                    </value>
                    <value name="ITEM0">
                      <block type="math_number" id="225">
                        <field name="NUM">90</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="226" inline="false">
                    <value name="IF0">
                      <block type="procedures_callreturn" id="227" inline="false">
                        <mutation name="PositionDoesHaveObstacle">
                          <arg name="gridPosition"></arg>
                        </mutation>
                        <field name="PROCNAME">PositionDoesHaveObstacle</field>
                        <value name="ARG0">
                          <block type="math_subtract" id="228" inline="true">
                            <value name="A">
                              <block type="lexical_variable_get" id="229">
                                <field name="VAR">global CharacterGridLocation</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="230">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lists_add_items" id="231" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="232">
                            <field name="VAR">disallowedDirections</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="math_number" id="233">
                            <field name="NUM">180</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                    <next>
                      <block type="controls_if" id="234" inline="false">
                        <value name="IF0">
                          <block type="procedures_callreturn" id="235" inline="false">
                            <mutation name="PositionDoesHaveObstacle">
                              <arg name="gridPosition"></arg>
                            </mutation>
                            <field name="PROCNAME">PositionDoesHaveObstacle</field>
                            <value name="ARG0">
                              <block type="math_add" id="236" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="lexical_variable_get" id="237">
                                    <field name="VAR">global CharacterGridLocation</field>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_number" id="238">
                                    <field name="NUM">20</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lists_add_items" id="239" inline="false">
                            <mutation items="1"></mutation>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="240">
                                <field name="VAR">disallowedDirections</field>
                              </block>
                            </value>
                            <value name="ITEM0">
                              <block type="math_number" id="241">
                                <field name="NUM">270</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type="controls_if" id="242" inline="false">
                            <value name="IF0">
                              <block type="procedures_callreturn" id="243" inline="false">
                                <mutation name="PositionDoesHaveObstacle">
                                  <arg name="gridPosition"></arg>
                                </mutation>
                                <field name="PROCNAME">PositionDoesHaveObstacle</field>
                                <value name="ARG0">
                                  <block type="math_add" id="244" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="lexical_variable_get" id="245">
                                        <field name="VAR">global CharacterGridLocation</field>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="246">
                                        <field name="NUM">1</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO0">
                              <block type="lists_add_items" id="247" inline="false">
                                <mutation items="1"></mutation>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="248">
                                    <field name="VAR">disallowedDirections</field>
                                  </block>
                                </value>
                                <value name="ITEM0">
                                  <block type="math_number" id="249">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="250">
                <field name="VAR">disallowedDirections</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="251" collapsed="true" x="3906" y="423">
    <mutation component_type="Button" instance_name="RightButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">RightButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="252" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="253">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="254" inline="false" collapsed="true" x="3088" y="474">
    <field name="NAME">MapSlideGrowthSize</field>
    <value name="VALUE">
      <block type="math_number" id="255">
        <field name="NUM">64</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="256" inline="false" collapsed="true" x="4179" y="423">
    <field name="NAME">MapCardinalCells</field>
    <value name="VALUE">
      <block type="lists_create_with" id="257">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="258" collapsed="true" x="3358" y="474">
    <mutation component_type="Button" instance_name="DownButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">DownButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="259" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="260">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="261" collapsed="true" x="3639" y="474">
    <mutation component_type="Button" instance_name="LeftButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">LeftButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="262" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="263">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="264" collapsed="true" x="3906" y="474">
    <mutation></mutation>
    <field name="NAME">RegisterObstacles</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="265" inline="false">
        <field name="VAR">global Obstacles</field>
        <value name="VALUE">
          <block type="lists_create_with" id="266" inline="false">
            <mutation items="3"></mutation>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="267" inline="false" collapsed="true" x="3088" y="525">
    <field name="NAME">Obstacles</field>
    <value name="VALUE">
      <block type="lists_create_with" id="268">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="269" inline="false" collapsed="true" x="4179" y="474">
    <field name="NAME">MapCellsAll</field>
    <value name="VALUE">
      <block type="lists_create_with" id="270">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="271" collapsed="true" x="3358" y="525">
    <mutation component_type="Button" instance_name="RightButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">RightButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="272" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="273">
            <field name="NUM">0</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="274" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="275">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="276" inline="false" collapsed="true" x="3639" y="525">
    <field name="NAME">LocationData</field>
    <value name="VALUE">
      <block type="lists_create_with" id="277">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="278" collapsed="true" x="3906" y="525">
    <mutation component_type="Button" instance_name="UpButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">UpButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="279" inline="false">
        <field name="VAR">global MapSlideDirection</field>
        <value name="VALUE">
          <block type="math_number" id="280">
            <field name="NUM">90</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="281" inline="false">
            <field name="VAR">global MapSlideGrowthSize</field>
            <value name="VALUE">
              <block type="math_number" id="282">
                <field name="NUM">64</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="283" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="284">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="285" inline="false" collapsed="true" x="3088" y="576">
    <field name="NAME">ArrowIsPressed</field>
    <value name="VALUE">
      <block type="logic_false" id="286">
        <field name="BOOL">FALSE</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="287" collapsed="true" x="4179" y="525">
    <mutation></mutation>
    <field name="NAME">SetMapBorderCells</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="288" inline="false">
        <field name="VAR">global MapBorderCellsLeft</field>
        <value name="VALUE">
          <block type="lists_create_with" id="289" inline="false">
            <mutation items="3"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="290">
                <mutation component_type="HorizontalArrangement" instance_name="Row2Col1"></mutation>
                <field name="COMPONENT_SELECTOR">Row2Col1</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="291">
                <mutation component_type="HorizontalArrangement" instance_name="Row3Col1"></mutation>
                <field name="COMPONENT_SELECTOR">Row3Col1</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="292">
                <mutation component_type="HorizontalArrangement" instance_name="Row4Col1"></mutation>
                <field name="COMPONENT_SELECTOR">Row4Col1</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="293" inline="false">
            <field name="VAR">global MapBorderCellsRight</field>
            <value name="VALUE">
              <block type="lists_create_with" id="294" inline="false">
                <mutation items="3"></mutation>
                <value name="ADD0">
                  <block type="component_component_block" id="295">
                    <mutation component_type="HorizontalArrangement" instance_name="Row2Col5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row2Col5</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="component_component_block" id="296">
                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col5</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="component_component_block" id="297">
                    <mutation component_type="HorizontalArrangement" instance_name="Row4Col5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row4Col5</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_forEach" id="298" inline="false">
                <field name="VAR">list</field>
                <value name="LIST">
                  <block type="lists_create_with" id="299" inline="false">
                    <mutation items="2"></mutation>
                    <value name="ADD0">
                      <block type="lexical_variable_get" id="300">
                        <field name="VAR">global MapBorderCellsLeft</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="301">
                        <field name="VAR">global MapBorderCellsRight</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_forEach" id="302" inline="false">
                    <field name="VAR">item</field>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="303">
                        <field name="VAR">list</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="lists_add_items" id="304" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="305">
                            <field name="VAR">global MapBorderCellsAll</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="306">
                            <field name="VAR">item</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="307" inline="false" collapsed="true" x="3358" y="576">
    <mutation>
      <arg name="terrainValue"></arg>
    </mutation>
    <field name="NAME">IsTerrainValueAnObstacle</field>
    <field name="VAR0">terrainValue</field>
    <value name="RETURN">
      <block type="lists_is_in" id="308" inline="false">
        <value name="ITEM">
          <block type="lexical_variable_get" id="309">
            <field name="VAR">terrainValue</field>
          </block>
        </value>
        <value name="LIST">
          <block type="lexical_variable_get" id="310">
            <field name="VAR">global ObstacleTerrainValues</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="311" collapsed="true" x="3639" y="576">
    <mutation></mutation>
    <field name="NAME">MakeGrid</field>
    <statement name="STACK">
      <block type="controls_forRange" id="312" inline="false">
        <field name="VAR">x</field>
        <value name="START">
          <block type="math_number" id="313">
            <field name="NUM">0</field>
          </block>
        </value>
        <value name="END">
          <block type="component_set_get" id="314">
            <mutation component_type="Canvas" set_or_get="get" property_name="Width" is_generic="false" instance_name="WorldCanvas"></mutation>
            <field name="COMPONENT_SELECTOR">WorldCanvas</field>
            <field name="PROP">Width</field>
          </block>
        </value>
        <value name="STEP">
          <block type="math_number" id="315">
            <field name="NUM">16</field>
          </block>
        </value>
        <statement name="DO">
          <block type="component_method" id="316" inline="false">
            <mutation component_type="Canvas" method_name="DrawLine" is_generic="false" instance_name="WorldCanvas"></mutation>
            <field name="COMPONENT_SELECTOR">WorldCanvas</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="317">
                <field name="VAR">x</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="math_number" id="318">
                <field name="NUM">0</field>
              </block>
            </value>
            <value name="ARG2">
              <block type="lexical_variable_get" id="319">
                <field name="VAR">x</field>
              </block>
            </value>
            <value name="ARG3">
              <block type="component_set_get" id="320">
                <mutation component_type="Canvas" set_or_get="get" property_name="Height" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <field name="PROP">Height</field>
              </block>
            </value>
          </block>
        </statement>
        <next>
          <block type="controls_forRange" id="321" inline="false">
            <field name="VAR">y</field>
            <value name="START">
              <block type="math_number" id="322">
                <field name="NUM">0</field>
              </block>
            </value>
            <value name="END">
              <block type="component_set_get" id="323">
                <mutation component_type="Canvas" set_or_get="get" property_name="Height" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <field name="PROP">Height</field>
              </block>
            </value>
            <value name="STEP">
              <block type="math_number" id="324">
                <field name="NUM">16</field>
              </block>
            </value>
            <statement name="DO">
              <block type="component_method" id="325" inline="false">
                <mutation component_type="Canvas" method_name="DrawLine" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <value name="ARG0">
                  <block type="math_number" id="326">
                    <field name="NUM">0</field>
                  </block>
                </value>
                <value name="ARG1">
                  <block type="lexical_variable_get" id="327">
                    <field name="VAR">y</field>
                  </block>
                </value>
                <value name="ARG2">
                  <block type="component_set_get" id="328">
                    <mutation component_type="Canvas" set_or_get="get" property_name="Width" is_generic="false" instance_name="WorldCanvas"></mutation>
                    <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                    <field name="PROP">Width</field>
                  </block>
                </value>
                <value name="ARG3">
                  <block type="lexical_variable_get" id="329">
                    <field name="VAR">y</field>
                  </block>
                </value>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="330" inline="false" collapsed="true" x="3906" y="576">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">WillDestinationBeInBounds</field>
    <field name="VAR0">direction</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="331" inline="false">
        <mutation>
          <localname name="inBounds"></localname>
        </mutation>
        <field name="VAR0">inBounds</field>
        <value name="DECL0">
          <block type="logic_boolean" id="332">
            <field name="BOOL">TRUE</field>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="333" inline="false">
            <statement name="STM">
              <block type="controls_if" id="334" inline="false">
                <value name="IF0">
                  <block type="logic_operation" id="335" inline="true">
                    <field name="OP">AND</field>
                    <value name="A">
                      <block type="math_compare" id="336" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="337">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="338">
                            <field name="NUM">90</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_compare" id="339" inline="true">
                        <field name="OP">LT</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="340">
                            <field name="VAR">global CharacterGridLocation</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="341">
                            <field name="NUM">21</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="lexical_variable_set" id="342" inline="false">
                    <field name="VAR">inBounds</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="343">
                        <field name="BOOL">FALSE</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="344" inline="false">
                    <value name="IF0">
                      <block type="logic_operation" id="345" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="math_compare" id="346" inline="true">
                            <field name="OP">EQ</field>
                            <value name="A">
                              <block type="lexical_variable_get" id="347">
                                <field name="VAR">direction</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="348">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_compare" id="349" inline="true">
                            <field name="OP">EQ</field>
                            <value name="A">
                              <block type="math_divide" id="350" inline="true">
                                <field name="OP">MODULO</field>
                                <value name="DIVIDEND">
                                  <block type="lexical_variable_get" id="351">
                                    <field name="VAR">global CharacterGridLocation</field>
                                  </block>
                                </value>
                                <value name="DIVISOR">
                                  <block type="math_number" id="352">
                                    <field name="NUM">20</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="353">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lexical_variable_set" id="354" inline="false">
                        <field name="VAR">inBounds</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="355">
                            <field name="BOOL">FALSE</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                    <next>
                      <block type="controls_if" id="356" inline="false">
                        <value name="IF0">
                          <block type="logic_operation" id="357" inline="true">
                            <field name="OP">AND</field>
                            <value name="A">
                              <block type="math_compare" id="358" inline="true">
                                <field name="OP">EQ</field>
                                <value name="A">
                                  <block type="lexical_variable_get" id="359">
                                    <field name="VAR">direction</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="360">
                                    <field name="NUM">180</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_compare" id="361" inline="true">
                                <field name="OP">EQ</field>
                                <value name="A">
                                  <block type="math_divide" id="362" inline="true">
                                    <field name="OP">MODULO</field>
                                    <value name="DIVIDEND">
                                      <block type="lexical_variable_get" id="363">
                                        <field name="VAR">global CharacterGridLocation</field>
                                      </block>
                                    </value>
                                    <value name="DIVISOR">
                                      <block type="math_number" id="364">
                                        <field name="NUM">20</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="365">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="366" inline="false">
                            <field name="VAR">inBounds</field>
                            <value name="VALUE">
                              <block type="logic_boolean" id="367">
                                <field name="BOOL">FALSE</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type="controls_if" id="368" inline="false">
                            <value name="IF0">
                              <block type="logic_operation" id="369" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="math_compare" id="370" inline="true">
                                    <field name="OP">EQ</field>
                                    <value name="A">
                                      <block type="lexical_variable_get" id="371">
                                        <field name="VAR">direction</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="math_number" id="372">
                                        <field name="NUM">270</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_compare" id="373" inline="true">
                                    <field name="OP">GT</field>
                                    <value name="A">
                                      <block type="lexical_variable_get" id="374">
                                        <field name="VAR">global CharacterGridLocation</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="math_number" id="375">
                                        <field name="NUM">380</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO0">
                              <block type="lexical_variable_set" id="376" inline="false">
                                <field name="VAR">inBounds</field>
                                <value name="VALUE">
                                  <block type="logic_boolean" id="377">
                                    <field name="BOOL">FALSE</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="378">
                <field name="VAR">inBounds</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="379" inline="false" collapsed="true" x="3088" y="627">
    <field name="NAME">IsCharacterMoving</field>
    <value name="VALUE">
      <block type="logic_false" id="380">
        <field name="BOOL">FALSE</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="381" inline="false" collapsed="true" x="4179" y="576">
    <field name="NAME">MapCardinalCanvases</field>
    <value name="VALUE">
      <block type="lists_create_with" id="382">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="383" inline="false" collapsed="true" x="3358" y="627">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">CanCharacterMove</field>
    <field name="VAR0">direction</field>
    <value name="RETURN">
      <block type="logic_negate" id="384" inline="false">
        <value name="BOOL">
          <block type="lists_is_in" id="385" inline="false">
            <value name="ITEM">
              <block type="lexical_variable_get" id="386">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="LIST">
              <block type="procedures_callreturn" id="387">
                <mutation name="GetDisallowedDirections"></mutation>
                <field name="PROCNAME">GetDisallowedDirections</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="388" inline="false" collapsed="true" x="3639" y="627">
    <mutation>
      <arg name="query"></arg>
      <arg name="json"></arg>
    </mutation>
    <field name="NAME">jsonLookup</field>
    <field name="VAR0">query</field>
    <field name="VAR1">json</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="389" inline="false">
        <mutation>
          <localname name="propertyParts"></localname>
        </mutation>
        <field name="VAR0">propertyParts</field>
        <value name="DECL0">
          <block type="text_split" id="390" inline="false">
            <mutation mode="SPLITATFIRST"></mutation>
            <field name="OP">SPLITATFIRST</field>
            <value name="TEXT">
              <block type="lexical_variable_get" id="391">
                <field name="VAR">query</field>
              </block>
            </value>
            <value name="AT">
              <block type="text" id="392">
                <field name="TEXT">.</field>
              </block>
            </value>
          </block>
        </value>
        <value name="RETURN">
          <block type="local_declaration_expression" id="393" inline="false">
            <mutation>
              <localname name="firstProperty"></localname>
            </mutation>
            <field name="VAR0">firstProperty</field>
            <value name="DECL0">
              <block type="lists_select_item" id="394" inline="false">
                <value name="LIST">
                  <block type="lexical_variable_get" id="395">
                    <field name="VAR">propertyParts</field>
                  </block>
                </value>
                <value name="NUM">
                  <block type="math_number" id="396">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="RETURN">
              <block type="controls_choose" id="397" inline="false">
                <value name="TEST">
                  <block type="math_compare" id="398" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lists_length" id="399" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="400">
                            <field name="VAR">propertyParts</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="401">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="THENRETURN">
                  <block type="controls_choose" id="402" inline="false">
                    <value name="TEST">
                      <block type="text_compare" id="403" inline="true">
                        <field name="OP">EQUAL</field>
                        <value name="TEXT1">
                          <block type="procedures_callreturn" id="404" inline="false">
                            <mutation name="getIndex">
                              <arg name="stringVal"></arg>
                            </mutation>
                            <field name="PROCNAME">getIndex</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="405">
                                <field name="VAR">firstProperty</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="TEXT2">
                          <block type="lexical_variable_get" id="406">
                            <field name="VAR">firstProperty</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="THENRETURN">
                      <block type="lists_lookup_in_pairs" id="407" inline="false">
                        <value name="KEY">
                          <block type="lexical_variable_get" id="408">
                            <field name="VAR">firstProperty</field>
                          </block>
                        </value>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="409">
                            <field name="VAR">json</field>
                          </block>
                        </value>
                        <value name="NOTFOUND">
                          <block type="text" id="410">
                            <field name="TEXT">not found</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ELSERETURN">
                      <block type="local_declaration_expression" id="411" inline="false">
                        <mutation>
                          <localname name="index"></localname>
                        </mutation>
                        <field name="VAR0">index</field>
                        <value name="DECL0">
                          <block type="procedures_callreturn" id="412" inline="false">
                            <mutation name="getIndex">
                              <arg name="stringVal"></arg>
                            </mutation>
                            <field name="PROCNAME">getIndex</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="413">
                                <field name="VAR">firstProperty</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="RETURN">
                          <block type="procedures_callreturn" id="414" inline="false">
                            <mutation name="getItemAtIndex">
                              <arg name="json"></arg>
                              <arg name="index"></arg>
                              <arg name="query"></arg>
                            </mutation>
                            <field name="PROCNAME">getItemAtIndex</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="415">
                                <field name="VAR">json</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="416">
                                <field name="VAR">index</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="lexical_variable_get" id="417">
                                <field name="VAR">query</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="ELSERETURN">
                  <block type="local_declaration_expression" id="418" inline="false">
                    <mutation>
                      <localname name="subQuery"></localname>
                    </mutation>
                    <field name="VAR0">subQuery</field>
                    <value name="DECL0">
                      <block type="lists_select_item" id="419" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="420">
                            <field name="VAR">propertyParts</field>
                          </block>
                        </value>
                        <value name="NUM">
                          <block type="math_number" id="421">
                            <field name="NUM">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="RETURN">
                      <block type="controls_choose" id="422" inline="false">
                        <value name="TEST">
                          <block type="text_compare" id="423" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="procedures_callreturn" id="424" inline="false">
                                <mutation name="getIndex">
                                  <arg name="stringVal"></arg>
                                </mutation>
                                <field name="PROCNAME">getIndex</field>
                                <value name="ARG0">
                                  <block type="lexical_variable_get" id="425">
                                    <field name="VAR">firstProperty</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="426">
                                <field name="VAR">firstProperty</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="THENRETURN">
                          <block type="procedures_callreturn" id="427" inline="false">
                            <mutation name="jsonLookup">
                              <arg name="query"></arg>
                              <arg name="json"></arg>
                            </mutation>
                            <field name="PROCNAME">jsonLookup</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="428">
                                <field name="VAR">subQuery</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lists_lookup_in_pairs" id="429" inline="false">
                                <value name="KEY">
                                  <block type="lexical_variable_get" id="430">
                                    <field name="VAR">firstProperty</field>
                                  </block>
                                </value>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="431">
                                    <field name="VAR">json</field>
                                  </block>
                                </value>
                                <value name="NOTFOUND">
                                  <block type="text" id="432">
                                    <field name="TEXT">not found</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="ELSERETURN">
                          <block type="local_declaration_expression" id="433" inline="false">
                            <mutation>
                              <localname name="index"></localname>
                            </mutation>
                            <field name="VAR0">index</field>
                            <value name="DECL0">
                              <block type="procedures_callreturn" id="434" inline="false">
                                <mutation name="getIndex">
                                  <arg name="stringVal"></arg>
                                </mutation>
                                <field name="PROCNAME">getIndex</field>
                                <value name="ARG0">
                                  <block type="lexical_variable_get" id="435">
                                    <field name="VAR">firstProperty</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="RETURN">
                              <block type="procedures_callreturn" id="436" inline="false">
                                <mutation name="jsonLookup">
                                  <arg name="query"></arg>
                                  <arg name="json"></arg>
                                </mutation>
                                <field name="PROCNAME">jsonLookup</field>
                                <value name="ARG0">
                                  <block type="lexical_variable_get" id="437">
                                    <field name="VAR">subQuery</field>
                                  </block>
                                </value>
                                <value name="ARG1">
                                  <block type="procedures_callreturn" id="438" inline="false">
                                    <mutation name="getItemAtIndex">
                                      <arg name="json"></arg>
                                      <arg name="index"></arg>
                                      <arg name="query"></arg>
                                    </mutation>
                                    <field name="PROCNAME">getItemAtIndex</field>
                                    <value name="ARG0">
                                      <block type="lexical_variable_get" id="439">
                                        <field name="VAR">json</field>
                                      </block>
                                    </value>
                                    <value name="ARG1">
                                      <block type="lexical_variable_get" id="440">
                                        <field name="VAR">index</field>
                                      </block>
                                    </value>
                                    <value name="ARG2">
                                      <block type="lexical_variable_get" id="441">
                                        <field name="VAR">query</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="442" collapsed="true" x="3906" y="627">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">Move</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="443" inline="false">
        <field name="VAR">global CharacterHeading</field>
        <value name="VALUE">
          <block type="lexical_variable_get" id="444">
            <field name="VAR">direction</field>
          </block>
        </value>
        <next>
          <block type="controls_if" id="445" inline="false">
            <value name="IF0">
              <block type="logic_negate" id="446" inline="false">
                <value name="BOOL">
                  <block type="lexical_variable_get" id="447">
                    <field name="VAR">global IsCharacterMoving</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO0">
              <block type="procedures_callnoreturn" id="448" inline="false">
                <mutation name="SetCharacterDirection">
                  <arg name="direction"></arg>
                </mutation>
                <field name="PROCNAME">SetCharacterDirection</field>
                <value name="ARG0">
                  <block type="lexical_variable_get" id="449">
                    <field name="VAR">direction</field>
                  </block>
                </value>
                <next>
                  <block type="controls_if" id="450" inline="false">
                    <value name="IF0">
                      <block type="procedures_callreturn" id="451" inline="false">
                        <mutation name="WillDestinationBeInBounds">
                          <arg name="direction"></arg>
                        </mutation>
                        <field name="PROCNAME">WillDestinationBeInBounds</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="452">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="controls_if" id="453" inline="false">
                        <value name="IF0">
                          <block type="procedures_callreturn" id="454" inline="false">
                            <mutation name="CanCharacterMove">
                              <arg name="direction"></arg>
                            </mutation>
                            <field name="PROCNAME">CanCharacterMove</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="455">
                                <field name="VAR">direction</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="456" inline="false">
                            <field name="VAR">global MovementAnimationCounter</field>
                            <value name="VALUE">
                              <block type="math_number" id="457">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                            <next>
                              <block type="lexical_variable_set" id="458" inline="false">
                                <field name="VAR">global Xdirection</field>
                                <value name="VALUE">
                                  <block type="math_round" id="459" inline="false">
                                    <field name="OP">ROUND</field>
                                    <value name="NUM">
                                      <block type="math_multiply" id="460" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_trig" id="461" inline="false">
                                            <field name="OP">COS</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="462">
                                                <field name="VAR">direction</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="463">
                                            <field name="VAR">global Speed</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type="lexical_variable_set" id="464" inline="false">
                                    <field name="VAR">global Ydirection</field>
                                    <value name="VALUE">
                                      <block type="math_neg" id="465" inline="false">
                                        <field name="OP">NEG</field>
                                        <value name="NUM">
                                          <block type="math_round" id="466" inline="false">
                                            <field name="OP">ROUND</field>
                                            <value name="NUM">
                                              <block type="math_multiply" id="467" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_trig" id="468" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="469">
                                                        <field name="VAR">direction</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="470">
                                                    <field name="VAR">global Speed</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="lexical_variable_set" id="471" inline="false">
                                        <field name="VAR">global IsCharacterMoving</field>
                                        <value name="VALUE">
                                          <block type="logic_false" id="472">
                                            <field name="BOOL">TRUE</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_set_get" id="473" inline="false">
                                            <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementTimer"></mutation>
                                            <field name="COMPONENT_SELECTOR">MovementTimer</field>
                                            <field name="PROP">TimerEnabled</field>
                                            <value name="VALUE">
                                              <block type="logic_false" id="474">
                                                <field name="BOOL">TRUE</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="lexical_variable_set" id="475" inline="false">
                                                <field name="VAR">global CharacterGridLocation</field>
                                                <value name="VALUE">
                                                  <block type="math_add" id="476" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_add" id="477" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_round" id="478" inline="false">
                                                            <field name="OP">ROUND</field>
                                                            <value name="NUM">
                                                              <block type="math_trig" id="479" inline="false">
                                                                <field name="OP">COS</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="480">
                                                                    <field name="VAR">direction</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_neg" id="481" inline="false">
                                                            <field name="OP">NEG</field>
                                                            <value name="NUM">
                                                              <block type="math_multiply" id="482" inline="true">
                                                                <mutation items="2"></mutation>
                                                                <value name="NUM0">
                                                                  <block type="math_round" id="483" inline="false">
                                                                    <field name="OP">ROUND</field>
                                                                    <value name="NUM">
                                                                      <block type="math_trig" id="484" inline="false">
                                                                        <field name="OP">SIN</field>
                                                                        <value name="NUM">
                                                                          <block type="lexical_variable_get" id="485">
                                                                            <field name="VAR">direction</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                                <value name="NUM1">
                                                                  <block type="math_number" id="486">
                                                                    <field name="NUM">20</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="487">
                                                        <field name="VAR">global CharacterGridLocation</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="488" inline="false" collapsed="true" x="3088" y="678">
    <field name="NAME">Xdirection</field>
    <value name="VALUE">
      <block type="math_number" id="489">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="490" collapsed="true" x="4179" y="627">
    <mutation></mutation>
    <field name="NAME">SetMapCanvases</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="491" inline="false">
        <field name="VAR">global MapCornerCanvases</field>
        <value name="VALUE">
          <block type="lists_create_with" id="492" inline="false">
            <mutation items="4"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="493">
                <mutation component_type="Canvas" instance_name="R2C2Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="494">
                <mutation component_type="Canvas" instance_name="R2C4Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="495">
                <mutation component_type="Canvas" instance_name="R4C2Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="component_component_block" id="496">
                <mutation component_type="Canvas" instance_name="R4C4Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="497" inline="false">
            <field name="VAR">global MapCardinalCanvases</field>
            <value name="VALUE">
              <block type="lists_create_with" id="498" inline="false">
                <mutation items="4"></mutation>
                <value name="ADD0">
                  <block type="component_component_block" id="499">
                    <mutation component_type="Canvas" instance_name="R2C3Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="component_component_block" id="500">
                    <mutation component_type="Canvas" instance_name="R3C2Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="component_component_block" id="501">
                    <mutation component_type="Canvas" instance_name="R3C4Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                  </block>
                </value>
                <value name="ADD3">
                  <block type="component_component_block" id="502">
                    <mutation component_type="Canvas" instance_name="R4C3Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_forEach" id="503" inline="false">
                <field name="VAR">list</field>
                <value name="LIST">
                  <block type="lists_create_with" id="504" inline="false">
                    <mutation items="2"></mutation>
                    <value name="ADD0">
                      <block type="lexical_variable_get" id="505">
                        <field name="VAR">global MapCornerCanvases</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="506">
                        <field name="VAR">global MapCardinalCanvases</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_forEach" id="507" inline="false">
                    <field name="VAR">item</field>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="508">
                        <field name="VAR">list</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="lists_add_items" id="509" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="510">
                            <field name="VAR">global MapCanvasesAll</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="511">
                            <field name="VAR">item</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
                <next>
                  <block type="lists_add_items" id="512" inline="false">
                    <mutation items="1"></mutation>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="513">
                        <field name="VAR">global MapCanvasesAll</field>
                      </block>
                    </value>
                    <value name="ITEM0">
                      <block type="component_component_block" id="514">
                        <mutation component_type="Canvas" instance_name="WorldCanvas"></mutation>
                        <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="515" inline="false" collapsed="true" x="3358" y="678">
    <field name="NAME">TerrainValue</field>
    <value name="VALUE">
      <block type="math_number" id="516">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="517" inline="false" collapsed="true" x="3639" y="678">
    <field name="NAME">Speed</field>
    <value name="VALUE">
      <block type="math_number" id="518">
        <field name="NUM">4</field>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="519" inline="false" collapsed="true" x="3906" y="678">
    <mutation>
      <arg name="stringVal"></arg>
    </mutation>
    <field name="NAME">getIndex</field>
    <field name="VAR0">stringVal</field>
    <value name="RETURN">
      <block type="controls_choose" id="520" inline="false">
        <value name="TEST">
          <block type="math_compare" id="521" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lists_length" id="522" inline="false">
                <value name="LIST">
                  <block type="text_split" id="523" inline="false">
                    <mutation mode="SPLIT"></mutation>
                    <field name="OP">SPLIT</field>
                    <value name="TEXT">
                      <block type="lexical_variable_get" id="524">
                        <field name="VAR">stringVal</field>
                      </block>
                    </value>
                    <value name="AT">
                      <block type="text" id="525">
                        <field name="TEXT">[</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="526">
                <field name="NUM">1</field>
              </block>
            </value>
          </block>
        </value>
        <value name="THENRETURN">
          <block type="lexical_variable_get" id="527">
            <field name="VAR">stringVal</field>
          </block>
        </value>
        <value name="ELSERETURN">
          <block type="lists_select_item" id="528" inline="false">
            <value name="LIST">
              <block type="text_split" id="529" inline="false">
                <mutation mode="SPLIT"></mutation>
                <field name="OP">SPLIT</field>
                <value name="TEXT">
                  <block type="lists_select_item" id="530" inline="false">
                    <value name="LIST">
                      <block type="text_split" id="531" inline="false">
                        <mutation mode="SPLIT"></mutation>
                        <field name="OP">SPLIT</field>
                        <value name="TEXT">
                          <block type="lexical_variable_get" id="532">
                            <field name="VAR">stringVal</field>
                          </block>
                        </value>
                        <value name="AT">
                          <block type="text" id="533">
                            <field name="TEXT">[</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="NUM">
                      <block type="math_number" id="534">
                        <field name="NUM">2</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="AT">
                  <block type="text" id="535">
                    <field name="TEXT">]</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="NUM">
              <block type="math_number" id="536">
                <field name="NUM">1</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="537" collapsed="true" x="3088" y="729">
    <mutation component_type="Clock" instance_name="MapSlideTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="538" inline="false">
        <field name="VAR">global MapSlideGrowthSize</field>
        <value name="VALUE">
          <block type="math_add" id="539" inline="true">
            <mutation items="2"></mutation>
            <value name="NUM0">
              <block type="lexical_variable_get" id="540">
                <field name="VAR">global MapSlideGrowthSize</field>
              </block>
            </value>
            <value name="NUM1">
              <block type="lexical_variable_get" id="541">
                <field name="VAR">global MapSpeed</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="local_declaration_statement" id="542" inline="false">
            <mutation>
              <localname name="shrinkSize"></localname>
            </mutation>
            <field name="VAR0">shrinkSize</field>
            <value name="DECL0">
              <block type="math_subtract" id="543" inline="true">
                <value name="A">
                  <block type="math_number" id="544">
                    <field name="NUM">128</field>
                  </block>
                </value>
                <value name="B">
                  <block type="lexical_variable_get" id="545">
                    <field name="VAR">global MapSlideGrowthSize</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="STACK">
              <block type="controls_if" id="546" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="547" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="548">
                        <field name="VAR">shrinkSize</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="549">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="component_set_get" id="550" inline="false">
                    <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                    <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                    <field name="PROP">TimerEnabled</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="551">
                        <field name="BOOL">FALSE</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="552" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="553" inline="true">
                        <field name="OP">GTE</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="554">
                            <field name="VAR">shrinkSize</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="555">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="local_declaration_statement" id="556" inline="false">
                        <mutation>
                          <localname name="leftSize"></localname>
                        </mutation>
                        <field name="VAR0">leftSize</field>
                        <value name="DECL0">
                          <block type="math_on_list" id="557" inline="false">
                            <mutation items="2"></mutation>
                            <field name="OP">MAX</field>
                            <value name="NUM0">
                              <block type="math_multiply" id="558" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="math_number" id="559">
                                    <field name="NUM">64</field>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_abs" id="560" inline="false">
                                    <field name="OP">ABS</field>
                                    <value name="NUM">
                                      <block type="math_cos" id="561" inline="false">
                                        <field name="OP">SIN</field>
                                        <value name="NUM">
                                          <block type="lexical_variable_get" id="562">
                                            <field name="VAR">global MapSlideDirection</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_add" id="563" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="math_on_list" id="564" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MAX</field>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="565" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="lexical_variable_get" id="566">
                                            <field name="VAR">global MapSlideGrowthSize</field>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_trig" id="567" inline="false">
                                            <field name="OP">COS</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="568">
                                                <field name="VAR">global MapSlideDirection</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="569">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_on_list" id="570" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MAX</field>
                                    <value name="NUM0">
                                      <block type="math_neg" id="571" inline="false">
                                        <field name="OP">NEG</field>
                                        <value name="NUM">
                                          <block type="math_multiply" id="572" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="lexical_variable_get" id="573">
                                                <field name="VAR">shrinkSize</field>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_trig" id="574" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="575">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="576">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="component_set_get" id="577" inline="false">
                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col1"></mutation>
                            <field name="COMPONENT_SELECTOR">Row2Col1</field>
                            <field name="PROP">Width</field>
                            <value name="VALUE">
                              <block type="lexical_variable_get" id="578">
                                <field name="VAR">leftSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="579" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col1"></mutation>
                                <field name="COMPONENT_SELECTOR">Row3Col1</field>
                                <field name="PROP">Width</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="580">
                                    <field name="VAR">leftSize</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="581" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col1"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row4Col1</field>
                                    <field name="PROP">Width</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="582">
                                        <field name="VAR">leftSize</field>
                                      </block>
                                    </value>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <next>
                          <block type="local_declaration_statement" id="583" inline="false">
                            <mutation>
                              <localname name="rightSize"></localname>
                            </mutation>
                            <field name="VAR0">rightSize</field>
                            <value name="DECL0">
                              <block type="math_on_list" id="584" inline="false">
                                <mutation items="2"></mutation>
                                <field name="OP">MAX</field>
                                <value name="NUM0">
                                  <block type="math_multiply" id="585" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_number" id="586">
                                        <field name="NUM">64</field>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_abs" id="587" inline="false">
                                        <field name="OP">ABS</field>
                                        <value name="NUM">
                                          <block type="math_cos" id="588" inline="false">
                                            <field name="OP">SIN</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="589">
                                                <field name="VAR">global MapSlideDirection</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_add" id="590" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_on_list" id="591" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MAX</field>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="592" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="lexical_variable_get" id="593">
                                                <field name="VAR">shrinkSize</field>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_trig" id="594" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="595">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="596">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_on_list" id="597" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MAX</field>
                                        <value name="NUM0">
                                          <block type="math_neg" id="598" inline="false">
                                            <field name="OP">NEG</field>
                                            <value name="NUM">
                                              <block type="math_multiply" id="599" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="600">
                                                    <field name="VAR">global MapSlideGrowthSize</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_trig" id="601" inline="false">
                                                    <field name="OP">COS</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="602">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="603">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="STACK">
                              <block type="component_set_get" id="604" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col5"></mutation>
                                <field name="COMPONENT_SELECTOR">Row2Col5</field>
                                <field name="PROP">Width</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="605">
                                    <field name="VAR">rightSize</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="606" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row3Col5</field>
                                    <field name="PROP">Width</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="607">
                                        <field name="VAR">rightSize</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="608" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row4Col5</field>
                                        <field name="PROP">Width</field>
                                        <value name="VALUE">
                                          <block type="lexical_variable_get" id="609">
                                            <field name="VAR">rightSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <next>
                              <block type="local_declaration_statement" id="610" inline="false">
                                <mutation>
                                  <localname name="topSize"></localname>
                                </mutation>
                                <field name="VAR0">topSize</field>
                                <value name="DECL0">
                                  <block type="math_on_list" id="611" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MAX</field>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="612" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_number" id="613">
                                            <field name="NUM">64</field>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_abs" id="614" inline="false">
                                            <field name="OP">ABS</field>
                                            <value name="NUM">
                                              <block type="math_cos" id="615" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="616">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_add" id="617" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_on_list" id="618" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="619" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="620" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="621">
                                                        <field name="VAR">shrinkSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_trig" id="622" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="623">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="624">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_on_list" id="625" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="626" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="627">
                                                    <field name="VAR">global MapSlideGrowthSize</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_trig" id="628" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="629">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="630">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="STACK">
                                  <block type="component_set_get" id="631" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row1</field>
                                    <field name="PROP">Height</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="632">
                                        <field name="VAR">topSize</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <next>
                                  <block type="local_declaration_statement" id="633" inline="false">
                                    <mutation>
                                      <localname name="bottomSize"></localname>
                                    </mutation>
                                    <field name="VAR0">bottomSize</field>
                                    <value name="DECL0">
                                      <block type="math_on_list" id="634" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MAX</field>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="635" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_number" id="636">
                                                <field name="NUM">64</field>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_abs" id="637" inline="false">
                                                <field name="OP">ABS</field>
                                                <value name="NUM">
                                                  <block type="math_cos" id="638" inline="false">
                                                    <field name="OP">COS</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="639">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_add" id="640" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="641" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MAX</field>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="642" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="math_multiply" id="643" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="lexical_variable_get" id="644">
                                                            <field name="VAR">global MapSlideGrowthSize</field>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_trig" id="645" inline="false">
                                                            <field name="OP">SIN</field>
                                                            <value name="NUM">
                                                              <block type="lexical_variable_get" id="646">
                                                                <field name="VAR">global MapSlideDirection</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="647">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_on_list" id="648" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MAX</field>
                                                <value name="NUM0">
                                                  <block type="math_multiply" id="649" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="lexical_variable_get" id="650">
                                                        <field name="VAR">shrinkSize</field>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_trig" id="651" inline="false">
                                                        <field name="OP">SIN</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="652">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="653">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <statement name="STACK">
                                      <block type="component_set_get" id="654" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row5</field>
                                        <field name="PROP">Height</field>
                                        <value name="VALUE">
                                          <block type="lexical_variable_get" id="655">
                                            <field name="VAR">bottomSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="656" inline="false" collapsed="true" x="4179" y="678">
    <field name="NAME">MapCanvasesAll</field>
    <value name="VALUE">
      <block type="lists_create_with" id="657">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="658" collapsed="true" x="3358" y="729">
    <mutation component_type="Button" instance_name="DownButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">DownButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="659" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="660">
            <field name="NUM">270</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="661" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="662">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="663" inline="false" collapsed="true" x="3639" y="729">
    <field name="NAME">TerrainJson</field>
    <value name="VALUE">
      <block type="lists_create_with" id="664">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="665" collapsed="true" x="3906" y="729">
    <mutation component_type="Button" instance_name="CollapseButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">CollapseButton</field>
    <statement name="DO">
      <block type="component_set_get" id="666" inline="false">
        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
        <field name="COMPONENT_SELECTOR">Row1</field>
        <field name="PROP">Height</field>
        <value name="VALUE">
          <block type="math_number" id="667">
            <field name="NUM">0</field>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="668" inline="false">
            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row2"></mutation>
            <field name="COMPONENT_SELECTOR">Row2</field>
            <field name="PROP">Height</field>
            <value name="VALUE">
              <block type="math_number" id="669">
                <field name="NUM">0</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="670" inline="false">
                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row4"></mutation>
                <field name="COMPONENT_SELECTOR">Row4</field>
                <field name="PROP">Height</field>
                <value name="VALUE">
                  <block type="math_number" id="671">
                    <field name="NUM">0</field>
                  </block>
                </value>
                <next>
                  <block type="component_set_get" id="672" inline="false">
                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row5</field>
                    <field name="PROP">Height</field>
                    <value name="VALUE">
                      <block type="math_number" id="673">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                    <next>
                      <block type="component_set_get" id="674" inline="false">
                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col1"></mutation>
                        <field name="COMPONENT_SELECTOR">Row3Col1</field>
                        <field name="PROP">Width</field>
                        <value name="VALUE">
                          <block type="math_number" id="675">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                        <next>
                          <block type="component_set_get" id="676" inline="false">
                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col2"></mutation>
                            <field name="COMPONENT_SELECTOR">Row3Col2</field>
                            <field name="PROP">Width</field>
                            <value name="VALUE">
                              <block type="math_number" id="677">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="678" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col4"></mutation>
                                <field name="COMPONENT_SELECTOR">Row3Col4</field>
                                <field name="PROP">Width</field>
                                <value name="VALUE">
                                  <block type="math_number" id="679">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="680" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row3Col5</field>
                                    <field name="PROP">Width</field>
                                    <value name="VALUE">
                                      <block type="math_number" id="681">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="682" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col3"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                        <field name="PROP">Width</field>
                                        <value name="VALUE">
                                          <block type="math_number" id="683">
                                            <field name="NUM">320</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_set_get" id="684" inline="false">
                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row3Col3"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                            <field name="PROP">Height</field>
                                            <value name="VALUE">
                                              <block type="math_number" id="685">
                                                <field name="NUM">320</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="component_set_get" id="686" inline="false">
                                                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                <field name="PROP">Width</field>
                                                <value name="VALUE">
                                                  <block type="math_number" id="687">
                                                    <field name="NUM">320</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="component_set_get" id="688" inline="false">
                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                    <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                    <field name="PROP">Height</field>
                                                    <value name="VALUE">
                                                      <block type="math_number" id="689">
                                                        <field name="NUM">320</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type="component_set_get" id="690" inline="false">
                                                        <mutation component_type="ImageSprite" set_or_get="set" property_name="Visible" is_generic="false" instance_name="Character"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Character</field>
                                                        <field name="PROP">Visible</field>
                                                        <value name="VALUE">
                                                          <block type="logic_false" id="691">
                                                            <field name="BOOL">TRUE</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type="component_set_get" id="692" inline="false">
                                                            <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
                                                            <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
                                                            <field name="PROP">TimerEnabled</field>
                                                            <value name="VALUE">
                                                              <block type="logic_boolean" id="693">
                                                                <field name="BOOL">FALSE</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type="component_set_get" id="694" inline="false">
                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R3C2Canvas"></mutation>
                                                                <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                                                                <field name="PROP">Width</field>
                                                                <value name="VALUE">
                                                                  <block type="math_number" id="695">
                                                                    <field name="NUM">1</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type="component_set_get" id="696" inline="false">
                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R3C2Canvas"></mutation>
                                                                    <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                                                                    <field name="PROP">Height</field>
                                                                    <value name="VALUE">
                                                                      <block type="math_number" id="697">
                                                                        <field name="NUM">1</field>
                                                                      </block>
                                                                    </value>
                                                                    <next>
                                                                      <block type="component_set_get" id="698" inline="false">
                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R3C4Canvas"></mutation>
                                                                        <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                                                                        <field name="PROP">Width</field>
                                                                        <value name="VALUE">
                                                                          <block type="math_number" id="699">
                                                                            <field name="NUM">1</field>
                                                                          </block>
                                                                        </value>
                                                                        <next>
                                                                          <block type="component_set_get" id="700" inline="false">
                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R3C4Canvas"></mutation>
                                                                            <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                                                                            <field name="PROP">Height</field>
                                                                            <value name="VALUE">
                                                                              <block type="math_number" id="701">
                                                                                <field name="NUM">1</field>
                                                                              </block>
                                                                            </value>
                                                                            <next>
                                                                              <block type="component_set_get" id="702" inline="false">
                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R2C2Canvas"></mutation>
                                                                                <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
                                                                                <field name="PROP">Width</field>
                                                                                <value name="VALUE">
                                                                                  <block type="math_number" id="703">
                                                                                    <field name="NUM">1</field>
                                                                                  </block>
                                                                                </value>
                                                                                <next>
                                                                                  <block type="component_set_get" id="704" inline="false">
                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R2C2Canvas"></mutation>
                                                                                    <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
                                                                                    <field name="PROP">Height</field>
                                                                                    <value name="VALUE">
                                                                                      <block type="math_number" id="705">
                                                                                        <field name="NUM">1</field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <next>
                                                                                      <block type="component_set_get" id="706" inline="false">
                                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R2C3Canvas"></mutation>
                                                                                        <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                                                                                        <field name="PROP">Width</field>
                                                                                        <value name="VALUE">
                                                                                          <block type="math_number" id="707">
                                                                                            <field name="NUM">1</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type="component_set_get" id="708" inline="false">
                                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R2C3Canvas"></mutation>
                                                                                            <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                                                                                            <field name="PROP">Height</field>
                                                                                            <value name="VALUE">
                                                                                              <block type="math_number" id="709">
                                                                                                <field name="NUM">1</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <next>
                                                                                              <block type="component_set_get" id="710" inline="false">
                                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R2C4Canvas"></mutation>
                                                                                                <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
                                                                                                <field name="PROP">Width</field>
                                                                                                <value name="VALUE">
                                                                                                  <block type="math_number" id="711">
                                                                                                    <field name="NUM">1</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type="component_set_get" id="712" inline="false">
                                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R2C4Canvas"></mutation>
                                                                                                    <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
                                                                                                    <field name="PROP">Height</field>
                                                                                                    <value name="VALUE">
                                                                                                      <block type="math_number" id="713">
                                                                                                        <field name="NUM">1</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <next>
                                                                                                      <block type="component_set_get" id="714" inline="false">
                                                                                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col1"></mutation>
                                                                                                        <field name="COMPONENT_SELECTOR">Row2Col1</field>
                                                                                                        <field name="PROP">Width</field>
                                                                                                        <value name="VALUE">
                                                                                                          <block type="math_number" id="715">
                                                                                                            <field name="NUM">0</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type="component_set_get" id="716" inline="false">
                                                                                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col2"></mutation>
                                                                                                            <field name="COMPONENT_SELECTOR">Row2Col2</field>
                                                                                                            <field name="PROP">Width</field>
                                                                                                            <value name="VALUE">
                                                                                                              <block type="math_number" id="717">
                                                                                                                <field name="NUM">0</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <next>
                                                                                                              <block type="component_set_get" id="718" inline="false">
                                                                                                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col4"></mutation>
                                                                                                                <field name="COMPONENT_SELECTOR">Row2Col4</field>
                                                                                                                <field name="PROP">Width</field>
                                                                                                                <value name="VALUE">
                                                                                                                  <block type="math_number" id="719">
                                                                                                                    <field name="NUM">0</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type="component_set_get" id="720" inline="false">
                                                                                                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col5"></mutation>
                                                                                                                    <field name="COMPONENT_SELECTOR">Row2Col5</field>
                                                                                                                    <field name="PROP">Width</field>
                                                                                                                    <value name="VALUE">
                                                                                                                      <block type="math_number" id="721">
                                                                                                                        <field name="NUM">0</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <next>
                                                                                                                      <block type="component_set_get" id="722" inline="false">
                                                                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R4C2Canvas"></mutation>
                                                                                                                        <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
                                                                                                                        <field name="PROP">Width</field>
                                                                                                                        <value name="VALUE">
                                                                                                                          <block type="math_number" id="723">
                                                                                                                            <field name="NUM">1</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                        <next>
                                                                                                                          <block type="component_set_get" id="724" inline="false">
                                                                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R4C2Canvas"></mutation>
                                                                                                                            <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
                                                                                                                            <field name="PROP">Height</field>
                                                                                                                            <value name="VALUE">
                                                                                                                              <block type="math_number" id="725">
                                                                                                                                <field name="NUM">1</field>
                                                                                                                              </block>
                                                                                                                            </value>
                                                                                                                            <next>
                                                                                                                              <block type="component_set_get" id="726" inline="false">
                                                                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R4C3Canvas"></mutation>
                                                                                                                                <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                                                                                                                <field name="PROP">Width</field>
                                                                                                                                <value name="VALUE">
                                                                                                                                  <block type="math_number" id="727">
                                                                                                                                    <field name="NUM">1</field>
                                                                                                                                  </block>
                                                                                                                                </value>
                                                                                                                                <next>
                                                                                                                                  <block type="component_set_get" id="728" inline="false">
                                                                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R4C3Canvas"></mutation>
                                                                                                                                    <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                                                                                                                    <field name="PROP">Height</field>
                                                                                                                                    <value name="VALUE">
                                                                                                                                      <block type="math_number" id="729">
                                                                                                                                        <field name="NUM">1</field>
                                                                                                                                      </block>
                                                                                                                                    </value>
                                                                                                                                    <next>
                                                                                                                                      <block type="component_set_get" id="730" inline="false">
                                                                                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R4C4Canvas"></mutation>
                                                                                                                                        <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
                                                                                                                                        <field name="PROP">Width</field>
                                                                                                                                        <value name="VALUE">
                                                                                                                                          <block type="math_number" id="731">
                                                                                                                                            <field name="NUM">1</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                        <next>
                                                                                                                                          <block type="component_set_get" id="732" inline="false">
                                                                                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R4C4Canvas"></mutation>
                                                                                                                                            <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
                                                                                                                                            <field name="PROP">Height</field>
                                                                                                                                            <value name="VALUE">
                                                                                                                                              <block type="math_number" id="733">
                                                                                                                                                <field name="NUM">1</field>
                                                                                                                                              </block>
                                                                                                                                            </value>
                                                                                                                                            <next>
                                                                                                                                              <block type="component_set_get" id="734" inline="false">
                                                                                                                                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col1"></mutation>
                                                                                                                                                <field name="COMPONENT_SELECTOR">Row4Col1</field>
                                                                                                                                                <field name="PROP">Width</field>
                                                                                                                                                <value name="VALUE">
                                                                                                                                                  <block type="math_number" id="735">
                                                                                                                                                    <field name="NUM">0</field>
                                                                                                                                                  </block>
                                                                                                                                                </value>
                                                                                                                                                <next>
                                                                                                                                                  <block type="component_set_get" id="736" inline="false">
                                                                                                                                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col2"></mutation>
                                                                                                                                                    <field name="COMPONENT_SELECTOR">Row4Col2</field>
                                                                                                                                                    <field name="PROP">Width</field>
                                                                                                                                                    <value name="VALUE">
                                                                                                                                                      <block type="math_number" id="737">
                                                                                                                                                        <field name="NUM">0</field>
                                                                                                                                                      </block>
                                                                                                                                                    </value>
                                                                                                                                                    <next>
                                                                                                                                                      <block type="component_set_get" id="738" inline="false">
                                                                                                                                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col4"></mutation>
                                                                                                                                                        <field name="COMPONENT_SELECTOR">Row4Col4</field>
                                                                                                                                                        <field name="PROP">Width</field>
                                                                                                                                                        <value name="VALUE">
                                                                                                                                                          <block type="math_number" id="739">
                                                                                                                                                            <field name="NUM">0</field>
                                                                                                                                                          </block>
                                                                                                                                                        </value>
                                                                                                                                                        <next>
                                                                                                                                                          <block type="component_set_get" id="740" inline="false">
                                                                                                                                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col5"></mutation>
                                                                                                                                                            <field name="COMPONENT_SELECTOR">Row2Col5</field>
                                                                                                                                                            <field name="PROP">Width</field>
                                                                                                                                                            <value name="VALUE">
                                                                                                                                                              <block type="math_number" id="741">
                                                                                                                                                                <field name="NUM">0</field>
                                                                                                                                                              </block>
                                                                                                                                                            </value>
                                                                                                                                                            <next>
                                                                                                                                                              <block type="component_set_get" id="742" inline="false">
                                                                                                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                                                                                                                                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                                                                                                                                <field name="PROP">BackgroundImage</field>
                                                                                                                                                                <value name="VALUE">
                                                                                                                                                                  <block type="text" id="743">
                                                                                                                                                                    <field name="TEXT">back11.png</field>
                                                                                                                                                                  </block>
                                                                                                                                                                </value>
                                                                                                                                                                <next>
                                                                                                                                                                  <block type="component_set_get" id="744" inline="false">
                                                                                                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Visible" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                                                                                                                                    <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                                                                                                                                    <field name="PROP">Visible</field>
                                                                                                                                                                    <value name="VALUE">
                                                                                                                                                                      <block type="logic_boolean" id="745">
                                                                                                                                                                        <field name="BOOL">TRUE</field>
                                                                                                                                                                      </block>
                                                                                                                                                                    </value>
                                                                                                                                                                  </block>
                                                                                                                                                                </next>
                                                                                                                                                              </block>
                                                                                                                                                            </next>
                                                                                                                                                          </block>
                                                                                                                                                        </next>
                                                                                                                                                      </block>
                                                                                                                                                    </next>
                                                                                                                                                  </block>
                                                                                                                                                </next>
                                                                                                                                              </block>
                                                                                                                                            </next>
                                                                                                                                          </block>
                                                                                                                                        </next>
                                                                                                                                      </block>
                                                                                                                                    </next>
                                                                                                                                  </block>
                                                                                                                                </next>
                                                                                                                              </block>
                                                                                                                            </next>
                                                                                                                          </block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="746" inline="false" collapsed="true" x="3088" y="780">
    <field name="NAME">CharacterHeading</field>
    <value name="VALUE">
      <block type="math_number" id="747">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="component_event" id="748" collapsed="true" x="4179" y="729">
    <mutation component_type="Clock" instance_name="ZoomInMapTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">ZoomInMapTimer</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="749" inline="false">
        <field name="VAR">global MapSlideGrowthSize</field>
        <value name="VALUE">
          <block type="math_add" id="750" inline="true">
            <mutation items="2"></mutation>
            <value name="NUM0">
              <block type="lexical_variable_get" id="751">
                <field name="VAR">global MapSlideGrowthSize</field>
              </block>
            </value>
            <value name="NUM1">
              <block type="math_multiply" id="752" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="753">
                    <field name="VAR">global MapSpeed</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="math_number" id="754">
                    <field name="NUM">4</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="755" inline="false">
            <field name="VAR">global MapShrinkSize</field>
            <value name="VALUE">
              <block type="math_subtract" id="756" inline="true">
                <value name="A">
                  <block type="lexical_variable_get" id="757">
                    <field name="VAR">global MapShrinkSize</field>
                  </block>
                </value>
                <value name="B">
                  <block type="lexical_variable_get" id="758">
                    <field name="VAR">global MapSpeed</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_if" id="759" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="760" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="761">
                        <field name="VAR">global MapShrinkSize</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="762">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="component_set_get" id="763" inline="false">
                    <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomInMapTimer"></mutation>
                    <field name="COMPONENT_SELECTOR">ZoomInMapTimer</field>
                    <field name="PROP">TimerEnabled</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="764">
                        <field name="BOOL">FALSE</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="765" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="766" inline="true">
                        <field name="OP">GTE</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="767">
                            <field name="VAR">global MapShrinkSize</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="768">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="local_declaration_statement" id="769" inline="false">
                        <mutation>
                          <localname name="doubleMapShrinkSize"></localname>
                        </mutation>
                        <field name="VAR0">doubleMapShrinkSize</field>
                        <value name="DECL0">
                          <block type="math_multiply" id="770" inline="true">
                            <mutation items="2"></mutation>
                            <value name="NUM0">
                              <block type="lexical_variable_get" id="771">
                                <field name="VAR">global MapShrinkSize</field>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_number" id="772">
                                <field name="NUM">2</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="procedures_callnoreturn" id="773" inline="false">
                            <mutation name="ResizeMapCells">
                              <arg name="canvases"></arg>
                              <arg name="cells"></arg>
                              <arg name="size"></arg>
                            </mutation>
                            <field name="PROCNAME">ResizeMapCells</field>
                            <value name="ARG0">
                              <block type="lists_create_with" id="774">
                                <mutation items="0"></mutation>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="775">
                                <field name="VAR">global MapBorderCellsLeft</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="math_on_list" id="776" inline="false">
                                <mutation items="2"></mutation>
                                <field name="OP">MIN</field>
                                <value name="NUM0">
                                  <block type="math_add" id="777" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="778" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_on_list" id="779" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_cos" id="780" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="781">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="782">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="783">
                                            <field name="VAR">doubleMapShrinkSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_multiply" id="784" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_add" id="785" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="786" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MIN</field>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="787" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="math_cos" id="788" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="789">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="790">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="791">
                                                <field name="NUM">1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="792">
                                            <field name="VAR">global MapShrinkSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="component_set_get" id="793">
                                    <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Width" is_generic="false" instance_name="Row3Col1"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row3Col1</field>
                                    <field name="PROP">Width</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type="procedures_callnoreturn" id="794" inline="false">
                                <mutation name="ResizeMapCells">
                                  <arg name="canvases"></arg>
                                  <arg name="cells"></arg>
                                  <arg name="size"></arg>
                                </mutation>
                                <field name="PROCNAME">ResizeMapCells</field>
                                <value name="ARG0">
                                  <block type="lists_create_with" id="795">
                                    <mutation items="0"></mutation>
                                  </block>
                                </value>
                                <value name="ARG1">
                                  <block type="lexical_variable_get" id="796">
                                    <field name="VAR">global MapBorderCellsRight</field>
                                  </block>
                                </value>
                                <value name="ARG2">
                                  <block type="math_on_list" id="797" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MIN</field>
                                    <value name="NUM0">
                                      <block type="math_add" id="798" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="799" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="800" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MAX</field>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="801" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="math_cos" id="802" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="803">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="804">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="805">
                                                <field name="VAR">doubleMapShrinkSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_multiply" id="806" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_add" id="807" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="808" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MIN</field>
                                                    <value name="NUM0">
                                                      <block type="math_cos" id="809" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="810">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="811">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="812">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="813">
                                                <field name="VAR">global MapShrinkSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="component_set_get" id="814">
                                        <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Width" is_generic="false" instance_name="Row3Col5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row3Col5</field>
                                        <field name="PROP">Width</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="815" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row1</field>
                                    <field name="PROP">Height</field>
                                    <value name="VALUE">
                                      <block type="math_on_list" id="816" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MIN</field>
                                        <value name="NUM0">
                                          <block type="math_add" id="817" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="818" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="819" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MAX</field>
                                                    <value name="NUM0">
                                                      <block type="math_cos" id="820" inline="false">
                                                        <field name="OP">SIN</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="821">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="822">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="823">
                                                    <field name="VAR">doubleMapShrinkSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_multiply" id="824" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_add" id="825" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="826" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MIN</field>
                                                        <value name="NUM0">
                                                          <block type="math_neg" id="827" inline="false">
                                                            <field name="OP">NEG</field>
                                                            <value name="NUM">
                                                              <block type="math_cos" id="828" inline="false">
                                                                <field name="OP">SIN</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="829">
                                                                    <field name="VAR">global MapSlideDirection</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="830">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="831">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="832">
                                                    <field name="VAR">global MapShrinkSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="component_set_get" id="833">
                                            <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row1</field>
                                            <field name="PROP">Height</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="834" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row5</field>
                                        <field name="PROP">Height</field>
                                        <value name="VALUE">
                                          <block type="math_on_list" id="835" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MIN</field>
                                            <value name="NUM0">
                                              <block type="math_add" id="836" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_multiply" id="837" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="838" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MAX</field>
                                                        <value name="NUM0">
                                                          <block type="math_neg" id="839" inline="false">
                                                            <field name="OP">NEG</field>
                                                            <value name="NUM">
                                                              <block type="math_cos" id="840" inline="false">
                                                                <field name="OP">SIN</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="841">
                                                                    <field name="VAR">global MapSlideDirection</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="842">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="843">
                                                        <field name="VAR">doubleMapShrinkSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_multiply" id="844" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_add" id="845" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_on_list" id="846" inline="false">
                                                            <mutation items="2"></mutation>
                                                            <field name="OP">MIN</field>
                                                            <value name="NUM0">
                                                              <block type="math_cos" id="847" inline="false">
                                                                <field name="OP">SIN</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="848">
                                                                    <field name="VAR">global MapSlideDirection</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                            <value name="NUM1">
                                                              <block type="math_number" id="849">
                                                                <field name="NUM">0</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="850">
                                                            <field name="NUM">1</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="851">
                                                        <field name="VAR">global MapShrinkSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="component_set_get" id="852">
                                                <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                                <field name="COMPONENT_SELECTOR">Row5</field>
                                                <field name="PROP">Height</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <next>
                          <block type="procedures_callnoreturn" id="853" inline="false">
                            <mutation name="ResizeMapCells">
                              <arg name="canvases"></arg>
                              <arg name="cells"></arg>
                              <arg name="size"></arg>
                            </mutation>
                            <field name="PROCNAME">ResizeMapCells</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="854">
                                <field name="VAR">global MapCornerCanvases</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="855">
                                <field name="VAR">global MapCornerCells</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="lexical_variable_get" id="856">
                                <field name="VAR">global MapShrinkSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="procedures_callnoreturn" id="857" inline="false">
                                <mutation name="ResizeMapCells">
                                  <arg name="canvases"></arg>
                                  <arg name="cells"></arg>
                                  <arg name="size"></arg>
                                </mutation>
                                <field name="PROCNAME">ResizeMapCells</field>
                                <value name="ARG0">
                                  <block type="lists_create_with" id="858" inline="false">
                                    <mutation items="1"></mutation>
                                    <value name="ADD0">
                                      <block type="component_component_block" id="859">
                                        <mutation component_type="Canvas" instance_name="WorldCanvas"></mutation>
                                        <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ARG1">
                                  <block type="lists_create_with" id="860" inline="false">
                                    <mutation items="1"></mutation>
                                    <value name="ADD0">
                                      <block type="component_component_block" id="861">
                                        <mutation component_type="HorizontalArrangement" instance_name="Row3Col3"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ARG2">
                                  <block type="lexical_variable_get" id="862">
                                    <field name="VAR">global MapShrinkSize</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="procedures_callnoreturn" id="863" inline="false">
                                    <mutation name="ResizeMapCells">
                                      <arg name="canvases"></arg>
                                      <arg name="cells"></arg>
                                      <arg name="size"></arg>
                                    </mutation>
                                    <field name="PROCNAME">ResizeMapCells</field>
                                    <value name="ARG0">
                                      <block type="lists_create_with" id="864" inline="false">
                                        <mutation items="1"></mutation>
                                        <value name="ADD0">
                                          <block type="component_component_block" id="865">
                                            <mutation component_type="Canvas" instance_name="R3C4Canvas"></mutation>
                                            <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ARG1">
                                      <block type="lists_create_with" id="866" inline="false">
                                        <mutation items="1"></mutation>
                                        <value name="ADD0">
                                          <block type="component_component_block" id="867">
                                            <mutation component_type="HorizontalArrangement" instance_name="Row3Col4"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row3Col4</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ARG2">
                                      <block type="math_add" id="868" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="869" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="870" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MAX</field>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="871" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="math_cos" id="872" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="873">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="874">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="875">
                                                <field name="VAR">global MapSlideGrowthSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_multiply" id="876" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_add" id="877" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="878" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MIN</field>
                                                    <value name="NUM0">
                                                      <block type="math_cos" id="879" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="880">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="881">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="882">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="883">
                                                <field name="VAR">global MapShrinkSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="procedures_callnoreturn" id="884" inline="false">
                                        <mutation name="ResizeMapCells">
                                          <arg name="canvases"></arg>
                                          <arg name="cells"></arg>
                                          <arg name="size"></arg>
                                        </mutation>
                                        <field name="PROCNAME">ResizeMapCells</field>
                                        <value name="ARG0">
                                          <block type="lists_create_with" id="885" inline="false">
                                            <mutation items="1"></mutation>
                                            <value name="ADD0">
                                              <block type="component_component_block" id="886">
                                                <mutation component_type="Canvas" instance_name="R3C2Canvas"></mutation>
                                                <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="ARG1">
                                          <block type="lists_create_with" id="887" inline="false">
                                            <mutation items="1"></mutation>
                                            <value name="ADD0">
                                              <block type="component_component_block" id="888">
                                                <mutation component_type="HorizontalArrangement" instance_name="Row3Col2"></mutation>
                                                <field name="COMPONENT_SELECTOR">Row3Col2</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="ARG2">
                                          <block type="math_add" id="889" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="890" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="891" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MAX</field>
                                                    <value name="NUM0">
                                                      <block type="math_cos" id="892" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="893">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="894">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="895">
                                                    <field name="VAR">global MapSlideGrowthSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_multiply" id="896" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_add" id="897" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="898" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MIN</field>
                                                        <value name="NUM0">
                                                          <block type="math_neg" id="899" inline="false">
                                                            <field name="OP">NEG</field>
                                                            <value name="NUM">
                                                              <block type="math_cos" id="900" inline="false">
                                                                <field name="OP">COS</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="901">
                                                                    <field name="VAR">global MapSlideDirection</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="902">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="903">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="904">
                                                    <field name="VAR">global MapShrinkSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="local_declaration_statement" id="905" inline="false">
                                            <mutation>
                                              <localname name="top"></localname>
                                            </mutation>
                                            <field name="VAR0">top</field>
                                            <value name="DECL0">
                                              <block type="math_add" id="906" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_multiply" id="907" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="908" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MAX</field>
                                                        <value name="NUM0">
                                                          <block type="math_cos" id="909" inline="false">
                                                            <field name="OP">SIN</field>
                                                            <value name="NUM">
                                                              <block type="lexical_variable_get" id="910">
                                                                <field name="VAR">global MapSlideDirection</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="911">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="912">
                                                        <field name="VAR">global MapSlideGrowthSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_multiply" id="913" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_add" id="914" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_on_list" id="915" inline="false">
                                                            <mutation items="2"></mutation>
                                                            <field name="OP">MIN</field>
                                                            <value name="NUM0">
                                                              <block type="math_neg" id="916" inline="false">
                                                                <field name="OP">NEG</field>
                                                                <value name="NUM">
                                                                  <block type="math_cos" id="917" inline="false">
                                                                    <field name="OP">SIN</field>
                                                                    <value name="NUM">
                                                                      <block type="lexical_variable_get" id="918">
                                                                        <field name="VAR">global MapSlideDirection</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                            <value name="NUM1">
                                                              <block type="math_number" id="919">
                                                                <field name="NUM">0</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="920">
                                                            <field name="NUM">1</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="921">
                                                        <field name="VAR">global MapShrinkSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <statement name="STACK">
                                              <block type="procedures_callnoreturn" id="922" inline="false">
                                                <mutation name="ResizeMapCells">
                                                  <arg name="canvases"></arg>
                                                  <arg name="cells"></arg>
                                                  <arg name="size"></arg>
                                                </mutation>
                                                <field name="PROCNAME">ResizeMapCells</field>
                                                <value name="ARG0">
                                                  <block type="lists_create_with" id="923" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="924">
                                                        <mutation component_type="Canvas" instance_name="R2C3Canvas"></mutation>
                                                        <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG1">
                                                  <block type="lists_create_with" id="925" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="926">
                                                        <mutation component_type="HorizontalArrangement" instance_name="Row2Col3"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Row2Col3</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG2">
                                                  <block type="lexical_variable_get" id="927">
                                                    <field name="VAR">top</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="component_set_get" id="928" inline="false">
                                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row2"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Row2</field>
                                                    <field name="PROP">Height</field>
                                                    <value name="VALUE">
                                                      <block type="lexical_variable_get" id="929">
                                                        <field name="VAR">top</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </next>
                                              </block>
                                            </statement>
                                            <next>
                                              <block type="local_declaration_statement" id="930" inline="false">
                                                <mutation>
                                                  <localname name="bottom"></localname>
                                                </mutation>
                                                <field name="VAR0">bottom</field>
                                                <value name="DECL0">
                                                  <block type="math_add" id="931" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_multiply" id="932" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_on_list" id="933" inline="false">
                                                            <mutation items="2"></mutation>
                                                            <field name="OP">MAX</field>
                                                            <value name="NUM0">
                                                              <block type="math_neg" id="934" inline="false">
                                                                <field name="OP">NEG</field>
                                                                <value name="NUM">
                                                                  <block type="math_cos" id="935" inline="false">
                                                                    <field name="OP">SIN</field>
                                                                    <value name="NUM">
                                                                      <block type="lexical_variable_get" id="936">
                                                                        <field name="VAR">global MapSlideDirection</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                            <value name="NUM1">
                                                              <block type="math_number" id="937">
                                                                <field name="NUM">0</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="lexical_variable_get" id="938">
                                                            <field name="VAR">global MapSlideGrowthSize</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_multiply" id="939" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_add" id="940" inline="true">
                                                            <mutation items="2"></mutation>
                                                            <value name="NUM0">
                                                              <block type="math_on_list" id="941" inline="false">
                                                                <mutation items="2"></mutation>
                                                                <field name="OP">MIN</field>
                                                                <value name="NUM0">
                                                                  <block type="math_cos" id="942" inline="false">
                                                                    <field name="OP">SIN</field>
                                                                    <value name="NUM">
                                                                      <block type="lexical_variable_get" id="943">
                                                                        <field name="VAR">global MapSlideDirection</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                                <value name="NUM1">
                                                                  <block type="math_number" id="944">
                                                                    <field name="NUM">0</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                            <value name="NUM1">
                                                              <block type="math_number" id="945">
                                                                <field name="NUM">1</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="lexical_variable_get" id="946">
                                                            <field name="VAR">global MapShrinkSize</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <statement name="STACK">
                                                  <block type="procedures_callnoreturn" id="947" inline="false">
                                                    <mutation name="ResizeMapCells">
                                                      <arg name="canvases"></arg>
                                                      <arg name="cells"></arg>
                                                      <arg name="size"></arg>
                                                    </mutation>
                                                    <field name="PROCNAME">ResizeMapCells</field>
                                                    <value name="ARG0">
                                                      <block type="lists_create_with" id="948" inline="false">
                                                        <mutation items="1"></mutation>
                                                        <value name="ADD0">
                                                          <block type="component_component_block" id="949">
                                                            <mutation component_type="Canvas" instance_name="R4C3Canvas"></mutation>
                                                            <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="ARG1">
                                                      <block type="lists_create_with" id="950" inline="false">
                                                        <mutation items="1"></mutation>
                                                        <value name="ADD0">
                                                          <block type="component_component_block" id="951">
                                                            <mutation component_type="HorizontalArrangement" instance_name="Row4Col3"></mutation>
                                                            <field name="COMPONENT_SELECTOR">Row4Col3</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="ARG2">
                                                      <block type="lexical_variable_get" id="952">
                                                        <field name="VAR">bottom</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type="component_set_get" id="953" inline="false">
                                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row4"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Row4</field>
                                                        <field name="PROP">Height</field>
                                                        <value name="VALUE">
                                                          <block type="lexical_variable_get" id="954">
                                                            <field name="VAR">bottom</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </statement>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="955" inline="false" collapsed="true" x="3358" y="780">
    <mutation>
      <arg name="obstacleName"></arg>
    </mutation>
    <field name="NAME">GetTerrainObstacleIndices</field>
    <field name="VAR0">obstacleName</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="956" inline="false">
        <mutation>
          <localname name="tilesetIndices"></localname>
        </mutation>
        <field name="VAR0">tilesetIndices</field>
        <value name="DECL0">
          <block type="lists_create_with" id="957">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="958" inline="false">
            <statement name="STM">
              <block type="controls_forEach" id="959" inline="false">
                <field name="VAR">tileset</field>
                <value name="LIST">
                  <block type="procedures_callreturn" id="960" inline="false">
                    <mutation name="jsonLookup">
                      <arg name="query"></arg>
                      <arg name="json"></arg>
                    </mutation>
                    <field name="PROCNAME">jsonLookup</field>
                    <value name="ARG0">
                      <block type="text" id="961">
                        <field name="TEXT">tilesets</field>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="lexical_variable_get" id="962">
                        <field name="VAR">global TerrainJson</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="local_declaration_statement" id="963" inline="false">
                    <mutation>
                      <localname name="obstacleIndices"></localname>
                    </mutation>
                    <field name="VAR0">obstacleIndices</field>
                    <value name="DECL0">
                      <block type="lists_create_with" id="964">
                        <mutation items="0"></mutation>
                      </block>
                    </value>
                    <statement name="STACK">
                      <block type="local_declaration_statement" id="965" inline="false">
                        <mutation>
                          <localname name="terrains"></localname>
                        </mutation>
                        <field name="VAR0">terrains</field>
                        <value name="DECL0">
                          <block type="lists_lookup_in_pairs" id="966" inline="false">
                            <value name="KEY">
                              <block type="text" id="967">
                                <field name="TEXT">terrains</field>
                              </block>
                            </value>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="968">
                                <field name="VAR">tileset</field>
                              </block>
                            </value>
                            <value name="NOTFOUND">
                              <block type="text" id="969">
                                <field name="TEXT">not found terrain</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="controls_forRange" id="970" inline="false">
                            <field name="VAR">index</field>
                            <value name="START">
                              <block type="math_number" id="971">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                            <value name="END">
                              <block type="lists_length" id="972" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="973">
                                    <field name="VAR">terrains</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="STEP">
                              <block type="math_number" id="974">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                            <statement name="DO">
                              <block type="controls_if" id="975" inline="false">
                                <value name="IF0">
                                  <block type="text_contains" id="976" inline="false">
                                    <value name="TEXT">
                                      <block type="lists_lookup_in_pairs" id="977" inline="false">
                                        <value name="KEY">
                                          <block type="text" id="978">
                                            <field name="TEXT">name</field>
                                          </block>
                                        </value>
                                        <value name="LIST">
                                          <block type="lists_select_item" id="979" inline="false">
                                            <value name="LIST">
                                              <block type="lexical_variable_get" id="980">
                                                <field name="VAR">terrains</field>
                                              </block>
                                            </value>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="981">
                                                <field name="VAR">index</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NOTFOUND">
                                          <block type="text" id="982">
                                            <field name="TEXT">not found name</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="PIECE">
                                      <block type="lexical_variable_get" id="983">
                                        <field name="VAR">obstacleName</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <block type="lists_add_items" id="984" inline="false">
                                    <mutation items="1"></mutation>
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="985">
                                        <field name="VAR">obstacleIndices</field>
                                      </block>
                                    </value>
                                    <value name="ITEM0">
                                      <block type="math_subtract" id="986" inline="true">
                                        <comment pinned="false" h="80" w="160">json uses 0 indexed arrays, so subtract 1</comment>
                                        <value name="A">
                                          <block type="lexical_variable_get" id="987">
                                            <field name="VAR">index</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="math_number" id="988">
                                            <field name="NUM">1</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                              </block>
                            </statement>
                          </block>
                        </statement>
                        <next>
                          <block type="lists_add_items" id="989" inline="false">
                            <mutation items="1"></mutation>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="990">
                                <field name="VAR">tilesetIndices</field>
                              </block>
                            </value>
                            <value name="ITEM0">
                              <block type="lexical_variable_get" id="991">
                                <field name="VAR">obstacleIndices</field>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="992">
                <field name="VAR">tilesetIndices</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="993" inline="false" collapsed="true" x="3639" y="780">
    <mutation>
      <arg name="gridPosition"></arg>
    </mutation>
    <field name="NAME">PositionDoesHaveObstacle</field>
    <field name="VAR0">gridPosition</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="994" inline="false">
        <mutation>
          <localname name="hasObstacle"></localname>
        </mutation>
        <field name="VAR0">hasObstacle</field>
        <value name="DECL0">
          <block type="logic_false" id="995">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="996" inline="false">
            <statement name="STM">
              <block type="controls_forEach" id="997" inline="false">
                <field name="VAR">layer</field>
                <value name="LIST">
                  <block type="lists_lookup_in_pairs" id="998" inline="false">
                    <value name="KEY">
                      <block type="text" id="999">
                        <field name="TEXT">layers</field>
                      </block>
                    </value>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="1000">
                        <field name="VAR">global TerrainJson</field>
                      </block>
                    </value>
                    <value name="NOTFOUND">
                      <block type="text" id="1001">
                        <field name="TEXT">not found layer</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_if" id="1002" inline="false">
                    <value name="IF0">
                      <block type="lists_is_in" id="1003" inline="false">
                        <value name="ITEM">
                          <block type="lists_select_item" id="1004" inline="false">
                            <value name="LIST">
                              <block type="lists_lookup_in_pairs" id="1005" inline="false">
                                <value name="KEY">
                                  <block type="text" id="1006">
                                    <field name="TEXT">data</field>
                                  </block>
                                </value>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="1007">
                                    <field name="VAR">layer</field>
                                  </block>
                                </value>
                                <value name="NOTFOUND">
                                  <block type="text" id="1008">
                                    <field name="TEXT">not found terrainValue</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="NUM">
                              <block type="lexical_variable_get" id="1009">
                                <field name="VAR">gridPosition</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="1010">
                            <field name="VAR">global ObstacleTerrainValues</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lexical_variable_set" id="1011" inline="false">
                        <field name="VAR">hasObstacle</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="1012">
                            <field name="BOOL">TRUE</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="1013">
                <field name="VAR">hasObstacle</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="1014" inline="false" collapsed="true" x="3906" y="780">
    <field name="NAME">MapBorderCellsLeft</field>
    <value name="VALUE">
      <block type="lists_create_with" id="1015">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="1016" collapsed="true" x="3088" y="831">
    <mutation component_type="Clock" instance_name="MovementTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">MovementTimer</field>
    <statement name="DO">
      <block type="component_set_get" id="1017" inline="false">
        <mutation component_type="ImageSprite" set_or_get="set" property_name="Picture" is_generic="false" instance_name="Character"></mutation>
        <field name="COMPONENT_SELECTOR">Character</field>
        <field name="PROP">Picture</field>
        <value name="VALUE">
          <block type="text_join" id="1018" inline="false">
            <mutation items="5"></mutation>
            <value name="ADD0">
              <block type="text" id="1019">
                <field name="TEXT">walk_</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="lexical_variable_get" id="1020">
                <field name="VAR">global CharacterDirection</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="text" id="1021">
                <field name="TEXT">0</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="math_subtract" id="1022" inline="true">
                <value name="A">
                  <block type="math_number" id="1023">
                    <field name="NUM">5</field>
                  </block>
                </value>
                <value name="B">
                  <block type="lexical_variable_get" id="1024">
                    <field name="VAR">global MovementAnimationCounter</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="ADD4">
              <block type="text" id="1025">
                <field name="TEXT">.png</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="component_method" id="1026" inline="false">
            <mutation component_type="ImageSprite" method_name="MoveTo" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <value name="ARG0">
              <block type="math_add" id="1027" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="1028">
                    <field name="VAR">global Xdirection</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="component_set_get" id="1029">
                    <mutation component_type="ImageSprite" set_or_get="get" property_name="X" is_generic="false" instance_name="Character"></mutation>
                    <field name="COMPONENT_SELECTOR">Character</field>
                    <field name="PROP">X</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="ARG1">
              <block type="math_add" id="1030" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="1031">
                    <field name="VAR">global Ydirection</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="component_set_get" id="1032">
                    <mutation component_type="ImageSprite" set_or_get="get" property_name="Y" is_generic="false" instance_name="Character"></mutation>
                    <field name="COMPONENT_SELECTOR">Character</field>
                    <field name="PROP">Y</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="lexical_variable_set" id="1033" inline="false">
                <field name="VAR">global MovementAnimationCounter</field>
                <value name="VALUE">
                  <block type="math_add" id="1034" inline="true">
                    <mutation items="2"></mutation>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="1035">
                        <field name="VAR">global MovementAnimationCounter</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="1036">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="controls_if" id="1037" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="1038" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="1039">
                            <field name="VAR">global MovementAnimationCounter</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="1040">
                            <field name="NUM">5</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lexical_variable_set" id="1041" inline="false">
                        <field name="VAR">global MovementAnimationCounter</field>
                        <value name="VALUE">
                          <block type="math_number" id="1042">
                            <field name="NUM">1</field>
                          </block>
                        </value>
                        <next>
                          <block type="lexical_variable_set" id="1043" inline="false">
                            <field name="VAR">global IsCharacterMoving</field>
                            <value name="VALUE">
                              <block type="logic_false" id="1044">
                                <field name="BOOL">FALSE</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="1045" inline="false">
                                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementTimer"></mutation>
                                <field name="COMPONENT_SELECTOR">MovementTimer</field>
                                <field name="PROP">TimerEnabled</field>
                                <value name="VALUE">
                                  <block type="logic_false" id="1046">
                                    <field name="BOOL">FALSE</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="controls_if" id="1047" inline="false">
                                    <value name="IF0">
                                      <block type="lexical_variable_get" id="1048">
                                        <field name="VAR">global ArrowIsPressed</field>
                                      </block>
                                    </value>
                                    <statement name="DO0">
                                      <block type="component_set_get" id="1049" inline="false">
                                        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementDelayTimer"></mutation>
                                        <field name="COMPONENT_SELECTOR">MovementDelayTimer</field>
                                        <field name="PROP">TimerEnabled</field>
                                        <value name="VALUE">
                                          <block type="logic_false" id="1050">
                                            <field name="BOOL">TRUE</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="1051" collapsed="true" x="4179" y="780">
    <mutation></mutation>
    <field name="NAME">SetMapCanvasCells</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="1052" inline="false">
        <field name="VAR">global MapCornerCells</field>
        <value name="VALUE">
          <block type="lists_create_with" id="1053" inline="false">
            <mutation items="4"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="1054">
                <mutation component_type="HorizontalArrangement" instance_name="Row2Col2"></mutation>
                <field name="COMPONENT_SELECTOR">Row2Col2</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="1055">
                <mutation component_type="HorizontalArrangement" instance_name="Row2Col4"></mutation>
                <field name="COMPONENT_SELECTOR">Row2Col4</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="1056">
                <mutation component_type="HorizontalArrangement" instance_name="Row4Col2"></mutation>
                <field name="COMPONENT_SELECTOR">Row4Col2</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="component_component_block" id="1057">
                <mutation component_type="HorizontalArrangement" instance_name="Row4Col4"></mutation>
                <field name="COMPONENT_SELECTOR">Row4Col4</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1058" inline="false">
            <field name="VAR">global MapCardinalCells</field>
            <value name="VALUE">
              <block type="lists_create_with" id="1059" inline="false">
                <mutation items="4"></mutation>
                <value name="ADD0">
                  <block type="component_component_block" id="1060">
                    <mutation component_type="HorizontalArrangement" instance_name="Row2Col3"></mutation>
                    <field name="COMPONENT_SELECTOR">Row2Col3</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="component_component_block" id="1061">
                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col2"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col2</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="component_component_block" id="1062">
                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col4"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col4</field>
                  </block>
                </value>
                <value name="ADD3">
                  <block type="component_component_block" id="1063">
                    <mutation component_type="HorizontalArrangement" instance_name="Row4Col3"></mutation>
                    <field name="COMPONENT_SELECTOR">Row4Col3</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_forEach" id="1064" inline="false">
                <field name="VAR">list</field>
                <value name="LIST">
                  <block type="lists_create_with" id="1065" inline="false">
                    <mutation items="2"></mutation>
                    <value name="ADD0">
                      <block type="lexical_variable_get" id="1066">
                        <field name="VAR">global MapCornerCells</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="1067">
                        <field name="VAR">global MapCardinalCells</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_forEach" id="1068" inline="false">
                    <field name="VAR">item</field>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="1069">
                        <field name="VAR">list</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="lists_add_items" id="1070" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="1071">
                            <field name="VAR">global MapCellsAll</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="1072">
                            <field name="VAR">item</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
                <next>
                  <block type="lists_add_items" id="1073" inline="false">
                    <mutation items="1"></mutation>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="1074">
                        <field name="VAR">global MapCellsAll</field>
                      </block>
                    </value>
                    <value name="ITEM0">
                      <block type="component_component_block" id="1075">
                        <mutation component_type="HorizontalArrangement" instance_name="Row3Col3"></mutation>
                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="1076" inline="false" x="3358" y="831">
    <field name="NAME">MapSpeed</field>
    <value name="VALUE">
      <block type="math_number" id="1077">
        <field name="NUM">8</field>
      </block>
    </value>
  </block>
  <block type="component_event" id="1078" collapsed="true" x="3639" y="831">
    <mutation component_type="Button" instance_name="LeftButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">LeftButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="1079" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="1080">
            <field name="NUM">180</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1081" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="1082">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="1083" inline="false" x="3906" y="831">
    <field name="NAME">MapBorderCellsRight</field>
    <value name="VALUE">
      <block type="lists_create_with" id="1084">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="1085" inline="false" collapsed="true" x="3088" y="882">
    <field name="NAME">MovementDelay</field>
    <value name="VALUE">
      <block type="logic_false" id="1086">
        <field name="BOOL">FALSE</field>
      </block>
    </value>
  </block>
  <block type="component_event" id="1087" collapsed="true" x="3358" y="882">
    <mutation component_type="File" instance_name="File1" event_name="GotText"></mutation>
    <field name="COMPONENT_SELECTOR">File1</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1088" inline="false">
        <field name="VAR">global TerrainJson</field>
        <value name="VALUE">
          <block type="component_method" id="1089" inline="false">
            <mutation component_type="Web" method_name="JsonTextDecode" is_generic="false" instance_name="Web1"></mutation>
            <field name="COMPONENT_SELECTOR">Web1</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="1090">
                <mutation>
                  <eventparam name="text"></eventparam>
                </mutation>
                <field name="VAR">text</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1091" inline="false">
            <field name="VAR">global TerrainData</field>
            <value name="VALUE">
              <block type="procedures_callreturn" id="1092" inline="false">
                <mutation name="jsonLookup">
                  <arg name="query"></arg>
                  <arg name="json"></arg>
                </mutation>
                <field name="PROCNAME">jsonLookup</field>
                <value name="ARG0">
                  <block type="text" id="1093">
                    <field name="TEXT">layers[1].data</field>
                  </block>
                </value>
                <value name="ARG1">
                  <block type="lexical_variable_get" id="1094">
                    <field name="VAR">global TerrainJson</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="procedures_callnoreturn" id="1095" inline="false">
                <mutation name="SetObstacleTerrainValues">
                  <arg name="obstacleName"></arg>
                </mutation>
                <field name="PROCNAME">SetObstacleTerrainValues</field>
                <value name="ARG0">
                  <block type="text" id="1096">
                    <field name="TEXT">Obstacle</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="1097" inline="false" collapsed="true" x="3639" y="882">
    <field name="NAME">CharacterDirection</field>
    <value name="VALUE">
      <block type="text" id="1098">
        <field name="TEXT"></field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="1099" collapsed="true" x="3088" y="933">
    <mutation></mutation>
    <field name="NAME">PositionArrows</field>
  </block>
  <block type="component_event" id="1100" collapsed="true" x="3358" y="933">
    <mutation component_type="Button" instance_name="UpButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">UpButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="1101" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="1102">
            <field name="NUM">90</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1103" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="1104">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="1105" collapsed="true" x="3639" y="933">
    <mutation component_type="Button" instance_name="SlideButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">SlideButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1106" inline="false">
        <field name="VAR">global MapSlideGrowthSize</field>
        <value name="VALUE">
          <block type="math_number" id="1107">
            <field name="NUM">64</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1108" inline="false">
            <field name="VAR">global MapShrinkSize</field>
            <value name="VALUE">
              <block type="math_number" id="1109">
                <field name="NUM">64</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="1110" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomInMapTimer"></mutation>
                <field name="COMPONENT_SELECTOR">ZoomInMapTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="1111">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="1112" inline="false" collapsed="true" x="3088" y="984">
    <field name="NAME">AttackAnimationCounter</field>
    <value name="VALUE">
      <block type="math_number" id="1113">
        <field name="NUM">1</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="1114" inline="false" collapsed="true" x="3358" y="984">
    <field name="NAME">MapSlideDirection</field>
    <value name="VALUE">
      <block type="math_number" id="1115">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="1116" inline="false" collapsed="true" x="3639" y="984">
    <field name="NAME">MovementAnimationCounter</field>
    <value name="VALUE">
      <block type="math_number" id="1117">
        <field name="NUM">1</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="1118" inline="false" x="3906" y="984">
    <field name="NAME">MapBorderCellsAll</field>
    <value name="VALUE">
      <block type="lists_create_with" id="1119">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="1120" inline="false" collapsed="true" x="3088" y="1035">
    <field name="NAME">CharacterGridLocation</field>
    <value name="VALUE">
      <block type="math_number" id="1121">
        <field name="NUM">1</field>
      </block>
    </value>
  </block>
  <block type="component_event" id="1122" collapsed="true" x="3358" y="1035">
    <mutation component_type="Button" instance_name="UpButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">UpButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1123" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="1124">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="1125" collapsed="true" x="3639" y="1035">
    <mutation component_type="Button" instance_name="RightButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">RightButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1126" inline="false">
        <field name="VAR">global MapSlideDirection</field>
        <value name="VALUE">
          <block type="math_number" id="1127">
            <field name="NUM">180</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1128" inline="false">
            <field name="VAR">global MapSlideGrowthSize</field>
            <value name="VALUE">
              <block type="math_number" id="1129">
                <field name="NUM">64</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="1130" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="1131">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="1132" inline="false" collapsed="true" x="3906" y="1035">
    <field name="NAME">MapCornerCells</field>
    <value name="VALUE">
      <block type="lists_create_with" id="1133">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <yacodeblocks ya-version="159" language-version="20"></yacodeblocks>
</xml>