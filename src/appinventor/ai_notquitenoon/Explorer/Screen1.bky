<xml xmlns="http://www.w3.org/1999/xhtml">
  <block type="procedures_defnoreturn" id="1" collapsed="true" x="2658" y="1209">
    <mutation></mutation>
    <field name="NAME">PlaceCharacter</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="2" inline="false">
        <field name="VAR">global CharacterGridLocation</field>
        <value name="VALUE">
          <block type="math_number" id="3">
            <field name="NUM">182</field>
          </block>
        </value>
        <next>
          <block type="component_method" id="4" inline="false">
            <mutation component_type="ImageSprite" method_name="MoveTo" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <value name="ARG0">
              <block type="math_number" id="5">
                <field name="NUM">16</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="math_number" id="6">
                <field name="NUM">128</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="7" collapsed="true" x="2945" y="1209">
    <mutation component_type="Button" instance_name="LeftButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">LeftButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="8" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="9">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="10" inline="false" collapsed="true" x="3224" y="1209">
    <field name="NAME">TerrainJson</field>
    <value name="VALUE">
      <block type="lists_create_with" id="11">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="12" inline="false" collapsed="true" x="3504" y="1209">
    <field name="NAME">MovementAnimationCounter</field>
    <value name="VALUE">
      <block type="math_number" id="13">
        <field name="NUM">1</field>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="14" inline="false" x="3971" y="1187">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">CanCharacterMove</field>
    <field name="VAR0">direction</field>
    <value name="RETURN">
      <block type="logic_negate" id="15" inline="false">
        <value name="BOOL">
          <block type="lists_is_in" id="16" inline="false">
            <value name="ITEM">
              <block type="lexical_variable_get" id="17">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="LIST">
              <block type="procedures_callreturn" id="18">
                <mutation name="GetDisallowedDirections"></mutation>
                <field name="PROCNAME">GetDisallowedDirections</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="19" inline="false" collapsed="true" x="2658" y="1260">
    <field name="NAME">ObstacleTerrainValues</field>
    <value name="VALUE">
      <block type="lists_create_with" id="20">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="21" inline="false" collapsed="true" x="2945" y="1260">
    <field name="NAME">Obstacles</field>
    <value name="VALUE">
      <block type="lists_create_with" id="22">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="23" inline="false" collapsed="true" x="3224" y="1260">
    <field name="NAME">CharacterHeading</field>
    <value name="VALUE">
      <block type="math_number" id="24">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="25" inline="false" collapsed="true" x="3504" y="1260">
    <field name="NAME">MapBorderCellsAll</field>
    <value name="VALUE">
      <block type="lists_create_with" id="26">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="27" inline="false" collapsed="true" x="2945" y="1311">
    <field name="NAME">MapCellsAll</field>
    <value name="VALUE">
      <block type="lists_create_with" id="28">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="29" inline="false" collapsed="true" x="4491" y="1231">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">WillDestinationBeInBounds</field>
    <field name="VAR0">direction</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="30" inline="false">
        <mutation>
          <localname name="inBounds"></localname>
        </mutation>
        <field name="VAR0">inBounds</field>
        <value name="DECL0">
          <block type="logic_boolean" id="31">
            <field name="BOOL">TRUE</field>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="32" inline="false">
            <statement name="STM">
              <block type="controls_if" id="33" inline="false">
                <value name="IF0">
                  <block type="logic_operation" id="34" inline="true">
                    <field name="OP">AND</field>
                    <value name="A">
                      <block type="math_compare" id="35" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="36">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="37">
                            <field name="NUM">90</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_compare" id="38" inline="true">
                        <field name="OP">LT</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="39">
                            <field name="VAR">global CharacterGridLocation</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="40">
                            <field name="NUM">41</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="lexical_variable_set" id="41" inline="false">
                    <field name="VAR">inBounds</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="42">
                        <field name="BOOL">FALSE</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="43" inline="false">
                    <value name="IF0">
                      <block type="logic_operation" id="44" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="math_compare" id="45" inline="true">
                            <field name="OP">EQ</field>
                            <value name="A">
                              <block type="lexical_variable_get" id="46">
                                <field name="VAR">direction</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="47">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_compare" id="48" inline="true">
                            <field name="OP">EQ</field>
                            <value name="A">
                              <block type="math_divide" id="49" inline="true">
                                <field name="OP">MODULO</field>
                                <value name="DIVIDEND">
                                  <block type="lexical_variable_get" id="50">
                                    <field name="VAR">global CharacterGridLocation</field>
                                  </block>
                                </value>
                                <value name="DIVISOR">
                                  <block type="math_number" id="51">
                                    <field name="NUM">20</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="52">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lexical_variable_set" id="53" inline="false">
                        <field name="VAR">inBounds</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="54">
                            <field name="BOOL">FALSE</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                    <next>
                      <block type="controls_if" id="55" inline="false">
                        <value name="IF0">
                          <block type="logic_operation" id="56" inline="true">
                            <field name="OP">AND</field>
                            <value name="A">
                              <block type="math_compare" id="57" inline="true">
                                <field name="OP">EQ</field>
                                <value name="A">
                                  <block type="lexical_variable_get" id="58">
                                    <field name="VAR">direction</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="59">
                                    <field name="NUM">180</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_compare" id="60" inline="true">
                                <field name="OP">EQ</field>
                                <value name="A">
                                  <block type="math_divide" id="61" inline="true">
                                    <field name="OP">MODULO</field>
                                    <value name="DIVIDEND">
                                      <block type="lexical_variable_get" id="62">
                                        <field name="VAR">global CharacterGridLocation</field>
                                      </block>
                                    </value>
                                    <value name="DIVISOR">
                                      <block type="math_number" id="63">
                                        <field name="NUM">20</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="64">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="65" inline="false">
                            <field name="VAR">inBounds</field>
                            <value name="VALUE">
                              <block type="logic_boolean" id="66">
                                <field name="BOOL">FALSE</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type="controls_if" id="67" inline="false">
                            <value name="IF0">
                              <block type="logic_operation" id="68" inline="true">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="math_compare" id="69" inline="true">
                                    <field name="OP">EQ</field>
                                    <value name="A">
                                      <block type="lexical_variable_get" id="70">
                                        <field name="VAR">direction</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="math_number" id="71">
                                        <field name="NUM">270</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_compare" id="72" inline="true">
                                    <field name="OP">GT</field>
                                    <value name="A">
                                      <block type="lexical_variable_get" id="73">
                                        <field name="VAR">global CharacterGridLocation</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="math_number" id="74">
                                        <field name="NUM">380</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO0">
                              <block type="lexical_variable_set" id="75" inline="false">
                                <field name="VAR">inBounds</field>
                                <value name="VALUE">
                                  <block type="logic_boolean" id="76">
                                    <field name="BOOL">FALSE</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="77">
                <field name="VAR">inBounds</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="78" collapsed="true" x="2678" y="1332">
    <mutation component_type="Clock" instance_name="MovementDelayTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">MovementDelayTimer</field>
    <statement name="DO">
      <block type="controls_if" id="79" inline="false">
        <value name="IF0">
          <block type="lexical_variable_get" id="80">
            <field name="VAR">global MovementDelay</field>
          </block>
        </value>
        <statement name="DO0">
          <block type="lexical_variable_set" id="81" inline="false">
            <field name="VAR">global MovementDelay</field>
            <value name="VALUE">
              <block type="logic_false" id="82">
                <field name="BOOL">FALSE</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="83" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementDelayTimer"></mutation>
                <field name="COMPONENT_SELECTOR">MovementDelayTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="84">
                    <field name="BOOL">FALSE</field>
                  </block>
                </value>
                <next>
                  <block type="procedures_callnoreturn" id="85" inline="false">
                    <mutation name="Move">
                      <arg name="direction"></arg>
                    </mutation>
                    <field name="PROCNAME">Move</field>
                    <value name="ARG0">
                      <block type="lexical_variable_get" id="86">
                        <field name="VAR">global CharacterHeading</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
        <next>
          <block type="lexical_variable_set" id="87" inline="false">
            <field name="VAR">global MovementDelay</field>
            <value name="VALUE">
              <block type="logic_false" id="88">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="89" inline="false" collapsed="true" x="3504" y="1311">
    <field name="NAME">CharacterGridLocation</field>
    <value name="VALUE">
      <block type="math_number" id="90">
        <field name="NUM">1</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="91" inline="false" collapsed="true" x="2658" y="1362">
    <field name="NAME">TerrainData</field>
    <value name="VALUE">
      <block type="lists_create_with" id="92">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="93" collapsed="true" x="2945" y="1362">
    <mutation component_type="Button" instance_name="RightButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">RightButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="94" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="95">
            <field name="NUM">0</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="96" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="97">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="98" collapsed="true" x="3504" y="1362">
    <mutation component_type="Button" instance_name="UpButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">UpButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="99" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="100">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="101" inline="false" collapsed="true" x="2658" y="1413">
    <field name="NAME">MapCornerCanvases</field>
    <value name="VALUE">
      <block type="lists_create_with" id="102">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="103" inline="false" x="3885" y="1354">
    <mutation>
      <arg name="gridPosition"></arg>
    </mutation>
    <field name="NAME">PositionDoesHaveObstacle</field>
    <field name="VAR0">gridPosition</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="104" inline="false">
        <mutation>
          <localname name="hasObstacle"></localname>
        </mutation>
        <field name="VAR0">hasObstacle</field>
        <value name="DECL0">
          <block type="logic_false" id="105">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="106" inline="false">
            <statement name="STM">
              <block type="controls_if" id="107" inline="false">
                <value name="IF0">
                  <block type="logic_operation" id="108" inline="true">
                    <field name="OP">AND</field>
                    <value name="A">
                      <block type="math_compare" id="109" inline="true">
                        <field name="OP">GT</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="110">
                            <field name="VAR">gridPosition</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="111">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_compare" id="112" inline="true">
                        <field name="OP">LTE</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="113">
                            <field name="VAR">gridPosition</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="114">
                            <field name="NUM">400</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="controls_forEach" id="115" inline="false">
                    <field name="VAR">layer</field>
                    <value name="LIST">
                      <block type="lists_lookup_in_pairs" id="116" inline="false">
                        <value name="KEY">
                          <block type="text" id="117">
                            <field name="TEXT">layers</field>
                          </block>
                        </value>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="118">
                            <field name="VAR">global TerrainJson</field>
                          </block>
                        </value>
                        <value name="NOTFOUND">
                          <block type="text" id="119">
                            <field name="TEXT">not found layer</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="controls_if" id="120" inline="false">
                        <value name="IF0">
                          <block type="lists_is_in" id="121" inline="false">
                            <value name="ITEM">
                              <block type="lists_select_item" id="122" inline="false">
                                <value name="LIST">
                                  <block type="lists_lookup_in_pairs" id="123" inline="false">
                                    <value name="KEY">
                                      <block type="text" id="124">
                                        <field name="TEXT">data</field>
                                      </block>
                                    </value>
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="125">
                                        <field name="VAR">layer</field>
                                      </block>
                                    </value>
                                    <value name="NOTFOUND">
                                      <block type="text" id="126">
                                        <field name="TEXT">not found terrainValue</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="lexical_variable_get" id="127">
                                    <field name="VAR">gridPosition</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="128">
                                <field name="VAR">global ObstacleTerrainValues</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="129" inline="false">
                            <field name="VAR">hasObstacle</field>
                            <value name="VALUE">
                              <block type="logic_boolean" id="130">
                                <field name="BOOL">TRUE</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="131">
                <field name="VAR">hasObstacle</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="132" inline="false" collapsed="true" x="2945" y="1413">
    <field name="NAME">LocationData</field>
    <value name="VALUE">
      <block type="lists_create_with" id="133">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="134" inline="false" collapsed="true" x="3504" y="1413">
    <field name="NAME">MapCornerCells</field>
    <value name="VALUE">
      <block type="lists_create_with" id="135">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="136" collapsed="true" x="2658" y="1464">
    <mutation component_type="Button" instance_name="ShrinkButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">ShrinkButton</field>
    <statement name="DO">
      <block type="component_set_get" id="137" inline="false">
        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
        <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
        <field name="PROP">TimerEnabled</field>
        <value name="VALUE">
          <block type="logic_boolean" id="138">
            <field name="BOOL">TRUE</field>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="139" inline="false">
            <mutation component_type="ImageSprite" set_or_get="set" property_name="Visible" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <field name="PROP">Visible</field>
            <value name="VALUE">
              <block type="logic_false" id="140">
                <field name="BOOL">FALSE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="141" inline="false" collapsed="true" x="2945" y="1464">
    <field name="NAME">ArrowIsPressed</field>
    <value name="VALUE">
      <block type="logic_false" id="142">
        <field name="BOOL">FALSE</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="143" collapsed="true" x="1706" y="1538">
    <mutation></mutation>
    <field name="NAME">Reset</field>
    <statement name="STACK">
      <block type="component_method" id="144" inline="false">
        <mutation component_type="File" method_name="ReadFrom" is_generic="false" instance_name="File1"></mutation>
        <field name="COMPONENT_SELECTOR">File1</field>
        <value name="ARG0">
          <block type="text" id="145">
            <field name="TEXT">//back11.json</field>
          </block>
        </value>
        <next>
          <block type="procedures_callnoreturn" id="146">
            <mutation name="PlaceCharacter"></mutation>
            <field name="PROCNAME">PlaceCharacter</field>
            <next>
              <block type="component_method" id="147">
                <mutation component_type="Canvas" method_name="Clear" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <next>
                  <block type="procedures_callnoreturn" id="148">
                    <mutation name="PositionArrows"></mutation>
                    <field name="PROCNAME">PositionArrows</field>
                    <next>
                      <block type="procedures_callnoreturn" id="149">
                        <mutation name="SetMapBorderCells"></mutation>
                        <field name="PROCNAME">SetMapBorderCells</field>
                        <next>
                          <block type="procedures_callnoreturn" id="150">
                            <mutation name="SetMapCanvases"></mutation>
                            <field name="PROCNAME">SetMapCanvases</field>
                            <next>
                              <block type="procedures_callnoreturn" id="151">
                                <mutation name="SetMapCanvasCells"></mutation>
                                <field name="PROCNAME">SetMapCanvasCells</field>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="152" inline="false" collapsed="true" x="3224" y="1464">
    <field name="NAME">MapBorderCellsLeft</field>
    <value name="VALUE">
      <block type="lists_create_with" id="153">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="154" inline="false" collapsed="true" x="3504" y="1464">
    <mutation>
      <arg name="query"></arg>
      <arg name="json"></arg>
    </mutation>
    <field name="NAME">JsonLookup</field>
    <field name="VAR0">query</field>
    <field name="VAR1">json</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="155" inline="false">
        <mutation>
          <localname name="propertyParts"></localname>
        </mutation>
        <field name="VAR0">propertyParts</field>
        <value name="DECL0">
          <block type="text_split" id="156" inline="false">
            <mutation mode="SPLITATFIRST"></mutation>
            <field name="OP">SPLITATFIRST</field>
            <value name="TEXT">
              <block type="lexical_variable_get" id="157">
                <field name="VAR">query</field>
              </block>
            </value>
            <value name="AT">
              <block type="text" id="158">
                <field name="TEXT">.</field>
              </block>
            </value>
          </block>
        </value>
        <value name="RETURN">
          <block type="local_declaration_expression" id="159" inline="false">
            <mutation>
              <localname name="firstProperty"></localname>
            </mutation>
            <field name="VAR0">firstProperty</field>
            <value name="DECL0">
              <block type="lists_select_item" id="160" inline="false">
                <value name="LIST">
                  <block type="lexical_variable_get" id="161">
                    <field name="VAR">propertyParts</field>
                  </block>
                </value>
                <value name="NUM">
                  <block type="math_number" id="162">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="RETURN">
              <block type="controls_choose" id="163" inline="false">
                <value name="TEST">
                  <block type="math_compare" id="164" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lists_length" id="165" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="166">
                            <field name="VAR">propertyParts</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="167">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="THENRETURN">
                  <block type="controls_choose" id="168" inline="false">
                    <value name="TEST">
                      <block type="text_compare" id="169" inline="true">
                        <field name="OP">EQUAL</field>
                        <value name="TEXT1">
                          <block type="procedures_callreturn" id="170" inline="false">
                            <mutation name="JsonGetIndex">
                              <arg name="stringVal"></arg>
                            </mutation>
                            <field name="PROCNAME">JsonGetIndex</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="171">
                                <field name="VAR">firstProperty</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="TEXT2">
                          <block type="lexical_variable_get" id="172">
                            <field name="VAR">firstProperty</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="THENRETURN">
                      <block type="lists_lookup_in_pairs" id="173" inline="false">
                        <value name="KEY">
                          <block type="lexical_variable_get" id="174">
                            <field name="VAR">firstProperty</field>
                          </block>
                        </value>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="175">
                            <field name="VAR">json</field>
                          </block>
                        </value>
                        <value name="NOTFOUND">
                          <block type="text" id="176">
                            <field name="TEXT">not found</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ELSERETURN">
                      <block type="local_declaration_expression" id="177" inline="false">
                        <mutation>
                          <localname name="index"></localname>
                        </mutation>
                        <field name="VAR0">index</field>
                        <value name="DECL0">
                          <block type="procedures_callreturn" id="178" inline="false">
                            <mutation name="JsonGetIndex">
                              <arg name="stringVal"></arg>
                            </mutation>
                            <field name="PROCNAME">JsonGetIndex</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="179">
                                <field name="VAR">firstProperty</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="RETURN">
                          <block type="procedures_callreturn" id="180" inline="false">
                            <mutation name="JsonGetItemAtIndex">
                              <arg name="json"></arg>
                              <arg name="index"></arg>
                              <arg name="query"></arg>
                            </mutation>
                            <field name="PROCNAME">JsonGetItemAtIndex</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="181">
                                <field name="VAR">json</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="182">
                                <field name="VAR">index</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="lexical_variable_get" id="183">
                                <field name="VAR">query</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="ELSERETURN">
                  <block type="local_declaration_expression" id="184" inline="false">
                    <mutation>
                      <localname name="subQuery"></localname>
                    </mutation>
                    <field name="VAR0">subQuery</field>
                    <value name="DECL0">
                      <block type="lists_select_item" id="185" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="186">
                            <field name="VAR">propertyParts</field>
                          </block>
                        </value>
                        <value name="NUM">
                          <block type="math_number" id="187">
                            <field name="NUM">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="RETURN">
                      <block type="controls_choose" id="188" inline="false">
                        <value name="TEST">
                          <block type="text_compare" id="189" inline="true">
                            <field name="OP">EQUAL</field>
                            <value name="TEXT1">
                              <block type="procedures_callreturn" id="190" inline="false">
                                <mutation name="JsonGetIndex">
                                  <arg name="stringVal"></arg>
                                </mutation>
                                <field name="PROCNAME">JsonGetIndex</field>
                                <value name="ARG0">
                                  <block type="lexical_variable_get" id="191">
                                    <field name="VAR">firstProperty</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="TEXT2">
                              <block type="lexical_variable_get" id="192">
                                <field name="VAR">firstProperty</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="THENRETURN">
                          <block type="procedures_callreturn" id="193" inline="false">
                            <mutation name="JsonLookup">
                              <arg name="query"></arg>
                              <arg name="json"></arg>
                            </mutation>
                            <field name="PROCNAME">JsonLookup</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="194">
                                <field name="VAR">subQuery</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lists_lookup_in_pairs" id="195" inline="false">
                                <value name="KEY">
                                  <block type="lexical_variable_get" id="196">
                                    <field name="VAR">firstProperty</field>
                                  </block>
                                </value>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="197">
                                    <field name="VAR">json</field>
                                  </block>
                                </value>
                                <value name="NOTFOUND">
                                  <block type="text" id="198">
                                    <field name="TEXT">not found</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="ELSERETURN">
                          <block type="local_declaration_expression" id="199" inline="false">
                            <mutation>
                              <localname name="index"></localname>
                            </mutation>
                            <field name="VAR0">index</field>
                            <value name="DECL0">
                              <block type="procedures_callreturn" id="200" inline="false">
                                <mutation name="JsonGetIndex">
                                  <arg name="stringVal"></arg>
                                </mutation>
                                <field name="PROCNAME">JsonGetIndex</field>
                                <value name="ARG0">
                                  <block type="lexical_variable_get" id="201">
                                    <field name="VAR">firstProperty</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="RETURN">
                              <block type="procedures_callreturn" id="202" inline="false">
                                <mutation name="JsonLookup">
                                  <arg name="query"></arg>
                                  <arg name="json"></arg>
                                </mutation>
                                <field name="PROCNAME">JsonLookup</field>
                                <value name="ARG0">
                                  <block type="lexical_variable_get" id="203">
                                    <field name="VAR">subQuery</field>
                                  </block>
                                </value>
                                <value name="ARG1">
                                  <block type="procedures_callreturn" id="204" inline="false">
                                    <mutation name="JsonGetItemAtIndex">
                                      <arg name="json"></arg>
                                      <arg name="index"></arg>
                                      <arg name="query"></arg>
                                    </mutation>
                                    <field name="PROCNAME">JsonGetItemAtIndex</field>
                                    <value name="ARG0">
                                      <block type="lexical_variable_get" id="205">
                                        <field name="VAR">json</field>
                                      </block>
                                    </value>
                                    <value name="ARG1">
                                      <block type="lexical_variable_get" id="206">
                                        <field name="VAR">index</field>
                                      </block>
                                    </value>
                                    <value name="ARG2">
                                      <block type="lexical_variable_get" id="207">
                                        <field name="VAR">query</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="208" collapsed="true" x="2048" y="1552">
    <mutation component_type="Button" instance_name="ResetButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">ResetButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="209">
        <mutation name="Reset"></mutation>
        <field name="PROCNAME">Reset</field>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="210" collapsed="true" x="2945" y="1515">
    <mutation></mutation>
    <field name="NAME">SetMapBorderCells</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="211" inline="false">
        <field name="VAR">global MapBorderCellsLeft</field>
        <value name="VALUE">
          <block type="lists_create_with" id="212" inline="false">
            <mutation items="3"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="213">
                <mutation component_type="HorizontalArrangement" instance_name="Row2Col1"></mutation>
                <field name="COMPONENT_SELECTOR">Row2Col1</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="214">
                <mutation component_type="HorizontalArrangement" instance_name="Row3Col1"></mutation>
                <field name="COMPONENT_SELECTOR">Row3Col1</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="215">
                <mutation component_type="HorizontalArrangement" instance_name="Row4Col1"></mutation>
                <field name="COMPONENT_SELECTOR">Row4Col1</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="216" inline="false">
            <field name="VAR">global MapBorderCellsRight</field>
            <value name="VALUE">
              <block type="lists_create_with" id="217" inline="false">
                <mutation items="3"></mutation>
                <value name="ADD0">
                  <block type="component_component_block" id="218">
                    <mutation component_type="HorizontalArrangement" instance_name="Row2Col5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row2Col5</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="component_component_block" id="219">
                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col5</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="component_component_block" id="220">
                    <mutation component_type="HorizontalArrangement" instance_name="Row4Col5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row4Col5</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_forEach" id="221" inline="false">
                <field name="VAR">list</field>
                <value name="LIST">
                  <block type="lists_create_with" id="222" inline="false">
                    <mutation items="2"></mutation>
                    <value name="ADD0">
                      <block type="lexical_variable_get" id="223">
                        <field name="VAR">global MapBorderCellsLeft</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="224">
                        <field name="VAR">global MapBorderCellsRight</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_forEach" id="225" inline="false">
                    <field name="VAR">item</field>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="226">
                        <field name="VAR">list</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="lists_add_items" id="227" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="228">
                            <field name="VAR">global MapBorderCellsAll</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="229">
                            <field name="VAR">item</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="230" collapsed="true" x="2678" y="1536">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">SetCharacterDirection</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="controls_if" id="231" inline="false">
        <mutation elseif="2" else="1"></mutation>
        <value name="IF0">
          <block type="math_compare" id="232" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="233">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="234">
                <field name="NUM">0</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="lexical_variable_set" id="235" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="236">
                <field name="TEXT">right</field>
              </block>
            </value>
          </block>
        </statement>
        <value name="IF1">
          <block type="math_compare" id="237" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="238">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="239">
                <field name="NUM">90</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO1">
          <block type="lexical_variable_set" id="240" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="241">
                <field name="TEXT">up</field>
              </block>
            </value>
          </block>
        </statement>
        <value name="IF2">
          <block type="math_compare" id="242" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="243">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="244">
                <field name="NUM">180</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO2">
          <block type="lexical_variable_set" id="245" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="246">
                <field name="TEXT">left</field>
              </block>
            </value>
          </block>
        </statement>
        <statement name="ELSE">
          <block type="lexical_variable_set" id="247" inline="false">
            <field name="VAR">global CharacterDirection</field>
            <value name="VALUE">
              <block type="text" id="248">
                <field name="TEXT">down</field>
              </block>
            </value>
          </block>
        </statement>
        <next>
          <block type="component_set_get" id="249" inline="false">
            <mutation component_type="ImageSprite" set_or_get="set" property_name="Picture" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <field name="PROP">Picture</field>
            <value name="VALUE">
              <block type="text_join" id="250" inline="false">
                <mutation items="3"></mutation>
                <value name="ADD0">
                  <block type="text" id="251">
                    <field name="TEXT">walk_</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="lexical_variable_get" id="252">
                    <field name="VAR">global CharacterDirection</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="text" id="253">
                    <field name="TEXT">01.png</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="254" collapsed="true" x="3258" y="1528">
    <mutation component_type="Clock" instance_name="MovementTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">MovementTimer</field>
    <statement name="DO">
      <block type="component_set_get" id="255" inline="false">
        <mutation component_type="ImageSprite" set_or_get="set" property_name="Picture" is_generic="false" instance_name="Character"></mutation>
        <field name="COMPONENT_SELECTOR">Character</field>
        <field name="PROP">Picture</field>
        <value name="VALUE">
          <block type="text_join" id="256" inline="false">
            <mutation items="5"></mutation>
            <value name="ADD0">
              <block type="text" id="257">
                <field name="TEXT">walk_</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="lexical_variable_get" id="258">
                <field name="VAR">global CharacterDirection</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="text" id="259">
                <field name="TEXT">0</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="math_subtract" id="260" inline="true">
                <value name="A">
                  <block type="math_number" id="261">
                    <field name="NUM">5</field>
                  </block>
                </value>
                <value name="B">
                  <block type="lexical_variable_get" id="262">
                    <field name="VAR">global MovementAnimationCounter</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="ADD4">
              <block type="text" id="263">
                <field name="TEXT">.png</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="component_method" id="264" inline="false">
            <mutation component_type="ImageSprite" method_name="MoveTo" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <value name="ARG0">
              <block type="math_add" id="265" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="266">
                    <field name="VAR">global Xdirection</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="component_set_get" id="267">
                    <mutation component_type="ImageSprite" set_or_get="get" property_name="X" is_generic="false" instance_name="Character"></mutation>
                    <field name="COMPONENT_SELECTOR">Character</field>
                    <field name="PROP">X</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="ARG1">
              <block type="math_add" id="268" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="269">
                    <field name="VAR">global Ydirection</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="component_set_get" id="270">
                    <mutation component_type="ImageSprite" set_or_get="get" property_name="Y" is_generic="false" instance_name="Character"></mutation>
                    <field name="COMPONENT_SELECTOR">Character</field>
                    <field name="PROP">Y</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="lexical_variable_set" id="271" inline="false">
                <field name="VAR">global MovementAnimationCounter</field>
                <value name="VALUE">
                  <block type="math_add" id="272" inline="true">
                    <mutation items="2"></mutation>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="273">
                        <field name="VAR">global MovementAnimationCounter</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="274">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="controls_if" id="275" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="276" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="277">
                            <field name="VAR">global MovementAnimationCounter</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="278">
                            <field name="NUM">5</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lexical_variable_set" id="279" inline="false">
                        <field name="VAR">global MovementAnimationCounter</field>
                        <value name="VALUE">
                          <block type="math_number" id="280">
                            <field name="NUM">1</field>
                          </block>
                        </value>
                        <next>
                          <block type="lexical_variable_set" id="281" inline="false">
                            <field name="VAR">global IsCharacterMoving</field>
                            <value name="VALUE">
                              <block type="logic_false" id="282">
                                <field name="BOOL">FALSE</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="283" inline="false">
                                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementTimer"></mutation>
                                <field name="COMPONENT_SELECTOR">MovementTimer</field>
                                <field name="PROP">TimerEnabled</field>
                                <value name="VALUE">
                                  <block type="logic_false" id="284">
                                    <field name="BOOL">FALSE</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="controls_if" id="285" inline="false">
                                    <value name="IF0">
                                      <block type="lexical_variable_get" id="286">
                                        <field name="VAR">global ArrowIsPressed</field>
                                      </block>
                                    </value>
                                    <statement name="DO0">
                                      <block type="component_set_get" id="287" inline="false">
                                        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementDelayTimer"></mutation>
                                        <field name="COMPONENT_SELECTOR">MovementDelayTimer</field>
                                        <field name="PROP">TimerEnabled</field>
                                        <value name="VALUE">
                                          <block type="logic_false" id="288">
                                            <field name="BOOL">TRUE</field>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="289" inline="false" collapsed="true" x="2945" y="1566">
    <mutation>
      <arg name="terrainValue"></arg>
    </mutation>
    <field name="NAME">IsTerrainValueAnObstacle</field>
    <field name="VAR0">terrainValue</field>
    <value name="RETURN">
      <block type="lists_is_in" id="290" inline="false">
        <value name="ITEM">
          <block type="lexical_variable_get" id="291">
            <field name="VAR">terrainValue</field>
          </block>
        </value>
        <value name="LIST">
          <block type="lexical_variable_get" id="292">
            <field name="VAR">global ObstacleTerrainValues</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="293" collapsed="true" x="3244" y="1577">
    <mutation></mutation>
    <field name="NAME">SetMapCanvasCells</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="294" inline="false">
        <field name="VAR">global MapCornerCells</field>
        <value name="VALUE">
          <block type="lists_create_with" id="295" inline="false">
            <mutation items="4"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="296">
                <mutation component_type="HorizontalArrangement" instance_name="Row2Col2"></mutation>
                <field name="COMPONENT_SELECTOR">Row2Col2</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="297">
                <mutation component_type="HorizontalArrangement" instance_name="Row2Col4"></mutation>
                <field name="COMPONENT_SELECTOR">Row2Col4</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="298">
                <mutation component_type="HorizontalArrangement" instance_name="Row4Col2"></mutation>
                <field name="COMPONENT_SELECTOR">Row4Col2</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="component_component_block" id="299">
                <mutation component_type="HorizontalArrangement" instance_name="Row4Col4"></mutation>
                <field name="COMPONENT_SELECTOR">Row4Col4</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="300" inline="false">
            <field name="VAR">global MapCardinalCells</field>
            <value name="VALUE">
              <block type="lists_create_with" id="301" inline="false">
                <mutation items="4"></mutation>
                <value name="ADD0">
                  <block type="component_component_block" id="302">
                    <mutation component_type="HorizontalArrangement" instance_name="Row2Col3"></mutation>
                    <field name="COMPONENT_SELECTOR">Row2Col3</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="component_component_block" id="303">
                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col2"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col2</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="component_component_block" id="304">
                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col4"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col4</field>
                  </block>
                </value>
                <value name="ADD3">
                  <block type="component_component_block" id="305">
                    <mutation component_type="HorizontalArrangement" instance_name="Row4Col3"></mutation>
                    <field name="COMPONENT_SELECTOR">Row4Col3</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_forEach" id="306" inline="false">
                <field name="VAR">list</field>
                <value name="LIST">
                  <block type="lists_create_with" id="307" inline="false">
                    <mutation items="2"></mutation>
                    <value name="ADD0">
                      <block type="lexical_variable_get" id="308">
                        <field name="VAR">global MapCornerCells</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="309">
                        <field name="VAR">global MapCardinalCells</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_forEach" id="310" inline="false">
                    <field name="VAR">item</field>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="311">
                        <field name="VAR">list</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="lists_add_items" id="312" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="313">
                            <field name="VAR">global MapCellsAll</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="314">
                            <field name="VAR">item</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
                <next>
                  <block type="lists_add_items" id="315" inline="false">
                    <mutation items="1"></mutation>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="316">
                        <field name="VAR">global MapCellsAll</field>
                      </block>
                    </value>
                    <value name="ITEM0">
                      <block type="component_component_block" id="317">
                        <mutation component_type="HorizontalArrangement" instance_name="Row3Col3"></mutation>
                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="318" collapsed="true" x="2658" y="1617">
    <mutation component_type="Clock" instance_name="ZoomOutMapTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
    <statement name="DO">
      <block type="local_declaration_statement" id="319" inline="false">
        <mutation>
          <localname name="growingSize"></localname>
        </mutation>
        <field name="VAR0">growingSize</field>
        <value name="DECL0">
          <block type="math_add" id="320" inline="true">
            <mutation items="2"></mutation>
            <value name="NUM0">
              <block type="component_set_get" id="321">
                <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                <field name="COMPONENT_SELECTOR">Row1</field>
                <field name="PROP">Height</field>
              </block>
            </value>
            <value name="NUM1">
              <block type="lexical_variable_get" id="322">
                <field name="VAR">global MapSpeed</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="STACK">
          <block type="local_declaration_statement" id="323" inline="false">
            <mutation>
              <localname name="shrinkingSize"></localname>
            </mutation>
            <field name="VAR0">shrinkingSize</field>
            <value name="DECL0">
              <block type="math_subtract" id="324" inline="true">
                <value name="A">
                  <block type="component_set_get" id="325">
                    <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Width" is_generic="false" instance_name="Row3Col3"></mutation>
                    <field name="COMPONENT_SELECTOR">Row3Col3</field>
                    <field name="PROP">Width</field>
                  </block>
                </value>
                <value name="B">
                  <block type="math_multiply" id="326" inline="true">
                    <mutation items="2"></mutation>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="327">
                        <field name="VAR">global MapSpeed</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="328">
                        <field name="NUM">4</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <statement name="STACK">
              <block type="controls_if" id="329" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="330" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="331">
                        <field name="VAR">growingSize</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="332">
                        <field name="NUM">64</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="component_set_get" id="333" inline="false">
                    <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
                    <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
                    <field name="PROP">TimerEnabled</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="334">
                        <field name="BOOL">FALSE</field>
                      </block>
                    </value>
                    <next>
                      <block type="procedures_callnoreturn" id="335" inline="false">
                        <mutation name="SlideMap">
                          <arg name="direction"></arg>
                        </mutation>
                        <field name="PROCNAME">SlideMap</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="336">
                            <field name="VAR">global MapSlideDirection</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="337" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="338" inline="true">
                        <field name="OP">LTE</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="339">
                            <field name="VAR">growingSize</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="340">
                            <field name="NUM">64</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="procedures_callnoreturn" id="341" inline="false">
                        <mutation name="ResizeMapCells">
                          <arg name="canvases"></arg>
                          <arg name="cells"></arg>
                          <arg name="size"></arg>
                        </mutation>
                        <field name="PROCNAME">ResizeMapCells</field>
                        <value name="ARG0">
                          <block type="lists_create_with" id="342">
                            <mutation items="0"></mutation>
                          </block>
                        </value>
                        <value name="ARG1">
                          <block type="lexical_variable_get" id="343">
                            <field name="VAR">global MapBorderCellsAll</field>
                          </block>
                        </value>
                        <value name="ARG2">
                          <block type="lexical_variable_get" id="344">
                            <field name="VAR">growingSize</field>
                          </block>
                        </value>
                        <next>
                          <block type="procedures_callnoreturn" id="345" inline="false">
                            <mutation name="ResizeMapCells">
                              <arg name="canvases"></arg>
                              <arg name="cells"></arg>
                              <arg name="size"></arg>
                            </mutation>
                            <field name="PROCNAME">ResizeMapCells</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="346">
                                <field name="VAR">global MapCanvasesAll</field>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="347">
                                <field name="VAR">global MapCellsAll</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="lexical_variable_get" id="348">
                                <field name="VAR">growingSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="349" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                <field name="COMPONENT_SELECTOR">Row1</field>
                                <field name="PROP">Height</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="350">
                                    <field name="VAR">growingSize</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="351" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row2"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row2</field>
                                    <field name="PROP">Height</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="352">
                                        <field name="VAR">growingSize</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="353" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row4"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row4</field>
                                        <field name="PROP">Height</field>
                                        <value name="VALUE">
                                          <block type="lexical_variable_get" id="354">
                                            <field name="VAR">growingSize</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_set_get" id="355" inline="false">
                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row5</field>
                                            <field name="PROP">Height</field>
                                            <value name="VALUE">
                                              <block type="lexical_variable_get" id="356">
                                                <field name="VAR">growingSize</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="procedures_callnoreturn" id="357" inline="false">
                                                <mutation name="ResizeMapCells">
                                                  <arg name="canvases"></arg>
                                                  <arg name="cells"></arg>
                                                  <arg name="size"></arg>
                                                </mutation>
                                                <field name="PROCNAME">ResizeMapCells</field>
                                                <value name="ARG0">
                                                  <block type="lists_create_with" id="358" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="359">
                                                        <mutation component_type="Canvas" instance_name="WorldCanvas"></mutation>
                                                        <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG1">
                                                  <block type="lists_create_with" id="360" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="361">
                                                        <mutation component_type="HorizontalArrangement" instance_name="Row3Col3"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG2">
                                                  <block type="lexical_variable_get" id="362">
                                                    <field name="VAR">shrinkingSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="363" collapsed="true" x="2965" y="1628">
    <mutation></mutation>
    <field name="NAME">MakeGrid</field>
    <statement name="STACK">
      <block type="controls_forRange" id="364" inline="false">
        <field name="VAR">x</field>
        <value name="START">
          <block type="math_number" id="365">
            <field name="NUM">0</field>
          </block>
        </value>
        <value name="END">
          <block type="component_set_get" id="366">
            <mutation component_type="Canvas" set_or_get="get" property_name="Width" is_generic="false" instance_name="WorldCanvas"></mutation>
            <field name="COMPONENT_SELECTOR">WorldCanvas</field>
            <field name="PROP">Width</field>
          </block>
        </value>
        <value name="STEP">
          <block type="math_number" id="367">
            <field name="NUM">16</field>
          </block>
        </value>
        <statement name="DO">
          <block type="component_method" id="368" inline="false">
            <mutation component_type="Canvas" method_name="DrawLine" is_generic="false" instance_name="WorldCanvas"></mutation>
            <field name="COMPONENT_SELECTOR">WorldCanvas</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="369">
                <field name="VAR">x</field>
              </block>
            </value>
            <value name="ARG1">
              <block type="math_number" id="370">
                <field name="NUM">0</field>
              </block>
            </value>
            <value name="ARG2">
              <block type="lexical_variable_get" id="371">
                <field name="VAR">x</field>
              </block>
            </value>
            <value name="ARG3">
              <block type="component_set_get" id="372">
                <mutation component_type="Canvas" set_or_get="get" property_name="Height" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <field name="PROP">Height</field>
              </block>
            </value>
          </block>
        </statement>
        <next>
          <block type="controls_forRange" id="373" inline="false">
            <field name="VAR">y</field>
            <value name="START">
              <block type="math_number" id="374">
                <field name="NUM">0</field>
              </block>
            </value>
            <value name="END">
              <block type="component_set_get" id="375">
                <mutation component_type="Canvas" set_or_get="get" property_name="Height" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <field name="PROP">Height</field>
              </block>
            </value>
            <value name="STEP">
              <block type="math_number" id="376">
                <field name="NUM">16</field>
              </block>
            </value>
            <statement name="DO">
              <block type="component_method" id="377" inline="false">
                <mutation component_type="Canvas" method_name="DrawLine" is_generic="false" instance_name="WorldCanvas"></mutation>
                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                <value name="ARG0">
                  <block type="math_number" id="378">
                    <field name="NUM">0</field>
                  </block>
                </value>
                <value name="ARG1">
                  <block type="lexical_variable_get" id="379">
                    <field name="VAR">y</field>
                  </block>
                </value>
                <value name="ARG2">
                  <block type="component_set_get" id="380">
                    <mutation component_type="Canvas" set_or_get="get" property_name="Width" is_generic="false" instance_name="WorldCanvas"></mutation>
                    <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                    <field name="PROP">Width</field>
                  </block>
                </value>
                <value name="ARG3">
                  <block type="lexical_variable_get" id="381">
                    <field name="VAR">y</field>
                  </block>
                </value>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="382" inline="false" collapsed="true" x="1624" y="1702">
    <mutation>
      <arg name="obstacleName"></arg>
    </mutation>
    <field name="NAME">GetTerrainObstacleIndices</field>
    <field name="VAR0">obstacleName</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="383" inline="false">
        <mutation>
          <localname name="tilesetIndices"></localname>
        </mutation>
        <field name="VAR0">tilesetIndices</field>
        <value name="DECL0">
          <block type="lists_create_with" id="384">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="385" inline="false">
            <statement name="STM">
              <block type="controls_forEach" id="386" inline="false">
                <field name="VAR">tileset</field>
                <value name="LIST">
                  <block type="procedures_callreturn" id="387" inline="false">
                    <mutation name="JsonLookup">
                      <arg name="query"></arg>
                      <arg name="json"></arg>
                    </mutation>
                    <field name="PROCNAME">JsonLookup</field>
                    <value name="ARG0">
                      <block type="text" id="388">
                        <field name="TEXT">tilesets</field>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="lexical_variable_get" id="389">
                        <field name="VAR">global TerrainJson</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_if" id="390" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="391" inline="true">
                        <field name="OP">NEQ</field>
                        <value name="A">
                          <block type="lists_lookup_in_pairs" id="392" inline="false">
                            <value name="KEY">
                              <block type="text" id="393">
                                <field name="TEXT">terrains</field>
                              </block>
                            </value>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="394">
                                <field name="VAR">tileset</field>
                              </block>
                            </value>
                            <value name="NOTFOUND">
                              <block type="text" id="395">
                                <field name="TEXT">not found terrain</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="text" id="396">
                            <field name="TEXT">not found terrain</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="local_declaration_statement" id="397" inline="false">
                        <mutation>
                          <localname name="obstacleIndices"></localname>
                        </mutation>
                        <field name="VAR0">obstacleIndices</field>
                        <value name="DECL0">
                          <block type="lists_create_with" id="398">
                            <mutation items="0"></mutation>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="local_declaration_statement" id="399" inline="false">
                            <mutation>
                              <localname name="terrains"></localname>
                            </mutation>
                            <field name="VAR0">terrains</field>
                            <value name="DECL0">
                              <block type="lists_lookup_in_pairs" id="400" inline="false">
                                <value name="KEY">
                                  <block type="text" id="401">
                                    <field name="TEXT">terrains</field>
                                  </block>
                                </value>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="402">
                                    <field name="VAR">tileset</field>
                                  </block>
                                </value>
                                <value name="NOTFOUND">
                                  <block type="text" id="403">
                                    <field name="TEXT">not found terrain</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="STACK">
                              <block type="controls_forRange" id="404" inline="false">
                                <field name="VAR">index</field>
                                <value name="START">
                                  <block type="math_number" id="405">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                                <value name="END">
                                  <block type="lists_length" id="406" inline="false">
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="407">
                                        <field name="VAR">terrains</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="STEP">
                                  <block type="math_number" id="408">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                                <statement name="DO">
                                  <block type="controls_if" id="409" inline="false">
                                    <value name="IF0">
                                      <block type="text_contains" id="410" inline="false">
                                        <value name="TEXT">
                                          <block type="lists_lookup_in_pairs" id="411" inline="false">
                                            <value name="KEY">
                                              <block type="text" id="412">
                                                <field name="TEXT">name</field>
                                              </block>
                                            </value>
                                            <value name="LIST">
                                              <block type="lists_select_item" id="413" inline="false">
                                                <value name="LIST">
                                                  <block type="lexical_variable_get" id="414">
                                                    <field name="VAR">terrains</field>
                                                  </block>
                                                </value>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="415">
                                                    <field name="VAR">index</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NOTFOUND">
                                              <block type="text" id="416">
                                                <field name="TEXT">not found name</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="PIECE">
                                          <block type="lexical_variable_get" id="417">
                                            <field name="VAR">obstacleName</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <statement name="DO0">
                                      <block type="lists_add_items" id="418" inline="false">
                                        <mutation items="1"></mutation>
                                        <value name="LIST">
                                          <block type="lexical_variable_get" id="419">
                                            <field name="VAR">obstacleIndices</field>
                                          </block>
                                        </value>
                                        <value name="ITEM0">
                                          <block type="math_subtract" id="420" inline="true">
                                            <comment pinned="false" h="80" w="160">json uses 0 indexed arrays, so subtract 1</comment>
                                            <value name="A">
                                              <block type="lexical_variable_get" id="421">
                                                <field name="VAR">index</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="math_number" id="422">
                                                <field name="NUM">1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </statement>
                                  </block>
                                </statement>
                              </block>
                            </statement>
                            <next>
                              <block type="lists_add_items" id="423" inline="false">
                                <mutation items="1"></mutation>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="424">
                                    <field name="VAR">tilesetIndices</field>
                                  </block>
                                </value>
                                <value name="ITEM0">
                                  <block type="lexical_variable_get" id="425">
                                    <field name="VAR">obstacleIndices</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="426">
                <field name="VAR">tilesetIndices</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_callnoreturn" id="427" collapsed="true" x="2350" y="1686">
    <mutation name="ZoomInMap"></mutation>
    <field name="PROCNAME">ZoomInMap</field>
  </block>
  <block type="component_event" id="428" collapsed="true" x="3504" y="1630">
    <mutation component_type="Button" instance_name="CollapseButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">CollapseButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="429">
        <mutation name="CollapseMap"></mutation>
        <field name="PROCNAME">CollapseMap</field>
        <next>
          <block type="procedures_callnoreturn" id="430">
            <mutation name="Reset"></mutation>
            <field name="PROCNAME">Reset</field>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="431" collapsed="true" x="3574" y="1644">
    <mutation></mutation>
    <field name="NAME">CollapseMap</field>
    <statement name="STACK">
      <block type="component_set_get" id="432" inline="false">
        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
        <field name="COMPONENT_SELECTOR">Row1</field>
        <field name="PROP">Height</field>
        <value name="VALUE">
          <block type="math_number" id="433">
            <field name="NUM">0</field>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="434" inline="false">
            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row2"></mutation>
            <field name="COMPONENT_SELECTOR">Row2</field>
            <field name="PROP">Height</field>
            <value name="VALUE">
              <block type="math_number" id="435">
                <field name="NUM">0</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="436" inline="false">
                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row4"></mutation>
                <field name="COMPONENT_SELECTOR">Row4</field>
                <field name="PROP">Height</field>
                <value name="VALUE">
                  <block type="math_number" id="437">
                    <field name="NUM">0</field>
                  </block>
                </value>
                <next>
                  <block type="component_set_get" id="438" inline="false">
                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                    <field name="COMPONENT_SELECTOR">Row5</field>
                    <field name="PROP">Height</field>
                    <value name="VALUE">
                      <block type="math_number" id="439">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                    <next>
                      <block type="component_set_get" id="440" inline="false">
                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col1"></mutation>
                        <field name="COMPONENT_SELECTOR">Row3Col1</field>
                        <field name="PROP">Width</field>
                        <value name="VALUE">
                          <block type="math_number" id="441">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                        <next>
                          <block type="component_set_get" id="442" inline="false">
                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col2"></mutation>
                            <field name="COMPONENT_SELECTOR">Row3Col2</field>
                            <field name="PROP">Width</field>
                            <value name="VALUE">
                              <block type="math_number" id="443">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="444" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col4"></mutation>
                                <field name="COMPONENT_SELECTOR">Row3Col4</field>
                                <field name="PROP">Width</field>
                                <value name="VALUE">
                                  <block type="math_number" id="445">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="446" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row3Col5</field>
                                    <field name="PROP">Width</field>
                                    <value name="VALUE">
                                      <block type="math_number" id="447">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="448" inline="false">
                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col3"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                        <field name="PROP">Width</field>
                                        <value name="VALUE">
                                          <block type="math_number" id="449">
                                            <field name="NUM">320</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_set_get" id="450" inline="false">
                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row3Col3"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                            <field name="PROP">Height</field>
                                            <value name="VALUE">
                                              <block type="math_number" id="451">
                                                <field name="NUM">320</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="component_set_get" id="452" inline="false">
                                                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                <field name="PROP">Width</field>
                                                <value name="VALUE">
                                                  <block type="math_number" id="453">
                                                    <field name="NUM">320</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="component_set_get" id="454" inline="false">
                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                    <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                    <field name="PROP">Height</field>
                                                    <value name="VALUE">
                                                      <block type="math_number" id="455">
                                                        <field name="NUM">320</field>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type="component_set_get" id="456" inline="false">
                                                        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
                                                        <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
                                                        <field name="PROP">TimerEnabled</field>
                                                        <value name="VALUE">
                                                          <block type="logic_boolean" id="457">
                                                            <field name="BOOL">FALSE</field>
                                                          </block>
                                                        </value>
                                                        <next>
                                                          <block type="component_set_get" id="458" inline="false">
                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R3C2Canvas"></mutation>
                                                            <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                                                            <field name="PROP">Width</field>
                                                            <value name="VALUE">
                                                              <block type="math_number" id="459">
                                                                <field name="NUM">1</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type="component_set_get" id="460" inline="false">
                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R3C2Canvas"></mutation>
                                                                <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                                                                <field name="PROP">Height</field>
                                                                <value name="VALUE">
                                                                  <block type="math_number" id="461">
                                                                    <field name="NUM">1</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type="component_set_get" id="462" inline="false">
                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R3C4Canvas"></mutation>
                                                                    <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                                                                    <field name="PROP">Width</field>
                                                                    <value name="VALUE">
                                                                      <block type="math_number" id="463">
                                                                        <field name="NUM">1</field>
                                                                      </block>
                                                                    </value>
                                                                    <next>
                                                                      <block type="component_set_get" id="464" inline="false">
                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R3C4Canvas"></mutation>
                                                                        <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                                                                        <field name="PROP">Height</field>
                                                                        <value name="VALUE">
                                                                          <block type="math_number" id="465">
                                                                            <field name="NUM">1</field>
                                                                          </block>
                                                                        </value>
                                                                        <next>
                                                                          <block type="component_set_get" id="466" inline="false">
                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R2C2Canvas"></mutation>
                                                                            <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
                                                                            <field name="PROP">Width</field>
                                                                            <value name="VALUE">
                                                                              <block type="math_number" id="467">
                                                                                <field name="NUM">1</field>
                                                                              </block>
                                                                            </value>
                                                                            <next>
                                                                              <block type="component_set_get" id="468" inline="false">
                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R2C2Canvas"></mutation>
                                                                                <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
                                                                                <field name="PROP">Height</field>
                                                                                <value name="VALUE">
                                                                                  <block type="math_number" id="469">
                                                                                    <field name="NUM">1</field>
                                                                                  </block>
                                                                                </value>
                                                                                <next>
                                                                                  <block type="component_set_get" id="470" inline="false">
                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R2C3Canvas"></mutation>
                                                                                    <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                                                                                    <field name="PROP">Width</field>
                                                                                    <value name="VALUE">
                                                                                      <block type="math_number" id="471">
                                                                                        <field name="NUM">1</field>
                                                                                      </block>
                                                                                    </value>
                                                                                    <next>
                                                                                      <block type="component_set_get" id="472" inline="false">
                                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R2C3Canvas"></mutation>
                                                                                        <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                                                                                        <field name="PROP">Height</field>
                                                                                        <value name="VALUE">
                                                                                          <block type="math_number" id="473">
                                                                                            <field name="NUM">1</field>
                                                                                          </block>
                                                                                        </value>
                                                                                        <next>
                                                                                          <block type="component_set_get" id="474" inline="false">
                                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R2C4Canvas"></mutation>
                                                                                            <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
                                                                                            <field name="PROP">Width</field>
                                                                                            <value name="VALUE">
                                                                                              <block type="math_number" id="475">
                                                                                                <field name="NUM">1</field>
                                                                                              </block>
                                                                                            </value>
                                                                                            <next>
                                                                                              <block type="component_set_get" id="476" inline="false">
                                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R2C4Canvas"></mutation>
                                                                                                <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
                                                                                                <field name="PROP">Height</field>
                                                                                                <value name="VALUE">
                                                                                                  <block type="math_number" id="477">
                                                                                                    <field name="NUM">1</field>
                                                                                                  </block>
                                                                                                </value>
                                                                                                <next>
                                                                                                  <block type="component_set_get" id="478" inline="false">
                                                                                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col1"></mutation>
                                                                                                    <field name="COMPONENT_SELECTOR">Row2Col1</field>
                                                                                                    <field name="PROP">Width</field>
                                                                                                    <value name="VALUE">
                                                                                                      <block type="math_number" id="479">
                                                                                                        <field name="NUM">0</field>
                                                                                                      </block>
                                                                                                    </value>
                                                                                                    <next>
                                                                                                      <block type="component_set_get" id="480" inline="false">
                                                                                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col2"></mutation>
                                                                                                        <field name="COMPONENT_SELECTOR">Row2Col2</field>
                                                                                                        <field name="PROP">Width</field>
                                                                                                        <value name="VALUE">
                                                                                                          <block type="math_number" id="481">
                                                                                                            <field name="NUM">0</field>
                                                                                                          </block>
                                                                                                        </value>
                                                                                                        <next>
                                                                                                          <block type="component_set_get" id="482" inline="false">
                                                                                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col4"></mutation>
                                                                                                            <field name="COMPONENT_SELECTOR">Row2Col4</field>
                                                                                                            <field name="PROP">Width</field>
                                                                                                            <value name="VALUE">
                                                                                                              <block type="math_number" id="483">
                                                                                                                <field name="NUM">0</field>
                                                                                                              </block>
                                                                                                            </value>
                                                                                                            <next>
                                                                                                              <block type="component_set_get" id="484" inline="false">
                                                                                                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col5"></mutation>
                                                                                                                <field name="COMPONENT_SELECTOR">Row2Col5</field>
                                                                                                                <field name="PROP">Width</field>
                                                                                                                <value name="VALUE">
                                                                                                                  <block type="math_number" id="485">
                                                                                                                    <field name="NUM">0</field>
                                                                                                                  </block>
                                                                                                                </value>
                                                                                                                <next>
                                                                                                                  <block type="component_set_get" id="486" inline="false">
                                                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R4C2Canvas"></mutation>
                                                                                                                    <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
                                                                                                                    <field name="PROP">Width</field>
                                                                                                                    <value name="VALUE">
                                                                                                                      <block type="math_number" id="487">
                                                                                                                        <field name="NUM">1</field>
                                                                                                                      </block>
                                                                                                                    </value>
                                                                                                                    <next>
                                                                                                                      <block type="component_set_get" id="488" inline="false">
                                                                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R4C2Canvas"></mutation>
                                                                                                                        <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
                                                                                                                        <field name="PROP">Height</field>
                                                                                                                        <value name="VALUE">
                                                                                                                          <block type="math_number" id="489">
                                                                                                                            <field name="NUM">1</field>
                                                                                                                          </block>
                                                                                                                        </value>
                                                                                                                        <next>
                                                                                                                          <block type="component_set_get" id="490" inline="false">
                                                                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R4C3Canvas"></mutation>
                                                                                                                            <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                                                                                                            <field name="PROP">Width</field>
                                                                                                                            <value name="VALUE">
                                                                                                                              <block type="math_number" id="491">
                                                                                                                                <field name="NUM">1</field>
                                                                                                                              </block>
                                                                                                                            </value>
                                                                                                                            <next>
                                                                                                                              <block type="component_set_get" id="492" inline="false">
                                                                                                                                <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R4C3Canvas"></mutation>
                                                                                                                                <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                                                                                                                <field name="PROP">Height</field>
                                                                                                                                <value name="VALUE">
                                                                                                                                  <block type="math_number" id="493">
                                                                                                                                    <field name="NUM">1</field>
                                                                                                                                  </block>
                                                                                                                                </value>
                                                                                                                                <next>
                                                                                                                                  <block type="component_set_get" id="494" inline="false">
                                                                                                                                    <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="false" instance_name="R4C4Canvas"></mutation>
                                                                                                                                    <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
                                                                                                                                    <field name="PROP">Width</field>
                                                                                                                                    <value name="VALUE">
                                                                                                                                      <block type="math_number" id="495">
                                                                                                                                        <field name="NUM">1</field>
                                                                                                                                      </block>
                                                                                                                                    </value>
                                                                                                                                    <next>
                                                                                                                                      <block type="component_set_get" id="496" inline="false">
                                                                                                                                        <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="false" instance_name="R4C4Canvas"></mutation>
                                                                                                                                        <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
                                                                                                                                        <field name="PROP">Height</field>
                                                                                                                                        <value name="VALUE">
                                                                                                                                          <block type="math_number" id="497">
                                                                                                                                            <field name="NUM">1</field>
                                                                                                                                          </block>
                                                                                                                                        </value>
                                                                                                                                        <next>
                                                                                                                                          <block type="component_set_get" id="498" inline="false">
                                                                                                                                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col1"></mutation>
                                                                                                                                            <field name="COMPONENT_SELECTOR">Row4Col1</field>
                                                                                                                                            <field name="PROP">Width</field>
                                                                                                                                            <value name="VALUE">
                                                                                                                                              <block type="math_number" id="499">
                                                                                                                                                <field name="NUM">0</field>
                                                                                                                                              </block>
                                                                                                                                            </value>
                                                                                                                                            <next>
                                                                                                                                              <block type="component_set_get" id="500" inline="false">
                                                                                                                                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col2"></mutation>
                                                                                                                                                <field name="COMPONENT_SELECTOR">Row4Col2</field>
                                                                                                                                                <field name="PROP">Width</field>
                                                                                                                                                <value name="VALUE">
                                                                                                                                                  <block type="math_number" id="501">
                                                                                                                                                    <field name="NUM">0</field>
                                                                                                                                                  </block>
                                                                                                                                                </value>
                                                                                                                                                <next>
                                                                                                                                                  <block type="component_set_get" id="502" inline="false">
                                                                                                                                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col4"></mutation>
                                                                                                                                                    <field name="COMPONENT_SELECTOR">Row4Col4</field>
                                                                                                                                                    <field name="PROP">Width</field>
                                                                                                                                                    <value name="VALUE">
                                                                                                                                                      <block type="math_number" id="503">
                                                                                                                                                        <field name="NUM">0</field>
                                                                                                                                                      </block>
                                                                                                                                                    </value>
                                                                                                                                                    <next>
                                                                                                                                                      <block type="component_set_get" id="504" inline="false">
                                                                                                                                                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col5"></mutation>
                                                                                                                                                        <field name="COMPONENT_SELECTOR">Row2Col5</field>
                                                                                                                                                        <field name="PROP">Width</field>
                                                                                                                                                        <value name="VALUE">
                                                                                                                                                          <block type="math_number" id="505">
                                                                                                                                                            <field name="NUM">0</field>
                                                                                                                                                          </block>
                                                                                                                                                        </value>
                                                                                                                                                        <next>
                                                                                                                                                          <block type="component_set_get" id="506" inline="false">
                                                                                                                                                            <mutation component_type="Canvas" set_or_get="set" property_name="Visible" is_generic="false" instance_name="WorldCanvas"></mutation>
                                                                                                                                                            <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                                                                                                                                            <field name="PROP">Visible</field>
                                                                                                                                                            <value name="VALUE">
                                                                                                                                                              <block type="logic_boolean" id="507">
                                                                                                                                                                <field name="BOOL">TRUE</field>
                                                                                                                                                              </block>
                                                                                                                                                            </value>
                                                                                                                                                          </block>
                                                                                                                                                        </next>
                                                                                                                                                      </block>
                                                                                                                                                    </next>
                                                                                                                                                  </block>
                                                                                                                                                </next>
                                                                                                                                              </block>
                                                                                                                                            </next>
                                                                                                                                          </block>
                                                                                                                                        </next>
                                                                                                                                      </block>
                                                                                                                                    </next>
                                                                                                                                  </block>
                                                                                                                                </next>
                                                                                                                              </block>
                                                                                                                            </next>
                                                                                                                          </block>
                                                                                                                        </next>
                                                                                                                      </block>
                                                                                                                    </next>
                                                                                                                  </block>
                                                                                                                </next>
                                                                                                              </block>
                                                                                                            </next>
                                                                                                          </block>
                                                                                                        </next>
                                                                                                      </block>
                                                                                                    </next>
                                                                                                  </block>
                                                                                                </next>
                                                                                              </block>
                                                                                            </next>
                                                                                          </block>
                                                                                        </next>
                                                                                      </block>
                                                                                    </next>
                                                                                  </block>
                                                                                </next>
                                                                              </block>
                                                                            </next>
                                                                          </block>
                                                                        </next>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </next>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="508" collapsed="true" x="3224" y="1668">
    <mutation component_type="Button" instance_name="LeftButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">LeftButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="509" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="510">
            <field name="NUM">180</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="511" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="512">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="513" inline="false" collapsed="true" x="2658" y="1719">
    <field name="NAME">MapShrinkSize</field>
    <value name="VALUE">
      <block type="math_number" id="514">
        <field name="NUM">64</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="515" inline="false" collapsed="true" x="2945" y="1719">
    <field name="NAME">IsCharacterMoving</field>
    <value name="VALUE">
      <block type="logic_false" id="516">
        <field name="BOOL">FALSE</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="517" inline="false" collapsed="true" x="3224" y="1719">
    <field name="NAME">MapBorderCellsRight</field>
    <value name="VALUE">
      <block type="lists_create_with" id="518">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="519" inline="false" collapsed="true" x="3504" y="1719">
    <field name="NAME">WorldPosition</field>
    <value name="VALUE">
      <block type="lists_create_with" id="520" inline="false">
        <mutation items="2"></mutation>
        <value name="ADD0">
          <block type="math_number" id="521">
            <field name="NUM">1</field>
          </block>
        </value>
        <value name="ADD1">
          <block type="math_number" id="522">
            <field name="NUM">1</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="523" inline="false" collapsed="true" x="2658" y="1770">
    <field name="NAME">Ydirection</field>
    <value name="VALUE">
      <block type="math_number" id="524">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="525" inline="false" collapsed="true" x="2945" y="1770">
    <field name="NAME">MapCardinalCanvases</field>
    <value name="VALUE">
      <block type="lists_create_with" id="526">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="component_event" id="527" collapsed="true" x="2362" y="1805">
    <mutation component_type="Button" instance_name="SlideButton" event_name="Click"></mutation>
    <field name="COMPONENT_SELECTOR">SlideButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="528">
        <mutation name="PlaceCharacterOnGrid"></mutation>
        <field name="PROCNAME">PlaceCharacterOnGrid</field>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="529" inline="false" collapsed="true" x="3224" y="1770">
    <field name="NAME">MovementDelay</field>
    <value name="VALUE">
      <block type="logic_false" id="530">
        <field name="BOOL">FALSE</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="531" inline="false" collapsed="true" x="3504" y="1770">
    <field name="NAME">WorldMapSize</field>
    <value name="VALUE">
      <block type="lists_create_with" id="532" inline="false">
        <mutation items="2"></mutation>
        <value name="ADD0">
          <block type="math_number" id="533">
            <field name="NUM">3</field>
          </block>
        </value>
        <value name="ADD1">
          <block type="math_number" id="534">
            <field name="NUM">3</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="535" collapsed="true" x="2678" y="1826">
    <mutation>
      <arg name="canvases"></arg>
      <arg name="cells"></arg>
      <arg name="size"></arg>
    </mutation>
    <field name="NAME">ResizeMapCells</field>
    <field name="VAR0">canvases</field>
    <field name="VAR1">cells</field>
    <field name="VAR2">size</field>
    <statement name="STACK">
      <block type="controls_forEach" id="536" inline="false">
        <field name="VAR">cell</field>
        <value name="LIST">
          <block type="lexical_variable_get" id="537">
            <field name="VAR">cells</field>
          </block>
        </value>
        <statement name="DO">
          <block type="component_set_get" id="538" inline="false">
            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="true"></mutation>
            <field name="PROP">Height</field>
            <value name="COMPONENT">
              <block type="lexical_variable_get" id="539">
                <field name="VAR">cell</field>
              </block>
            </value>
            <value name="VALUE">
              <block type="lexical_variable_get" id="540">
                <field name="VAR">size</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="541" inline="false">
                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="true"></mutation>
                <field name="PROP">Width</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="542">
                    <field name="VAR">cell</field>
                  </block>
                </value>
                <value name="VALUE">
                  <block type="lexical_variable_get" id="543">
                    <field name="VAR">size</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </statement>
        <next>
          <block type="controls_forEach" id="544" inline="false">
            <field name="VAR">canvas</field>
            <value name="LIST">
              <block type="lexical_variable_get" id="545">
                <field name="VAR">canvases</field>
              </block>
            </value>
            <statement name="DO">
              <block type="component_set_get" id="546" inline="false">
                <mutation component_type="Canvas" set_or_get="set" property_name="Width" is_generic="true"></mutation>
                <field name="PROP">Width</field>
                <value name="COMPONENT">
                  <block type="lexical_variable_get" id="547">
                    <field name="VAR">canvas</field>
                  </block>
                </value>
                <value name="VALUE">
                  <block type="math_on_list" id="548" inline="false">
                    <mutation items="2"></mutation>
                    <field name="OP">MAX</field>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="549">
                        <field name="VAR">size</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="550">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="component_set_get" id="551" inline="false">
                    <mutation component_type="Canvas" set_or_get="set" property_name="Height" is_generic="true"></mutation>
                    <field name="PROP">Height</field>
                    <value name="COMPONENT">
                      <block type="lexical_variable_get" id="552">
                        <field name="VAR">canvas</field>
                      </block>
                    </value>
                    <value name="VALUE">
                      <block type="math_on_list" id="553" inline="false">
                        <mutation items="2"></mutation>
                        <field name="OP">MAX</field>
                        <value name="NUM0">
                          <block type="lexical_variable_get" id="554">
                            <field name="VAR">size</field>
                          </block>
                        </value>
                        <value name="NUM1">
                          <block type="math_number" id="555">
                            <field name="NUM">1</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defreturn" id="556" inline="false" collapsed="true" x="1499" y="1894">
    <mutation>
      <arg name="terrainObstacleIndices"></arg>
    </mutation>
    <field name="NAME">GetObstacleValues</field>
    <field name="VAR0">terrainObstacleIndices</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="557" inline="false">
        <mutation>
          <localname name="obstacleValues"></localname>
        </mutation>
        <field name="VAR0">obstacleValues</field>
        <value name="DECL0">
          <block type="lists_create_with" id="558">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="559" inline="false">
            <statement name="STM">
              <block type="local_declaration_statement" id="560" inline="false">
                <mutation>
                  <localname name="tilesets"></localname>
                </mutation>
                <field name="VAR0">tilesets</field>
                <value name="DECL0">
                  <block type="procedures_callreturn" id="561" inline="false">
                    <mutation name="JsonLookup">
                      <arg name="query"></arg>
                      <arg name="json"></arg>
                    </mutation>
                    <field name="PROCNAME">JsonLookup</field>
                    <value name="ARG0">
                      <block type="text" id="562">
                        <field name="TEXT">tilesets</field>
                      </block>
                    </value>
                    <value name="ARG1">
                      <block type="lexical_variable_get" id="563">
                        <field name="VAR">global TerrainJson</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="STACK">
                  <block type="controls_forRange" id="564" inline="false">
                    <field name="VAR">tilesetIndex</field>
                    <value name="START">
                      <block type="math_number" id="565">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                    <value name="END">
                      <block type="lists_length" id="566" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="567">
                            <field name="VAR">tilesets</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="STEP">
                      <block type="math_number" id="568">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="local_declaration_statement" id="569" inline="false">
                        <mutation>
                          <localname name="tileset"></localname>
                        </mutation>
                        <field name="VAR0">tileset</field>
                        <value name="DECL0">
                          <block type="lists_select_item" id="570" inline="false">
                            <value name="LIST">
                              <block type="lexical_variable_get" id="571">
                                <field name="VAR">tilesets</field>
                              </block>
                            </value>
                            <value name="NUM">
                              <block type="lexical_variable_get" id="572">
                                <field name="VAR">tilesetIndex</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="controls_if" id="573" inline="false">
                            <value name="IF0">
                              <block type="math_compare" id="574" inline="true">
                                <field name="OP">NEQ</field>
                                <value name="A">
                                  <block type="lists_lookup_in_pairs" id="575" inline="false">
                                    <value name="KEY">
                                      <block type="text" id="576">
                                        <field name="TEXT">tiles</field>
                                      </block>
                                    </value>
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="577">
                                        <field name="VAR">tileset</field>
                                      </block>
                                    </value>
                                    <value name="NOTFOUND">
                                      <block type="text" id="578">
                                        <field name="TEXT">not found tile</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="text" id="579">
                                    <field name="TEXT">not found tile</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO0">
                              <block type="controls_forEach" id="580" inline="false">
                                <field name="VAR">tile</field>
                                <value name="LIST">
                                  <block type="lists_lookup_in_pairs" id="581" inline="false">
                                    <value name="KEY">
                                      <block type="text" id="582">
                                        <field name="TEXT">tiles</field>
                                      </block>
                                    </value>
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="583">
                                        <field name="VAR">tileset</field>
                                      </block>
                                    </value>
                                    <value name="NOTFOUND">
                                      <block type="text" id="584">
                                        <field name="TEXT">not found tile</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO">
                                  <block type="local_declaration_statement" id="585" inline="false">
                                    <mutation>
                                      <localname name="obstacleCount"></localname>
                                    </mutation>
                                    <field name="VAR0">obstacleCount</field>
                                    <value name="DECL0">
                                      <block type="math_number" id="586">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                    <statement name="STACK">
                                      <block type="controls_forEach" id="587" inline="false">
                                        <field name="VAR">tileValue</field>
                                        <value name="LIST">
                                          <block type="lists_lookup_in_pairs" id="588" inline="false">
                                            <value name="KEY">
                                              <block type="text" id="589">
                                                <field name="TEXT">terrain</field>
                                              </block>
                                            </value>
                                            <value name="LIST">
                                              <block type="lists_select_item" id="590" inline="false">
                                                <value name="LIST">
                                                  <block type="lexical_variable_get" id="591">
                                                    <field name="VAR">tile</field>
                                                  </block>
                                                </value>
                                                <value name="NUM">
                                                  <block type="math_number" id="592">
                                                    <field name="NUM">2</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NOTFOUND">
                                              <block type="text" id="593">
                                                <field name="TEXT">not found tile</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <statement name="DO">
                                          <block type="controls_if" id="594" inline="false">
                                            <value name="IF0">
                                              <block type="lists_is_in" id="595" inline="false">
                                                <value name="ITEM">
                                                  <block type="lexical_variable_get" id="596">
                                                    <field name="VAR">tileValue</field>
                                                  </block>
                                                </value>
                                                <value name="LIST">
                                                  <block type="lists_select_item" id="597" inline="false">
                                                    <value name="LIST">
                                                      <block type="lexical_variable_get" id="598">
                                                        <field name="VAR">terrainObstacleIndices</field>
                                                      </block>
                                                    </value>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="599">
                                                        <field name="VAR">tilesetIndex</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <statement name="DO0">
                                              <block type="lexical_variable_set" id="600" inline="false">
                                                <field name="VAR">obstacleCount</field>
                                                <value name="VALUE">
                                                  <block type="math_add" id="601" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="lexical_variable_get" id="602">
                                                        <field name="VAR">obstacleCount</field>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="603">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type="controls_if" id="604" inline="false">
                                            <value name="IF0">
                                              <block type="math_compare" id="605" inline="true">
                                                <field name="OP">GT</field>
                                                <value name="A">
                                                  <block type="lexical_variable_get" id="606">
                                                    <field name="VAR">obstacleCount</field>
                                                  </block>
                                                </value>
                                                <value name="B">
                                                  <block type="math_number" id="607">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <statement name="DO0">
                                              <block type="lists_add_items" id="608" inline="false">
                                                <mutation items="1"></mutation>
                                                <value name="LIST">
                                                  <block type="lexical_variable_get" id="609">
                                                    <field name="VAR">obstacleValues</field>
                                                  </block>
                                                </value>
                                                <value name="ITEM0">
                                                  <block type="math_add" id="610" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <comment pinned="false" h="80" w="160">Tile names are 1 more than the terrain value they refer to.</comment>
                                                    <value name="NUM0">
                                                      <block type="lists_select_item" id="611" inline="false">
                                                        <value name="LIST">
                                                          <block type="lexical_variable_get" id="612">
                                                            <field name="VAR">tile</field>
                                                          </block>
                                                        </value>
                                                        <value name="NUM">
                                                          <block type="math_number" id="613">
                                                            <field name="NUM">1</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="614">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </statement>
                                          </block>
                                        </next>
                                      </block>
                                    </statement>
                                  </block>
                                </statement>
                              </block>
                            </statement>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </statement>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="615">
                <field name="VAR">obstacleValues</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="616" collapsed="true" x="4405" y="1789">
    <mutation component_type="Clock" instance_name="ZoomInMapTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">ZoomInMapTimer</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="617" inline="false">
        <field name="VAR">global MapSlideGrowthSize</field>
        <value name="VALUE">
          <block type="math_add" id="618" inline="true">
            <mutation items="2"></mutation>
            <value name="NUM0">
              <block type="lexical_variable_get" id="619">
                <field name="VAR">global MapSlideGrowthSize</field>
              </block>
            </value>
            <value name="NUM1">
              <block type="math_multiply" id="620" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="621">
                    <field name="VAR">global MapSpeed</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="math_number" id="622">
                    <field name="NUM">4</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="623" inline="false">
            <field name="VAR">global MapShrinkSize</field>
            <value name="VALUE">
              <block type="math_subtract" id="624" inline="true">
                <value name="A">
                  <block type="lexical_variable_get" id="625">
                    <field name="VAR">global MapShrinkSize</field>
                  </block>
                </value>
                <value name="B">
                  <block type="lexical_variable_get" id="626">
                    <field name="VAR">global MapSpeed</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_if" id="627" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="628" inline="true">
                    <field name="OP">GTE</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="629">
                        <field name="VAR">global MapShrinkSize</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="630">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="local_declaration_statement" id="631" inline="false">
                    <mutation>
                      <localname name="doubleMapShrinkSize"></localname>
                    </mutation>
                    <field name="VAR0">doubleMapShrinkSize</field>
                    <value name="DECL0">
                      <block type="math_multiply" id="632" inline="true">
                        <mutation items="2"></mutation>
                        <value name="NUM0">
                          <block type="lexical_variable_get" id="633">
                            <field name="VAR">global MapShrinkSize</field>
                          </block>
                        </value>
                        <value name="NUM1">
                          <block type="math_number" id="634">
                            <field name="NUM">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="STACK">
                      <block type="procedures_callnoreturn" id="635" inline="false">
                        <mutation name="ResizeMapCells">
                          <arg name="canvases"></arg>
                          <arg name="cells"></arg>
                          <arg name="size"></arg>
                        </mutation>
                        <field name="PROCNAME">ResizeMapCells</field>
                        <value name="ARG0">
                          <block type="lists_create_with" id="636">
                            <mutation items="0"></mutation>
                          </block>
                        </value>
                        <value name="ARG1">
                          <block type="lexical_variable_get" id="637">
                            <field name="VAR">global MapBorderCellsRight</field>
                          </block>
                        </value>
                        <value name="ARG2">
                          <block type="math_on_list" id="638" inline="false">
                            <mutation items="2"></mutation>
                            <field name="OP">MIN</field>
                            <value name="NUM0">
                              <block type="math_add" id="639" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="math_multiply" id="640" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_on_list" id="641" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MAX</field>
                                        <value name="NUM0">
                                          <block type="math_neg" id="642" inline="false">
                                            <field name="OP">NEG</field>
                                            <value name="NUM">
                                              <block type="math_cos" id="643" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="644">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="645">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="lexical_variable_get" id="646">
                                        <field name="VAR">doubleMapShrinkSize</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_multiply" id="647" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_add" id="648" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_on_list" id="649" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MIN</field>
                                            <value name="NUM0">
                                              <block type="math_cos" id="650" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="651">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="652">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="653">
                                            <field name="NUM">1</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="lexical_variable_get" id="654">
                                        <field name="VAR">global MapShrinkSize</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="component_set_get" id="655">
                                <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Width" is_generic="false" instance_name="Row3Col5"></mutation>
                                <field name="COMPONENT_SELECTOR">Row3Col5</field>
                                <field name="PROP">Width</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <next>
                          <block type="procedures_callnoreturn" id="656" inline="false">
                            <mutation name="ResizeMapCells">
                              <arg name="canvases"></arg>
                              <arg name="cells"></arg>
                              <arg name="size"></arg>
                            </mutation>
                            <field name="PROCNAME">ResizeMapCells</field>
                            <value name="ARG0">
                              <block type="lists_create_with" id="657">
                                <mutation items="0"></mutation>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lexical_variable_get" id="658">
                                <field name="VAR">global MapBorderCellsLeft</field>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="math_on_list" id="659" inline="false">
                                <mutation items="2"></mutation>
                                <field name="OP">MIN</field>
                                <value name="NUM0">
                                  <block type="math_add" id="660" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="661" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_on_list" id="662" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_cos" id="663" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="664">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="665">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="666">
                                            <field name="VAR">doubleMapShrinkSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_multiply" id="667" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_add" id="668" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="669" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MIN</field>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="670" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="math_cos" id="671" inline="false">
                                                        <field name="OP">COS</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="672">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="673">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="674">
                                                <field name="NUM">1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="675">
                                            <field name="VAR">global MapShrinkSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="component_set_get" id="676">
                                    <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Width" is_generic="false" instance_name="Row3Col1"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row3Col1</field>
                                    <field name="PROP">Width</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="677" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                <field name="COMPONENT_SELECTOR">Row1</field>
                                <field name="PROP">Height</field>
                                <value name="VALUE">
                                  <block type="math_on_list" id="678" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MIN</field>
                                    <value name="NUM0">
                                      <block type="math_add" id="679" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="680" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="681" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MAX</field>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="682" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="math_cos" id="683" inline="false">
                                                        <field name="OP">SIN</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="684">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="685">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="686">
                                                <field name="VAR">doubleMapShrinkSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_multiply" id="687" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_add" id="688" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="689" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MIN</field>
                                                    <value name="NUM0">
                                                      <block type="math_cos" id="690" inline="false">
                                                        <field name="OP">SIN</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="691">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="692">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="693">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="694">
                                                <field name="VAR">global MapShrinkSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="component_set_get" id="695">
                                        <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row1</field>
                                        <field name="PROP">Height</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="696" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row5</field>
                                    <field name="PROP">Height</field>
                                    <value name="VALUE">
                                      <block type="math_on_list" id="697" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MIN</field>
                                        <value name="NUM0">
                                          <block type="math_add" id="698" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="699" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="700" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MAX</field>
                                                    <value name="NUM0">
                                                      <block type="math_cos" id="701" inline="false">
                                                        <field name="OP">SIN</field>
                                                        <value name="NUM">
                                                          <block type="lexical_variable_get" id="702">
                                                            <field name="VAR">global MapSlideDirection</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="703">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="704">
                                                    <field name="VAR">doubleMapShrinkSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_multiply" id="705" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_add" id="706" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="707" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MIN</field>
                                                        <value name="NUM0">
                                                          <block type="math_neg" id="708" inline="false">
                                                            <field name="OP">NEG</field>
                                                            <value name="NUM">
                                                              <block type="math_cos" id="709" inline="false">
                                                                <field name="OP">SIN</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="710">
                                                                    <field name="VAR">global MapSlideDirection</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="711">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="712">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="713">
                                                    <field name="VAR">global MapShrinkSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="component_set_get" id="714">
                                            <mutation component_type="HorizontalArrangement" set_or_get="get" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row5</field>
                                            <field name="PROP">Height</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                    <next>
                      <block type="procedures_callnoreturn" id="715" inline="false">
                        <mutation name="ResizeMapCells">
                          <arg name="canvases"></arg>
                          <arg name="cells"></arg>
                          <arg name="size"></arg>
                        </mutation>
                        <field name="PROCNAME">ResizeMapCells</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="716">
                            <field name="VAR">global MapCornerCanvases</field>
                          </block>
                        </value>
                        <value name="ARG1">
                          <block type="lexical_variable_get" id="717">
                            <field name="VAR">global MapCornerCells</field>
                          </block>
                        </value>
                        <value name="ARG2">
                          <block type="lexical_variable_get" id="718">
                            <field name="VAR">global MapShrinkSize</field>
                          </block>
                        </value>
                        <next>
                          <block type="procedures_callnoreturn" id="719" inline="false">
                            <mutation name="ResizeMapCells">
                              <arg name="canvases"></arg>
                              <arg name="cells"></arg>
                              <arg name="size"></arg>
                            </mutation>
                            <field name="PROCNAME">ResizeMapCells</field>
                            <value name="ARG0">
                              <block type="lists_create_with" id="720" inline="false">
                                <mutation items="1"></mutation>
                                <value name="ADD0">
                                  <block type="component_component_block" id="721">
                                    <mutation component_type="Canvas" instance_name="WorldCanvas"></mutation>
                                    <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lists_create_with" id="722" inline="false">
                                <mutation items="1"></mutation>
                                <value name="ADD0">
                                  <block type="component_component_block" id="723">
                                    <mutation component_type="HorizontalArrangement" instance_name="Row3Col3"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row3Col3</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="ARG2">
                              <block type="lexical_variable_get" id="724">
                                <field name="VAR">global MapShrinkSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="procedures_callnoreturn" id="725" inline="false">
                                <mutation name="ResizeMapCells">
                                  <arg name="canvases"></arg>
                                  <arg name="cells"></arg>
                                  <arg name="size"></arg>
                                </mutation>
                                <field name="PROCNAME">ResizeMapCells</field>
                                <value name="ARG0">
                                  <block type="lists_create_with" id="726" inline="false">
                                    <mutation items="1"></mutation>
                                    <value name="ADD0">
                                      <block type="component_component_block" id="727">
                                        <mutation component_type="Canvas" instance_name="R3C4Canvas"></mutation>
                                        <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ARG1">
                                  <block type="lists_create_with" id="728" inline="false">
                                    <mutation items="1"></mutation>
                                    <value name="ADD0">
                                      <block type="component_component_block" id="729">
                                        <mutation component_type="HorizontalArrangement" instance_name="Row3Col4"></mutation>
                                        <field name="COMPONENT_SELECTOR">Row3Col4</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ARG2">
                                  <block type="math_add" id="730" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="731" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_on_list" id="732" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_neg" id="733" inline="false">
                                                <field name="OP">NEG</field>
                                                <value name="NUM">
                                                  <block type="math_cos" id="734" inline="false">
                                                    <field name="OP">COS</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="735">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="736">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="737">
                                            <field name="VAR">global MapSlideGrowthSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_multiply" id="738" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_add" id="739" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="740" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MIN</field>
                                                <value name="NUM0">
                                                  <block type="math_cos" id="741" inline="false">
                                                    <field name="OP">COS</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="742">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="743">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="744">
                                                <field name="NUM">1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="745">
                                            <field name="VAR">global MapShrinkSize</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type="procedures_callnoreturn" id="746" inline="false">
                                    <mutation name="ResizeMapCells">
                                      <arg name="canvases"></arg>
                                      <arg name="cells"></arg>
                                      <arg name="size"></arg>
                                    </mutation>
                                    <field name="PROCNAME">ResizeMapCells</field>
                                    <value name="ARG0">
                                      <block type="lists_create_with" id="747" inline="false">
                                        <mutation items="1"></mutation>
                                        <value name="ADD0">
                                          <block type="component_component_block" id="748">
                                            <mutation component_type="Canvas" instance_name="R3C2Canvas"></mutation>
                                            <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ARG1">
                                      <block type="lists_create_with" id="749" inline="false">
                                        <mutation items="1"></mutation>
                                        <value name="ADD0">
                                          <block type="component_component_block" id="750">
                                            <mutation component_type="HorizontalArrangement" instance_name="Row3Col2"></mutation>
                                            <field name="COMPONENT_SELECTOR">Row3Col2</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ARG2">
                                      <block type="math_add" id="751" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="752" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_on_list" id="753" inline="false">
                                                <mutation items="2"></mutation>
                                                <field name="OP">MAX</field>
                                                <value name="NUM0">
                                                  <block type="math_cos" id="754" inline="false">
                                                    <field name="OP">COS</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="755">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="756">
                                                    <field name="NUM">0</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="757">
                                                <field name="VAR">global MapSlideGrowthSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_multiply" id="758" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_add" id="759" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="760" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MIN</field>
                                                    <value name="NUM0">
                                                      <block type="math_neg" id="761" inline="false">
                                                        <field name="OP">NEG</field>
                                                        <value name="NUM">
                                                          <block type="math_cos" id="762" inline="false">
                                                            <field name="OP">COS</field>
                                                            <value name="NUM">
                                                              <block type="lexical_variable_get" id="763">
                                                                <field name="VAR">global MapSlideDirection</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="764">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="765">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="lexical_variable_get" id="766">
                                                <field name="VAR">global MapShrinkSize</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="local_declaration_statement" id="767" inline="false">
                                        <mutation>
                                          <localname name="top"></localname>
                                        </mutation>
                                        <field name="VAR0">top</field>
                                        <value name="DECL0">
                                          <block type="math_add" id="768" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="769" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_on_list" id="770" inline="false">
                                                    <mutation items="2"></mutation>
                                                    <field name="OP">MAX</field>
                                                    <value name="NUM0">
                                                      <block type="math_neg" id="771" inline="false">
                                                        <field name="OP">NEG</field>
                                                        <value name="NUM">
                                                          <block type="math_cos" id="772" inline="false">
                                                            <field name="OP">SIN</field>
                                                            <value name="NUM">
                                                              <block type="lexical_variable_get" id="773">
                                                                <field name="VAR">global MapSlideDirection</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="774">
                                                        <field name="NUM">0</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="775">
                                                    <field name="VAR">global MapSlideGrowthSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_multiply" id="776" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_add" id="777" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="778" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MIN</field>
                                                        <value name="NUM0">
                                                          <block type="math_cos" id="779" inline="false">
                                                            <field name="OP">SIN</field>
                                                            <value name="NUM">
                                                              <block type="lexical_variable_get" id="780">
                                                                <field name="VAR">global MapSlideDirection</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="781">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="math_number" id="782">
                                                        <field name="NUM">1</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="783">
                                                    <field name="VAR">global MapShrinkSize</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <statement name="STACK">
                                          <block type="procedures_callnoreturn" id="784" inline="false">
                                            <mutation name="ResizeMapCells">
                                              <arg name="canvases"></arg>
                                              <arg name="cells"></arg>
                                              <arg name="size"></arg>
                                            </mutation>
                                            <field name="PROCNAME">ResizeMapCells</field>
                                            <value name="ARG0">
                                              <block type="lists_create_with" id="785" inline="false">
                                                <mutation items="1"></mutation>
                                                <value name="ADD0">
                                                  <block type="component_component_block" id="786">
                                                    <mutation component_type="Canvas" instance_name="R2C3Canvas"></mutation>
                                                    <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="ARG1">
                                              <block type="lists_create_with" id="787" inline="false">
                                                <mutation items="1"></mutation>
                                                <value name="ADD0">
                                                  <block type="component_component_block" id="788">
                                                    <mutation component_type="HorizontalArrangement" instance_name="Row2Col3"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Row2Col3</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="ARG2">
                                              <block type="lexical_variable_get" id="789">
                                                <field name="VAR">top</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="component_set_get" id="790" inline="false">
                                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row2"></mutation>
                                                <field name="COMPONENT_SELECTOR">Row2</field>
                                                <field name="PROP">Height</field>
                                                <value name="VALUE">
                                                  <block type="lexical_variable_get" id="791">
                                                    <field name="VAR">top</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </next>
                                          </block>
                                        </statement>
                                        <next>
                                          <block type="local_declaration_statement" id="792" inline="false">
                                            <mutation>
                                              <localname name="bottom"></localname>
                                            </mutation>
                                            <field name="VAR0">bottom</field>
                                            <value name="DECL0">
                                              <block type="math_add" id="793" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_multiply" id="794" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_on_list" id="795" inline="false">
                                                        <mutation items="2"></mutation>
                                                        <field name="OP">MAX</field>
                                                        <value name="NUM0">
                                                          <block type="math_cos" id="796" inline="false">
                                                            <field name="OP">SIN</field>
                                                            <value name="NUM">
                                                              <block type="lexical_variable_get" id="797">
                                                                <field name="VAR">global MapSlideDirection</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="798">
                                                            <field name="NUM">0</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="799">
                                                        <field name="VAR">global MapSlideGrowthSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_multiply" id="800" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_add" id="801" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_on_list" id="802" inline="false">
                                                            <mutation items="2"></mutation>
                                                            <field name="OP">MIN</field>
                                                            <value name="NUM0">
                                                              <block type="math_neg" id="803" inline="false">
                                                                <field name="OP">NEG</field>
                                                                <value name="NUM">
                                                                  <block type="math_cos" id="804" inline="false">
                                                                    <field name="OP">SIN</field>
                                                                    <value name="NUM">
                                                                      <block type="lexical_variable_get" id="805">
                                                                        <field name="VAR">global MapSlideDirection</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                            <value name="NUM1">
                                                              <block type="math_number" id="806">
                                                                <field name="NUM">0</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_number" id="807">
                                                            <field name="NUM">1</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="808">
                                                        <field name="VAR">global MapShrinkSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <statement name="STACK">
                                              <block type="procedures_callnoreturn" id="809" inline="false">
                                                <mutation name="ResizeMapCells">
                                                  <arg name="canvases"></arg>
                                                  <arg name="cells"></arg>
                                                  <arg name="size"></arg>
                                                </mutation>
                                                <field name="PROCNAME">ResizeMapCells</field>
                                                <value name="ARG0">
                                                  <block type="lists_create_with" id="810" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="811">
                                                        <mutation component_type="Canvas" instance_name="R4C3Canvas"></mutation>
                                                        <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG1">
                                                  <block type="lists_create_with" id="812" inline="false">
                                                    <mutation items="1"></mutation>
                                                    <value name="ADD0">
                                                      <block type="component_component_block" id="813">
                                                        <mutation component_type="HorizontalArrangement" instance_name="Row4Col3"></mutation>
                                                        <field name="COMPONENT_SELECTOR">Row4Col3</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="ARG2">
                                                  <block type="lexical_variable_get" id="814">
                                                    <field name="VAR">bottom</field>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="component_set_get" id="815" inline="false">
                                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row4"></mutation>
                                                    <field name="COMPONENT_SELECTOR">Row4</field>
                                                    <field name="PROP">Height</field>
                                                    <value name="VALUE">
                                                      <block type="lexical_variable_get" id="816">
                                                        <field name="VAR">bottom</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </next>
                                              </block>
                                            </statement>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="817" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="818" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="819">
                            <field name="VAR">global MapShrinkSize</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="820">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="component_set_get" id="821" inline="false">
                        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomInMapTimer"></mutation>
                        <field name="COMPONENT_SELECTOR">ZoomInMapTimer</field>
                        <field name="PROP">TimerEnabled</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="822">
                            <field name="BOOL">FALSE</field>
                          </block>
                        </value>
                        <next>
                          <block type="procedures_callnoreturn" id="823" inline="false">
                            <mutation name="LoadArea">
                              <arg name="x"></arg>
                              <arg name="y"></arg>
                            </mutation>
                            <field name="PROCNAME">LoadArea</field>
                            <value name="ARG0">
                              <block type="lists_select_item" id="824" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="825">
                                    <field name="VAR">global WorldPosition</field>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="math_number" id="826">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="ARG1">
                              <block type="lists_select_item" id="827" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="828">
                                    <field name="VAR">global WorldPosition</field>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="math_number" id="829">
                                    <field name="NUM">2</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="830" inline="false" collapsed="true" x="2945" y="1872">
    <field name="NAME">Xdirection</field>
    <value name="VALUE">
      <block type="math_number" id="831">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="832" inline="false" collapsed="true" x="2612" y="1901">
    <field name="NAME">Speed</field>
    <value name="VALUE">
      <block type="math_number" id="833">
        <field name="NUM">4</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="834" collapsed="true" x="1687" y="1952">
    <mutation>
      <arg name="obstacleNames"></arg>
    </mutation>
    <field name="NAME">SetObstacleTerrainValues</field>
    <field name="VAR0">obstacleNames</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="835" inline="false">
        <field name="VAR">global ObstacleTerrainValues</field>
        <value name="VALUE">
          <block type="lists_create_with" id="836">
            <mutation items="0"></mutation>
          </block>
        </value>
        <next>
          <block type="controls_forEach" id="837" inline="false">
            <field name="VAR">obstacleName</field>
            <value name="LIST">
              <block type="lexical_variable_get" id="838">
                <field name="VAR">obstacleNames</field>
              </block>
            </value>
            <statement name="DO">
              <block type="lists_append_list" id="839" inline="false">
                <value name="LIST0">
                  <block type="lexical_variable_get" id="840">
                    <field name="VAR">global ObstacleTerrainValues</field>
                  </block>
                </value>
                <value name="LIST1">
                  <block type="procedures_callreturn" id="841" inline="false">
                    <mutation name="GetObstacleValues">
                      <arg name="terrainObstacleIndices"></arg>
                    </mutation>
                    <field name="PROCNAME">GetObstacleValues</field>
                    <value name="ARG0">
                      <block type="procedures_callreturn" id="842" inline="false">
                        <mutation name="GetTerrainObstacleIndices">
                          <arg name="obstacleName"></arg>
                        </mutation>
                        <field name="PROCNAME">GetTerrainObstacleIndices</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="843">
                            <field name="VAR">obstacleName</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="844" inline="false" collapsed="true" x="3224" y="1872">
    <field name="NAME">CharacterDirection</field>
    <value name="VALUE">
      <block type="text" id="845">
        <field name="TEXT"></field>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="846" inline="false" collapsed="true" x="3504" y="1872">
    <mutation>
      <arg name="json"></arg>
      <arg name="index"></arg>
      <arg name="query"></arg>
    </mutation>
    <field name="NAME">JsonGetItemAtIndex</field>
    <field name="VAR0">json</field>
    <field name="VAR1">index</field>
    <field name="VAR2">query</field>
    <value name="RETURN">
      <block type="lists_select_item" id="847" inline="false">
        <value name="LIST">
          <block type="lists_lookup_in_pairs" id="848" inline="false">
            <value name="KEY">
              <block type="lists_select_item" id="849" inline="false">
                <value name="LIST">
                  <block type="text_split" id="850" inline="false">
                    <mutation mode="SPLITATFIRST"></mutation>
                    <field name="OP">SPLITATFIRST</field>
                    <value name="TEXT">
                      <block type="lexical_variable_get" id="851">
                        <field name="VAR">query</field>
                      </block>
                    </value>
                    <value name="AT">
                      <block type="text" id="852">
                        <field name="TEXT">[</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="NUM">
                  <block type="math_number" id="853">
                    <field name="NUM">1</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="LIST">
              <block type="lexical_variable_get" id="854">
                <field name="VAR">json</field>
              </block>
            </value>
            <value name="NOTFOUND">
              <block type="text" id="855">
                <field name="TEXT">not found</field>
              </block>
            </value>
          </block>
        </value>
        <value name="NUM">
          <block type="lexical_variable_get" id="856">
            <field name="VAR">index</field>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="857" collapsed="true" x="2945" y="1923">
    <mutation></mutation>
    <field name="NAME">SetMapCanvases</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="858" inline="false">
        <field name="VAR">global MapCornerCanvases</field>
        <value name="VALUE">
          <block type="lists_create_with" id="859" inline="false">
            <mutation items="4"></mutation>
            <value name="ADD0">
              <block type="component_component_block" id="860">
                <mutation component_type="Canvas" instance_name="R2C2Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="component_component_block" id="861">
                <mutation component_type="Canvas" instance_name="R2C4Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="component_component_block" id="862">
                <mutation component_type="Canvas" instance_name="R4C2Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="component_component_block" id="863">
                <mutation component_type="Canvas" instance_name="R4C4Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="864" inline="false">
            <field name="VAR">global MapCardinalCanvases</field>
            <value name="VALUE">
              <block type="lists_create_with" id="865" inline="false">
                <mutation items="4"></mutation>
                <value name="ADD0">
                  <block type="component_component_block" id="866">
                    <mutation component_type="Canvas" instance_name="R2C3Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="component_component_block" id="867">
                    <mutation component_type="Canvas" instance_name="R3C2Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="component_component_block" id="868">
                    <mutation component_type="Canvas" instance_name="R3C4Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                  </block>
                </value>
                <value name="ADD3">
                  <block type="component_component_block" id="869">
                    <mutation component_type="Canvas" instance_name="R4C3Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="controls_forEach" id="870" inline="false">
                <field name="VAR">list</field>
                <value name="LIST">
                  <block type="lists_create_with" id="871" inline="false">
                    <mutation items="2"></mutation>
                    <value name="ADD0">
                      <block type="lexical_variable_get" id="872">
                        <field name="VAR">global MapCornerCanvases</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="873">
                        <field name="VAR">global MapCardinalCanvases</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO">
                  <block type="controls_forEach" id="874" inline="false">
                    <field name="VAR">item</field>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="875">
                        <field name="VAR">list</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="lists_add_items" id="876" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="877">
                            <field name="VAR">global MapCanvasesAll</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="lexical_variable_get" id="878">
                            <field name="VAR">item</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </statement>
                <next>
                  <block type="lists_add_items" id="879" inline="false">
                    <mutation items="1"></mutation>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="880">
                        <field name="VAR">global MapCanvasesAll</field>
                      </block>
                    </value>
                    <value name="ITEM0">
                      <block type="component_component_block" id="881">
                        <mutation component_type="Canvas" instance_name="WorldCanvas"></mutation>
                        <field name="COMPONENT_SELECTOR">WorldCanvas</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="882" collapsed="true" x="3224" y="1923">
    <mutation></mutation>
    <field name="NAME">PositionArrows</field>
  </block>
  <block type="procedures_defreturn" id="883" inline="false" collapsed="true" x="3504" y="1923">
    <mutation>
      <arg name="stringVal"></arg>
    </mutation>
    <field name="NAME">JsonGetIndex</field>
    <field name="VAR0">stringVal</field>
    <value name="RETURN">
      <block type="controls_choose" id="884" inline="false">
        <value name="TEST">
          <block type="math_compare" id="885" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lists_length" id="886" inline="false">
                <value name="LIST">
                  <block type="text_split" id="887" inline="false">
                    <mutation mode="SPLIT"></mutation>
                    <field name="OP">SPLIT</field>
                    <value name="TEXT">
                      <block type="lexical_variable_get" id="888">
                        <field name="VAR">stringVal</field>
                      </block>
                    </value>
                    <value name="AT">
                      <block type="text" id="889">
                        <field name="TEXT">[</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="890">
                <field name="NUM">1</field>
              </block>
            </value>
          </block>
        </value>
        <value name="THENRETURN">
          <block type="lexical_variable_get" id="891">
            <field name="VAR">stringVal</field>
          </block>
        </value>
        <value name="ELSERETURN">
          <block type="lists_select_item" id="892" inline="false">
            <value name="LIST">
              <block type="text_split" id="893" inline="false">
                <mutation mode="SPLIT"></mutation>
                <field name="OP">SPLIT</field>
                <value name="TEXT">
                  <block type="lists_select_item" id="894" inline="false">
                    <value name="LIST">
                      <block type="text_split" id="895" inline="false">
                        <mutation mode="SPLIT"></mutation>
                        <field name="OP">SPLIT</field>
                        <value name="TEXT">
                          <block type="lexical_variable_get" id="896">
                            <field name="VAR">stringVal</field>
                          </block>
                        </value>
                        <value name="AT">
                          <block type="text" id="897">
                            <field name="TEXT">[</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="NUM">
                      <block type="math_number" id="898">
                        <field name="NUM">2</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="AT">
                  <block type="text" id="899">
                    <field name="TEXT">]</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="NUM">
              <block type="math_number" id="900">
                <field name="NUM">1</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="901" collapsed="true" x="2658" y="1974">
    <mutation component_type="Button" instance_name="RightButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">RightButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="902" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="903">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="904" inline="false" x="2247" y="1996">
    <field name="NAME">MapSpeed</field>
    <value name="VALUE">
      <block type="math_number" id="905">
        <field name="NUM">4</field>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="906" inline="false" collapsed="true" x="2945" y="1974">
    <field name="NAME">TerrainValue</field>
    <value name="VALUE">
      <block type="math_number" id="907">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="component_event" id="908" collapsed="true" x="3224" y="1974">
    <mutation component_type="Button" instance_name="UpButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">UpButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="909" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="910">
            <field name="NUM">90</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="911" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="912">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="913" inline="false" collapsed="true" x="2658" y="2025">
    <field name="NAME">MapSlideGrowthSize</field>
    <value name="VALUE">
      <block type="math_number" id="914">
        <field name="NUM">64</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="915" x="3504" y="2025">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">Move</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="916" inline="false">
        <field name="VAR">global CharacterHeading</field>
        <value name="VALUE">
          <block type="lexical_variable_get" id="917">
            <field name="VAR">direction</field>
          </block>
        </value>
        <next>
          <block type="controls_if" id="918" inline="false">
            <value name="IF0">
              <block type="logic_negate" id="919" inline="false">
                <value name="BOOL">
                  <block type="lexical_variable_get" id="920">
                    <field name="VAR">global IsCharacterMoving</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO0">
              <block type="procedures_callnoreturn" id="921" inline="false">
                <mutation name="SetCharacterDirection">
                  <arg name="direction"></arg>
                </mutation>
                <field name="PROCNAME">SetCharacterDirection</field>
                <value name="ARG0">
                  <block type="lexical_variable_get" id="922">
                    <field name="VAR">direction</field>
                  </block>
                </value>
                <next>
                  <block type="controls_if" id="923" inline="false">
                    <mutation else="1"></mutation>
                    <value name="IF0">
                      <block type="procedures_callreturn" id="924" inline="false">
                        <mutation name="WillDestinationBeInBounds">
                          <arg name="direction"></arg>
                        </mutation>
                        <field name="PROCNAME">WillDestinationBeInBounds</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="925">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="controls_if" id="926" inline="false">
                        <value name="IF0">
                          <block type="procedures_callreturn" id="927" inline="false">
                            <mutation name="CanCharacterMove">
                              <arg name="direction"></arg>
                            </mutation>
                            <field name="PROCNAME">CanCharacterMove</field>
                            <value name="ARG0">
                              <block type="lexical_variable_get" id="928">
                                <field name="VAR">direction</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="929" inline="false">
                            <field name="VAR">global MovementAnimationCounter</field>
                            <value name="VALUE">
                              <block type="math_number" id="930">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                            <next>
                              <block type="lexical_variable_set" id="931" inline="false">
                                <field name="VAR">global Xdirection</field>
                                <value name="VALUE">
                                  <block type="math_round" id="932" inline="false">
                                    <field name="OP">ROUND</field>
                                    <value name="NUM">
                                      <block type="math_multiply" id="933" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_trig" id="934" inline="false">
                                            <field name="OP">COS</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="935">
                                                <field name="VAR">direction</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="lexical_variable_get" id="936">
                                            <field name="VAR">global Speed</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type="lexical_variable_set" id="937" inline="false">
                                    <field name="VAR">global Ydirection</field>
                                    <value name="VALUE">
                                      <block type="math_neg" id="938" inline="false">
                                        <field name="OP">NEG</field>
                                        <value name="NUM">
                                          <block type="math_round" id="939" inline="false">
                                            <field name="OP">ROUND</field>
                                            <value name="NUM">
                                              <block type="math_multiply" id="940" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_trig" id="941" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="942">
                                                        <field name="VAR">direction</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="lexical_variable_get" id="943">
                                                    <field name="VAR">global Speed</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="lexical_variable_set" id="944" inline="false">
                                        <field name="VAR">global IsCharacterMoving</field>
                                        <value name="VALUE">
                                          <block type="logic_false" id="945">
                                            <field name="BOOL">TRUE</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_set_get" id="946" inline="false">
                                            <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MovementTimer"></mutation>
                                            <field name="COMPONENT_SELECTOR">MovementTimer</field>
                                            <field name="PROP">TimerEnabled</field>
                                            <value name="VALUE">
                                              <block type="logic_false" id="947">
                                                <field name="BOOL">TRUE</field>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="lexical_variable_set" id="948" inline="false">
                                                <field name="VAR">global CharacterGridLocation</field>
                                                <value name="VALUE">
                                                  <block type="math_add" id="949" inline="true">
                                                    <mutation items="2"></mutation>
                                                    <value name="NUM0">
                                                      <block type="math_add" id="950" inline="true">
                                                        <mutation items="2"></mutation>
                                                        <value name="NUM0">
                                                          <block type="math_round" id="951" inline="false">
                                                            <field name="OP">ROUND</field>
                                                            <value name="NUM">
                                                              <block type="math_trig" id="952" inline="false">
                                                                <field name="OP">COS</field>
                                                                <value name="NUM">
                                                                  <block type="lexical_variable_get" id="953">
                                                                    <field name="VAR">direction</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <value name="NUM1">
                                                          <block type="math_neg" id="954" inline="false">
                                                            <field name="OP">NEG</field>
                                                            <value name="NUM">
                                                              <block type="math_multiply" id="955" inline="true">
                                                                <mutation items="2"></mutation>
                                                                <value name="NUM0">
                                                                  <block type="math_round" id="956" inline="false">
                                                                    <field name="OP">ROUND</field>
                                                                    <value name="NUM">
                                                                      <block type="math_trig" id="957" inline="false">
                                                                        <field name="OP">SIN</field>
                                                                        <value name="NUM">
                                                                          <block type="lexical_variable_get" id="958">
                                                                            <field name="VAR">direction</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                                <value name="NUM1">
                                                                  <block type="math_number" id="959">
                                                                    <field name="NUM">20</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <value name="NUM1">
                                                      <block type="lexical_variable_get" id="960">
                                                        <field name="VAR">global CharacterGridLocation</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                      </block>
                    </statement>
                    <statement name="ELSE">
                      <block type="procedures_callnoreturn" id="961" inline="false">
                        <mutation name="MoveToNewArea">
                          <arg name="direction"></arg>
                        </mutation>
                        <field name="PROCNAME">MoveToNewArea</field>
                        <value name="ARG0">
                          <block type="lexical_variable_get" id="962">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="963" inline="false" collapsed="true" x="2658" y="2076">
    <field name="NAME">MapCardinalCells</field>
    <value name="VALUE">
      <block type="lists_create_with" id="964">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="965" inline="false" collapsed="true" x="2945" y="2076">
    <field name="NAME">MapCanvasesAll</field>
    <value name="VALUE">
      <block type="lists_create_with" id="966">
        <mutation items="0"></mutation>
      </block>
    </value>
  </block>
  <block type="global_declaration" id="967" inline="false" collapsed="true" x="3224" y="2076">
    <field name="NAME">AttackAnimationCounter</field>
    <value name="VALUE">
      <block type="math_number" id="968">
        <field name="NUM">1</field>
      </block>
    </value>
  </block>
  <block type="procedures_defreturn" id="969" inline="false" x="1329" y="2183">
    <mutation></mutation>
    <field name="NAME">GetDisallowedDirections</field>
    <value name="RETURN">
      <block type="local_declaration_expression" id="970" inline="false">
        <mutation>
          <localname name="disallowedDirections"></localname>
        </mutation>
        <field name="VAR0">disallowedDirections</field>
        <value name="DECL0">
          <block type="lists_create_with" id="971">
            <mutation items="0"></mutation>
          </block>
        </value>
        <value name="RETURN">
          <block type="controls_do_then_return" id="972" inline="false">
            <statement name="STM">
              <block type="controls_if" id="973" inline="false">
                <value name="IF0">
                  <block type="procedures_callreturn" id="974" inline="false">
                    <mutation name="PositionDoesHaveObstacle">
                      <arg name="gridPosition"></arg>
                    </mutation>
                    <field name="PROCNAME">PositionDoesHaveObstacle</field>
                    <value name="ARG0">
                      <block type="math_subtract" id="975" inline="true">
                        <value name="A">
                          <block type="lexical_variable_get" id="976">
                            <field name="VAR">global CharacterGridLocation</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="977">
                            <field name="NUM">20</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="lists_add_items" id="978" inline="false">
                    <mutation items="1"></mutation>
                    <value name="LIST">
                      <block type="lexical_variable_get" id="979">
                        <field name="VAR">disallowedDirections</field>
                      </block>
                    </value>
                    <value name="ITEM0">
                      <block type="math_number" id="980">
                        <field name="NUM">90</field>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="981" inline="false">
                    <value name="IF0">
                      <block type="procedures_callreturn" id="982" inline="false">
                        <mutation name="PositionDoesHaveObstacle">
                          <arg name="gridPosition"></arg>
                        </mutation>
                        <field name="PROCNAME">PositionDoesHaveObstacle</field>
                        <value name="ARG0">
                          <block type="math_subtract" id="983" inline="true">
                            <value name="A">
                              <block type="lexical_variable_get" id="984">
                                <field name="VAR">global CharacterGridLocation</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="985">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lists_add_items" id="986" inline="false">
                        <mutation items="1"></mutation>
                        <value name="LIST">
                          <block type="lexical_variable_get" id="987">
                            <field name="VAR">disallowedDirections</field>
                          </block>
                        </value>
                        <value name="ITEM0">
                          <block type="math_number" id="988">
                            <field name="NUM">180</field>
                          </block>
                        </value>
                      </block>
                    </statement>
                    <next>
                      <block type="controls_if" id="989" inline="false">
                        <value name="IF0">
                          <block type="procedures_callreturn" id="990" inline="false">
                            <mutation name="PositionDoesHaveObstacle">
                              <arg name="gridPosition"></arg>
                            </mutation>
                            <field name="PROCNAME">PositionDoesHaveObstacle</field>
                            <value name="ARG0">
                              <block type="math_add" id="991" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="lexical_variable_get" id="992">
                                    <field name="VAR">global CharacterGridLocation</field>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_number" id="993">
                                    <field name="NUM">20</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lists_add_items" id="994" inline="false">
                            <mutation items="1"></mutation>
                            <value name="LIST">
                              <block type="lexical_variable_get" id="995">
                                <field name="VAR">disallowedDirections</field>
                              </block>
                            </value>
                            <value name="ITEM0">
                              <block type="math_number" id="996">
                                <field name="NUM">270</field>
                              </block>
                            </value>
                          </block>
                        </statement>
                        <next>
                          <block type="controls_if" id="997" inline="false">
                            <value name="IF0">
                              <block type="procedures_callreturn" id="998" inline="false">
                                <mutation name="PositionDoesHaveObstacle">
                                  <arg name="gridPosition"></arg>
                                </mutation>
                                <field name="PROCNAME">PositionDoesHaveObstacle</field>
                                <value name="ARG0">
                                  <block type="math_add" id="999" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="lexical_variable_get" id="1000">
                                        <field name="VAR">global CharacterGridLocation</field>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="1001">
                                        <field name="NUM">1</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO0">
                              <block type="lists_add_items" id="1002" inline="false">
                                <mutation items="1"></mutation>
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="1003">
                                    <field name="VAR">disallowedDirections</field>
                                  </block>
                                </value>
                                <value name="ITEM0">
                                  <block type="math_number" id="1004">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
            <value name="VALUE">
              <block type="lexical_variable_get" id="1005">
                <field name="VAR">disallowedDirections</field>
              </block>
            </value>
          </block>
        </value>
      </block>
    </value>
  </block>
  <block type="component_event" id="1006" collapsed="true" x="2658" y="2127">
    <mutation component_type="Button" instance_name="DownButton" event_name="TouchUp"></mutation>
    <field name="COMPONENT_SELECTOR">DownButton</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1007" inline="false">
        <field name="VAR">global ArrowIsPressed</field>
        <value name="VALUE">
          <block type="logic_boolean" id="1008">
            <field name="BOOL">FALSE</field>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="component_event" id="1009" collapsed="true" x="2945" y="2127">
    <mutation component_type="Button" instance_name="DownButton" event_name="TouchDown"></mutation>
    <field name="COMPONENT_SELECTOR">DownButton</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="1010" inline="false">
        <mutation name="Move">
          <arg name="direction"></arg>
        </mutation>
        <field name="PROCNAME">Move</field>
        <value name="ARG0">
          <block type="math_number" id="1011">
            <field name="NUM">270</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1012" inline="false">
            <field name="VAR">global ArrowIsPressed</field>
            <value name="VALUE">
              <block type="logic_boolean" id="1013">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="global_declaration" id="1014" inline="false" collapsed="true" x="3224" y="2127">
    <field name="NAME">MapSlideDirection</field>
    <value name="VALUE">
      <block type="math_number" id="1015">
        <field name="NUM">0</field>
      </block>
    </value>
  </block>
  <block type="procedures_defnoreturn" id="1016" collapsed="true" x="3049" y="2209">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">SlideMap</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="1017" inline="false">
        <field name="VAR">global MapSlideDirection</field>
        <value name="VALUE">
          <block type="lexical_variable_get" id="1018">
            <field name="VAR">direction</field>
          </block>
        </value>
        <next>
          <block type="controls_if" id="1019" inline="false">
            <mutation elseif="2" else="1"></mutation>
            <value name="IF0">
              <block type="math_compare" id="1020" inline="true">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="lexical_variable_get" id="1021">
                    <field name="VAR">global MapSlideDirection</field>
                  </block>
                </value>
                <value name="B">
                  <block type="math_number" id="1022">
                    <field name="NUM">0</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO0">
              <block type="lexical_variable_set" id="1023" inline="false">
                <field name="VAR">global MapSlideDirection</field>
                <value name="VALUE">
                  <block type="math_number" id="1024">
                    <field name="NUM">180</field>
                  </block>
                </value>
              </block>
            </statement>
            <value name="IF1">
              <block type="math_compare" id="1025" inline="true">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="lexical_variable_get" id="1026">
                    <field name="VAR">global MapSlideDirection</field>
                  </block>
                </value>
                <value name="B">
                  <block type="math_number" id="1027">
                    <field name="NUM">90</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO1">
              <block type="lexical_variable_set" id="1028" inline="false">
                <field name="VAR">global MapSlideDirection</field>
                <value name="VALUE">
                  <block type="math_number" id="1029">
                    <field name="NUM">270</field>
                  </block>
                </value>
              </block>
            </statement>
            <value name="IF2">
              <block type="math_compare" id="1030" inline="true">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="lexical_variable_get" id="1031">
                    <field name="VAR">global MapSlideDirection</field>
                  </block>
                </value>
                <value name="B">
                  <block type="math_number" id="1032">
                    <field name="NUM">180</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO2">
              <block type="lexical_variable_set" id="1033" inline="false">
                <field name="VAR">global MapSlideDirection</field>
                <value name="VALUE">
                  <block type="math_number" id="1034">
                    <field name="NUM">0</field>
                  </block>
                </value>
              </block>
            </statement>
            <statement name="ELSE">
              <block type="lexical_variable_set" id="1035" inline="false">
                <field name="VAR">global MapSlideDirection</field>
                <value name="VALUE">
                  <block type="math_number" id="1036">
                    <field name="NUM">90</field>
                  </block>
                </value>
              </block>
            </statement>
            <next>
              <block type="lexical_variable_set" id="1037" inline="false">
                <field name="VAR">global MapSlideGrowthSize</field>
                <value name="VALUE">
                  <block type="math_number" id="1038">
                    <field name="NUM">64</field>
                  </block>
                </value>
                <next>
                  <block type="component_set_get" id="1039" inline="false">
                    <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                    <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                    <field name="PROP">TimerEnabled</field>
                    <value name="VALUE">
                      <block type="logic_boolean" id="1040">
                        <field name="BOOL">TRUE</field>
                      </block>
                    </value>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="1041" collapsed="true" x="2508" y="2239">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">SetCharacterLocationInNewArea</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="controls_if" id="1042" inline="false">
        <value name="IF0">
          <block type="math_compare" id="1043" inline="true">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="lexical_variable_get" id="1044">
                <field name="VAR">direction</field>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="1045">
                <field name="NUM">90</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <block type="lexical_variable_set" id="1046" inline="false">
            <field name="VAR">global CharacterGridLocation</field>
            <value name="VALUE">
              <block type="math_add" id="1047" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lexical_variable_get" id="1048">
                    <field name="VAR">global CharacterGridLocation</field>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="math_number" id="1049">
                    <field name="NUM">340</field>
                  </block>
                </value>
              </block>
            </value>
          </block>
        </statement>
        <next>
          <block type="controls_if" id="1050" inline="false">
            <value name="IF0">
              <block type="math_compare" id="1051" inline="true">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="lexical_variable_get" id="1052">
                    <field name="VAR">direction</field>
                  </block>
                </value>
                <value name="B">
                  <block type="math_number" id="1053">
                    <field name="NUM">0</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO0">
              <block type="lexical_variable_set" id="1054" inline="false">
                <field name="VAR">global CharacterGridLocation</field>
                <value name="VALUE">
                  <block type="math_add" id="1055" inline="true">
                    <mutation items="2"></mutation>
                    <value name="NUM0">
                      <block type="lexical_variable_get" id="1056">
                        <field name="VAR">global CharacterGridLocation</field>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_number" id="1057">
                        <field name="NUM">-18</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </statement>
            <next>
              <block type="controls_if" id="1058" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="1059" inline="true">
                    <field name="OP">EQ</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="1060">
                        <field name="VAR">direction</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="1061">
                        <field name="NUM">180</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="lexical_variable_set" id="1062" inline="false">
                    <field name="VAR">global CharacterGridLocation</field>
                    <value name="VALUE">
                      <block type="math_add" id="1063" inline="true">
                        <mutation items="2"></mutation>
                        <value name="NUM0">
                          <block type="lexical_variable_get" id="1064">
                            <field name="VAR">global CharacterGridLocation</field>
                          </block>
                        </value>
                        <value name="NUM1">
                          <block type="math_number" id="1065">
                            <field name="NUM">18</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="1066" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="1067" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="1068">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="1069">
                            <field name="NUM">270</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="lexical_variable_set" id="1070" inline="false">
                        <field name="VAR">global CharacterGridLocation</field>
                        <value name="VALUE">
                          <block type="math_add" id="1071" inline="true">
                            <mutation items="2"></mutation>
                            <value name="NUM0">
                              <block type="lexical_variable_get" id="1072">
                                <field name="VAR">global CharacterGridLocation</field>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_number" id="1073">
                                <field name="NUM">-340</field>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="1074" collapsed="true" x="3441" y="2205">
    <mutation component_type="File" instance_name="File1" event_name="GotText"></mutation>
    <field name="COMPONENT_SELECTOR">File1</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1075" inline="false">
        <field name="VAR">global TerrainJson</field>
        <value name="VALUE">
          <block type="component_method" id="1076" inline="false">
            <mutation component_type="Web" method_name="JsonTextDecode" is_generic="false" instance_name="Web1"></mutation>
            <field name="COMPONENT_SELECTOR">Web1</field>
            <value name="ARG0">
              <block type="lexical_variable_get" id="1077">
                <mutation>
                  <eventparam name="text"></eventparam>
                </mutation>
                <field name="VAR">text</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1078" inline="false">
            <field name="VAR">global TerrainData</field>
            <value name="VALUE">
              <block type="procedures_callreturn" id="1079" inline="false">
                <mutation name="JsonLookup">
                  <arg name="query"></arg>
                  <arg name="json"></arg>
                </mutation>
                <field name="PROCNAME">JsonLookup</field>
                <value name="ARG0">
                  <block type="text" id="1080">
                    <field name="TEXT">layers[1].data</field>
                  </block>
                </value>
                <value name="ARG1">
                  <block type="lexical_variable_get" id="1081">
                    <field name="VAR">global TerrainJson</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="procedures_callnoreturn" id="1082" inline="false">
                <mutation name="SetObstacleTerrainValues">
                  <arg name="obstacleNames"></arg>
                </mutation>
                <field name="PROCNAME">SetObstacleTerrainValues</field>
                <value name="ARG0">
                  <block type="lists_create_with" id="1083" inline="false">
                    <mutation items="3"></mutation>
                    <value name="ADD0">
                      <block type="text" id="1084">
                        <field name="TEXT">Obstacle</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="text" id="1085">
                        <field name="TEXT">TerrainTrees</field>
                      </block>
                    </value>
                    <value name="ADD2">
                      <block type="text" id="1086">
                        <field name="TEXT">TerrainWater</field>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="1087" collapsed="true" x="2883" y="2302">
    <mutation></mutation>
    <field name="NAME">PlaceCharacterOnGrid</field>
    <statement name="STACK">
      <block type="component_method" id="1088" inline="false">
        <mutation component_type="ImageSprite" method_name="MoveTo" is_generic="false" instance_name="Character"></mutation>
        <field name="COMPONENT_SELECTOR">Character</field>
        <value name="ARG0">
          <block type="math_subtract" id="1089" inline="true">
            <value name="A">
              <block type="math_multiply" id="1090" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="math_divide" id="1091" inline="true">
                    <field name="OP">MODULO</field>
                    <value name="DIVIDEND">
                      <block type="lexical_variable_get" id="1092">
                        <field name="VAR">global CharacterGridLocation</field>
                      </block>
                    </value>
                    <value name="DIVISOR">
                      <block type="math_number" id="1093">
                        <field name="NUM">20</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="math_number" id="1094">
                    <field name="NUM">16</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="1095">
                <field name="NUM">16</field>
              </block>
            </value>
          </block>
        </value>
        <value name="ARG1">
          <block type="math_subtract" id="1096" inline="true">
            <value name="A">
              <block type="math_multiply" id="1097" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="math_floor" id="1098" inline="false">
                    <field name="OP">FLOOR</field>
                    <value name="NUM">
                      <block type="math_division" id="1099" inline="true">
                        <value name="A">
                          <block type="lexical_variable_get" id="1100">
                            <field name="VAR">global CharacterGridLocation</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="1101">
                            <field name="NUM">20</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="math_number" id="1102">
                    <field name="NUM">16</field>
                  </block>
                </value>
              </block>
            </value>
            <value name="B">
              <block type="math_number" id="1103">
                <field name="NUM">16</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="1104" inline="false">
            <mutation component_type="ImageSprite" set_or_get="set" property_name="Visible" is_generic="false" instance_name="Character"></mutation>
            <field name="COMPONENT_SELECTOR">Character</field>
            <field name="PROP">Visible</field>
            <value name="VALUE">
              <block type="logic_boolean" id="1105">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="1106" collapsed="true" x="2651" y="2515">
    <mutation></mutation>
    <field name="NAME">ZoomInMap</field>
    <statement name="STACK">
      <block type="lexical_variable_set" id="1107" inline="false">
        <field name="VAR">global MapSlideGrowthSize</field>
        <value name="VALUE">
          <block type="math_number" id="1108">
            <field name="NUM">64</field>
          </block>
        </value>
        <next>
          <block type="lexical_variable_set" id="1109" inline="false">
            <field name="VAR">global MapShrinkSize</field>
            <value name="VALUE">
              <block type="math_number" id="1110">
                <field name="NUM">64</field>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="1111" inline="false">
                <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomInMapTimer"></mutation>
                <field name="COMPONENT_SELECTOR">ZoomInMapTimer</field>
                <field name="PROP">TimerEnabled</field>
                <value name="VALUE">
                  <block type="logic_boolean" id="1112">
                    <field name="BOOL">TRUE</field>
                  </block>
                </value>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="1113" collapsed="true" x="2676" y="2678">
    <mutation component_type="Clock" instance_name="PlaceCharacterDelay" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">PlaceCharacterDelay</field>
    <statement name="DO">
      <block type="procedures_callnoreturn" id="1114">
        <mutation name="PlaceCharacterOnGrid"></mutation>
        <field name="PROCNAME">PlaceCharacterOnGrid</field>
        <next>
          <block type="component_set_get" id="1115" inline="false">
            <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="PlaceCharacterDelay"></mutation>
            <field name="COMPONENT_SELECTOR">PlaceCharacterDelay</field>
            <field name="PROP">TimerEnabled</field>
            <value name="VALUE">
              <block type="logic_boolean" id="1116">
                <field name="BOOL">FALSE</field>
              </block>
            </value>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="component_event" id="1117" collapsed="true" x="4822" y="2590">
    <mutation component_type="Clock" instance_name="MapSlideTimer" event_name="Timer"></mutation>
    <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
    <statement name="DO">
      <block type="lexical_variable_set" id="1118" inline="false">
        <field name="VAR">global MapSlideGrowthSize</field>
        <value name="VALUE">
          <block type="math_add" id="1119" inline="true">
            <mutation items="2"></mutation>
            <value name="NUM0">
              <block type="lexical_variable_get" id="1120">
                <field name="VAR">global MapSlideGrowthSize</field>
              </block>
            </value>
            <value name="NUM1">
              <block type="lexical_variable_get" id="1121">
                <field name="VAR">global MapSpeed</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="local_declaration_statement" id="1122" inline="false">
            <mutation>
              <localname name="shrinkSize"></localname>
            </mutation>
            <field name="VAR0">shrinkSize</field>
            <value name="DECL0">
              <block type="math_subtract" id="1123" inline="true">
                <value name="A">
                  <block type="math_number" id="1124">
                    <field name="NUM">128</field>
                  </block>
                </value>
                <value name="B">
                  <block type="lexical_variable_get" id="1125">
                    <field name="VAR">global MapSlideGrowthSize</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="STACK">
              <block type="controls_if" id="1126" inline="false">
                <value name="IF0">
                  <block type="math_compare" id="1127" inline="true">
                    <field name="OP">GTE</field>
                    <value name="A">
                      <block type="lexical_variable_get" id="1128">
                        <field name="VAR">shrinkSize</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="1129">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="local_declaration_statement" id="1130" inline="false">
                    <mutation>
                      <localname name="leftSize"></localname>
                    </mutation>
                    <field name="VAR0">leftSize</field>
                    <value name="DECL0">
                      <block type="math_on_list" id="1131" inline="false">
                        <mutation items="2"></mutation>
                        <field name="OP">MAX</field>
                        <value name="NUM0">
                          <block type="math_multiply" id="1132" inline="true">
                            <mutation items="2"></mutation>
                            <value name="NUM0">
                              <block type="math_number" id="1133">
                                <field name="NUM">64</field>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_abs" id="1134" inline="false">
                                <field name="OP">ABS</field>
                                <value name="NUM">
                                  <block type="math_cos" id="1135" inline="false">
                                    <field name="OP">SIN</field>
                                    <value name="NUM">
                                      <block type="lexical_variable_get" id="1136">
                                        <field name="VAR">global MapSlideDirection</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="NUM1">
                          <block type="math_add" id="1137" inline="true">
                            <mutation items="2"></mutation>
                            <value name="NUM0">
                              <block type="math_on_list" id="1138" inline="false">
                                <mutation items="2"></mutation>
                                <field name="OP">MAX</field>
                                <value name="NUM0">
                                  <block type="math_multiply" id="1139" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="lexical_variable_get" id="1140">
                                        <field name="VAR">global MapSlideGrowthSize</field>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_trig" id="1141" inline="false">
                                        <field name="OP">COS</field>
                                        <value name="NUM">
                                          <block type="lexical_variable_get" id="1142">
                                            <field name="VAR">global MapSlideDirection</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_number" id="1143">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_on_list" id="1144" inline="false">
                                <mutation items="2"></mutation>
                                <field name="OP">MAX</field>
                                <value name="NUM0">
                                  <block type="math_neg" id="1145" inline="false">
                                    <field name="OP">NEG</field>
                                    <value name="NUM">
                                      <block type="math_multiply" id="1146" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="lexical_variable_get" id="1147">
                                            <field name="VAR">shrinkSize</field>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_trig" id="1148" inline="false">
                                            <field name="OP">COS</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="1149">
                                                <field name="VAR">global MapSlideDirection</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_number" id="1150">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="STACK">
                      <block type="component_set_get" id="1151" inline="false">
                        <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col1"></mutation>
                        <field name="COMPONENT_SELECTOR">Row2Col1</field>
                        <field name="PROP">Width</field>
                        <value name="VALUE">
                          <block type="lexical_variable_get" id="1152">
                            <field name="VAR">leftSize</field>
                          </block>
                        </value>
                        <next>
                          <block type="component_set_get" id="1153" inline="false">
                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col1"></mutation>
                            <field name="COMPONENT_SELECTOR">Row3Col1</field>
                            <field name="PROP">Width</field>
                            <value name="VALUE">
                              <block type="lexical_variable_get" id="1154">
                                <field name="VAR">leftSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="1155" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col1"></mutation>
                                <field name="COMPONENT_SELECTOR">Row4Col1</field>
                                <field name="PROP">Width</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="1156">
                                    <field name="VAR">leftSize</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                    <next>
                      <block type="local_declaration_statement" id="1157" inline="false">
                        <mutation>
                          <localname name="rightSize"></localname>
                        </mutation>
                        <field name="VAR0">rightSize</field>
                        <value name="DECL0">
                          <block type="math_on_list" id="1158" inline="false">
                            <mutation items="2"></mutation>
                            <field name="OP">MAX</field>
                            <value name="NUM0">
                              <block type="math_multiply" id="1159" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="math_number" id="1160">
                                    <field name="NUM">64</field>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_abs" id="1161" inline="false">
                                    <field name="OP">ABS</field>
                                    <value name="NUM">
                                      <block type="math_cos" id="1162" inline="false">
                                        <field name="OP">SIN</field>
                                        <value name="NUM">
                                          <block type="lexical_variable_get" id="1163">
                                            <field name="VAR">global MapSlideDirection</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_add" id="1164" inline="true">
                                <mutation items="2"></mutation>
                                <value name="NUM0">
                                  <block type="math_on_list" id="1165" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MAX</field>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="1166" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="lexical_variable_get" id="1167">
                                            <field name="VAR">shrinkSize</field>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_trig" id="1168" inline="false">
                                            <field name="OP">COS</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="1169">
                                                <field name="VAR">global MapSlideDirection</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="1170">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_on_list" id="1171" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MAX</field>
                                    <value name="NUM0">
                                      <block type="math_neg" id="1172" inline="false">
                                        <field name="OP">NEG</field>
                                        <value name="NUM">
                                          <block type="math_multiply" id="1173" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="lexical_variable_get" id="1174">
                                                <field name="VAR">global MapSlideGrowthSize</field>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_trig" id="1175" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="1176">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="1177">
                                        <field name="NUM">0</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="STACK">
                          <block type="component_set_get" id="1178" inline="false">
                            <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row2Col5"></mutation>
                            <field name="COMPONENT_SELECTOR">Row2Col5</field>
                            <field name="PROP">Width</field>
                            <value name="VALUE">
                              <block type="lexical_variable_get" id="1179">
                                <field name="VAR">rightSize</field>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="1180" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row3Col5"></mutation>
                                <field name="COMPONENT_SELECTOR">Row3Col5</field>
                                <field name="PROP">Width</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="1181">
                                    <field name="VAR">rightSize</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="1182" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Width" is_generic="false" instance_name="Row4Col5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row4Col5</field>
                                    <field name="PROP">Width</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="1183">
                                        <field name="VAR">rightSize</field>
                                      </block>
                                    </value>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                        <next>
                          <block type="local_declaration_statement" id="1184" inline="false">
                            <mutation>
                              <localname name="topSize"></localname>
                            </mutation>
                            <field name="VAR0">topSize</field>
                            <value name="DECL0">
                              <block type="math_on_list" id="1185" inline="false">
                                <mutation items="2"></mutation>
                                <field name="OP">MAX</field>
                                <value name="NUM0">
                                  <block type="math_multiply" id="1186" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_number" id="1187">
                                        <field name="NUM">64</field>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_abs" id="1188" inline="false">
                                        <field name="OP">ABS</field>
                                        <value name="NUM">
                                          <block type="math_cos" id="1189" inline="false">
                                            <field name="OP">COS</field>
                                            <value name="NUM">
                                              <block type="lexical_variable_get" id="1190">
                                                <field name="VAR">global MapSlideDirection</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="NUM1">
                                  <block type="math_add" id="1191" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="math_on_list" id="1192" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MAX</field>
                                        <value name="NUM0">
                                          <block type="math_neg" id="1193" inline="false">
                                            <field name="OP">NEG</field>
                                            <value name="NUM">
                                              <block type="math_multiply" id="1194" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="1195">
                                                    <field name="VAR">global MapSlideGrowthSize</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_trig" id="1196" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="1197">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="1198">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_on_list" id="1199" inline="false">
                                        <mutation items="2"></mutation>
                                        <field name="OP">MAX</field>
                                        <value name="NUM0">
                                          <block type="math_multiply" id="1200" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="lexical_variable_get" id="1201">
                                                <field name="VAR">shrinkSize</field>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_trig" id="1202" inline="false">
                                                <field name="OP">SIN</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="1203">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="1204">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="STACK">
                              <block type="component_set_get" id="1205" inline="false">
                                <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row1"></mutation>
                                <field name="COMPONENT_SELECTOR">Row1</field>
                                <field name="PROP">Height</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="1206">
                                    <field name="VAR">topSize</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <next>
                              <block type="local_declaration_statement" id="1207" inline="false">
                                <mutation>
                                  <localname name="bottomSize"></localname>
                                </mutation>
                                <field name="VAR0">bottomSize</field>
                                <value name="DECL0">
                                  <block type="math_on_list" id="1208" inline="false">
                                    <mutation items="2"></mutation>
                                    <field name="OP">MAX</field>
                                    <value name="NUM0">
                                      <block type="math_multiply" id="1209" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_number" id="1210">
                                            <field name="NUM">64</field>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_abs" id="1211" inline="false">
                                            <field name="OP">ABS</field>
                                            <value name="NUM">
                                              <block type="math_cos" id="1212" inline="false">
                                                <field name="OP">COS</field>
                                                <value name="NUM">
                                                  <block type="lexical_variable_get" id="1213">
                                                    <field name="VAR">global MapSlideDirection</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_add" id="1214" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="math_on_list" id="1215" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="1216" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="math_neg" id="1217" inline="false">
                                                    <field name="OP">NEG</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="1218">
                                                        <field name="VAR">shrinkSize</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_trig" id="1219" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="1220">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="1221">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_on_list" id="1222" inline="false">
                                            <mutation items="2"></mutation>
                                            <field name="OP">MAX</field>
                                            <value name="NUM0">
                                              <block type="math_multiply" id="1223" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="1224">
                                                    <field name="VAR">global MapSlideGrowthSize</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_trig" id="1225" inline="false">
                                                    <field name="OP">SIN</field>
                                                    <value name="NUM">
                                                      <block type="lexical_variable_get" id="1226">
                                                        <field name="VAR">global MapSlideDirection</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="1227">
                                                <field name="NUM">0</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="STACK">
                                  <block type="component_set_get" id="1228" inline="false">
                                    <mutation component_type="HorizontalArrangement" set_or_get="set" property_name="Height" is_generic="false" instance_name="Row5"></mutation>
                                    <field name="COMPONENT_SELECTOR">Row5</field>
                                    <field name="PROP">Height</field>
                                    <value name="VALUE">
                                      <block type="lexical_variable_get" id="1229">
                                        <field name="VAR">bottomSize</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </statement>
                <next>
                  <block type="controls_if" id="1230" inline="false">
                    <value name="IF0">
                      <block type="math_compare" id="1231" inline="true">
                        <field name="OP">EQ</field>
                        <value name="A">
                          <block type="lexical_variable_get" id="1232">
                            <field name="VAR">shrinkSize</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="1233">
                            <field name="NUM">0</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="component_set_get" id="1234" inline="false">
                        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="MapSlideTimer"></mutation>
                        <field name="COMPONENT_SELECTOR">MapSlideTimer</field>
                        <field name="PROP">TimerEnabled</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="1235">
                            <field name="BOOL">FALSE</field>
                          </block>
                        </value>
                        <next>
                          <block type="procedures_callnoreturn" id="1236">
                            <mutation name="ZoomInMap"></mutation>
                            <field name="PROCNAME">ZoomInMap</field>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="1237" collapsed="true" x="4475" y="2731">
    <mutation>
      <arg name="x"></arg>
      <arg name="y"></arg>
    </mutation>
    <field name="NAME">LoadArea</field>
    <field name="VAR0">x</field>
    <field name="VAR1">y</field>
    <statement name="STACK">
      <block type="component_set_get" id="1238" inline="false">
        <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="WorldCanvas"></mutation>
        <field name="COMPONENT_SELECTOR">WorldCanvas</field>
        <field name="PROP">BackgroundImage</field>
        <value name="VALUE">
          <block type="text_join" id="1239" inline="false">
            <mutation items="4"></mutation>
            <value name="ADD0">
              <block type="text" id="1240">
                <field name="TEXT">back</field>
              </block>
            </value>
            <value name="ADD1">
              <block type="lexical_variable_get" id="1241">
                <field name="VAR">x</field>
              </block>
            </value>
            <value name="ADD2">
              <block type="lexical_variable_get" id="1242">
                <field name="VAR">y</field>
              </block>
            </value>
            <value name="ADD3">
              <block type="text" id="1243">
                <field name="TEXT">.png</field>
              </block>
            </value>
          </block>
        </value>
        <next>
          <block type="component_set_get" id="1244" inline="false">
            <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R2C2Canvas"></mutation>
            <field name="COMPONENT_SELECTOR">R2C2Canvas</field>
            <field name="PROP">BackgroundImage</field>
            <value name="VALUE">
              <block type="text_join" id="1245" inline="false">
                <mutation items="4"></mutation>
                <value name="ADD0">
                  <block type="text" id="1246">
                    <field name="TEXT">back</field>
                  </block>
                </value>
                <value name="ADD1">
                  <block type="math_subtract" id="1247" inline="true">
                    <value name="A">
                      <block type="lexical_variable_get" id="1248">
                        <field name="VAR">x</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="1249">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="ADD2">
                  <block type="math_subtract" id="1250" inline="true">
                    <value name="A">
                      <block type="lexical_variable_get" id="1251">
                        <field name="VAR">y</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="math_number" id="1252">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="ADD3">
                  <block type="text" id="1253">
                    <field name="TEXT">.png</field>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="component_set_get" id="1254" inline="false">
                <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R2C3Canvas"></mutation>
                <field name="COMPONENT_SELECTOR">R2C3Canvas</field>
                <field name="PROP">BackgroundImage</field>
                <value name="VALUE">
                  <block type="text_join" id="1255" inline="false">
                    <mutation items="4"></mutation>
                    <value name="ADD0">
                      <block type="text" id="1256">
                        <field name="TEXT">back</field>
                      </block>
                    </value>
                    <value name="ADD1">
                      <block type="lexical_variable_get" id="1257">
                        <field name="VAR">x</field>
                      </block>
                    </value>
                    <value name="ADD2">
                      <block type="math_subtract" id="1258" inline="true">
                        <value name="A">
                          <block type="lexical_variable_get" id="1259">
                            <field name="VAR">y</field>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_number" id="1260">
                            <field name="NUM">1</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="ADD3">
                      <block type="text" id="1261">
                        <field name="TEXT">.png</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="component_set_get" id="1262" inline="false">
                    <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R2C4Canvas"></mutation>
                    <field name="COMPONENT_SELECTOR">R2C4Canvas</field>
                    <field name="PROP">BackgroundImage</field>
                    <value name="VALUE">
                      <block type="text_join" id="1263" inline="false">
                        <mutation items="4"></mutation>
                        <value name="ADD0">
                          <block type="text" id="1264">
                            <field name="TEXT">back</field>
                          </block>
                        </value>
                        <value name="ADD1">
                          <block type="math_add" id="1265" inline="true">
                            <mutation items="2"></mutation>
                            <value name="NUM0">
                              <block type="lexical_variable_get" id="1266">
                                <field name="VAR">x</field>
                              </block>
                            </value>
                            <value name="NUM1">
                              <block type="math_number" id="1267">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="ADD2">
                          <block type="math_subtract" id="1268" inline="true">
                            <value name="A">
                              <block type="lexical_variable_get" id="1269">
                                <field name="VAR">y</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_number" id="1270">
                                <field name="NUM">1</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="ADD3">
                          <block type="text" id="1271">
                            <field name="TEXT">.png</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <next>
                      <block type="component_set_get" id="1272" inline="false">
                        <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R3C2Canvas"></mutation>
                        <field name="COMPONENT_SELECTOR">R3C2Canvas</field>
                        <field name="PROP">BackgroundImage</field>
                        <value name="VALUE">
                          <block type="text_join" id="1273" inline="false">
                            <mutation items="4"></mutation>
                            <value name="ADD0">
                              <block type="text" id="1274">
                                <field name="TEXT">back</field>
                              </block>
                            </value>
                            <value name="ADD1">
                              <block type="math_subtract" id="1275" inline="true">
                                <value name="A">
                                  <block type="lexical_variable_get" id="1276">
                                    <field name="VAR">x</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="1277">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="ADD2">
                              <block type="lexical_variable_get" id="1278">
                                <field name="VAR">y</field>
                              </block>
                            </value>
                            <value name="ADD3">
                              <block type="text" id="1279">
                                <field name="TEXT">.png</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <next>
                          <block type="component_set_get" id="1280" inline="false">
                            <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R3C4Canvas"></mutation>
                            <field name="COMPONENT_SELECTOR">R3C4Canvas</field>
                            <field name="PROP">BackgroundImage</field>
                            <value name="VALUE">
                              <block type="text_join" id="1281" inline="false">
                                <mutation items="4"></mutation>
                                <value name="ADD0">
                                  <block type="text" id="1282">
                                    <field name="TEXT">back</field>
                                  </block>
                                </value>
                                <value name="ADD1">
                                  <block type="math_add" id="1283" inline="true">
                                    <mutation items="2"></mutation>
                                    <value name="NUM0">
                                      <block type="lexical_variable_get" id="1284">
                                        <field name="VAR">x</field>
                                      </block>
                                    </value>
                                    <value name="NUM1">
                                      <block type="math_number" id="1285">
                                        <field name="NUM">1</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="ADD2">
                                  <block type="lexical_variable_get" id="1286">
                                    <field name="VAR">y</field>
                                  </block>
                                </value>
                                <value name="ADD3">
                                  <block type="text" id="1287">
                                    <field name="TEXT">.png</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type="component_set_get" id="1288" inline="false">
                                <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R4C2Canvas"></mutation>
                                <field name="COMPONENT_SELECTOR">R4C2Canvas</field>
                                <field name="PROP">BackgroundImage</field>
                                <value name="VALUE">
                                  <block type="text_join" id="1289" inline="false">
                                    <mutation items="4"></mutation>
                                    <value name="ADD0">
                                      <block type="text" id="1290">
                                        <field name="TEXT">back</field>
                                      </block>
                                    </value>
                                    <value name="ADD1">
                                      <block type="math_subtract" id="1291" inline="true">
                                        <value name="A">
                                          <block type="lexical_variable_get" id="1292">
                                            <field name="VAR">x</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="math_number" id="1293">
                                            <field name="NUM">1</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ADD2">
                                      <block type="math_add" id="1294" inline="true">
                                        <mutation items="2"></mutation>
                                        <value name="NUM0">
                                          <block type="lexical_variable_get" id="1295">
                                            <field name="VAR">y</field>
                                          </block>
                                        </value>
                                        <value name="NUM1">
                                          <block type="math_number" id="1296">
                                            <field name="NUM">1</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="ADD3">
                                      <block type="text" id="1297">
                                        <field name="TEXT">.png</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="1298" inline="false">
                                    <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R4C3Canvas"></mutation>
                                    <field name="COMPONENT_SELECTOR">R4C3Canvas</field>
                                    <field name="PROP">BackgroundImage</field>
                                    <value name="VALUE">
                                      <block type="text_join" id="1299" inline="false">
                                        <mutation items="4"></mutation>
                                        <value name="ADD0">
                                          <block type="text" id="1300">
                                            <field name="TEXT">back</field>
                                          </block>
                                        </value>
                                        <value name="ADD1">
                                          <block type="lexical_variable_get" id="1301">
                                            <field name="VAR">x</field>
                                          </block>
                                        </value>
                                        <value name="ADD2">
                                          <block type="math_add" id="1302" inline="true">
                                            <mutation items="2"></mutation>
                                            <value name="NUM0">
                                              <block type="lexical_variable_get" id="1303">
                                                <field name="VAR">y</field>
                                              </block>
                                            </value>
                                            <value name="NUM1">
                                              <block type="math_number" id="1304">
                                                <field name="NUM">1</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <value name="ADD3">
                                          <block type="text" id="1305">
                                            <field name="TEXT">.png</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="1306" inline="false">
                                        <mutation component_type="Canvas" set_or_get="set" property_name="BackgroundImage" is_generic="false" instance_name="R4C4Canvas"></mutation>
                                        <field name="COMPONENT_SELECTOR">R4C4Canvas</field>
                                        <field name="PROP">BackgroundImage</field>
                                        <value name="VALUE">
                                          <block type="text_join" id="1307" inline="false">
                                            <mutation items="4"></mutation>
                                            <value name="ADD0">
                                              <block type="text" id="1308">
                                                <field name="TEXT">back</field>
                                              </block>
                                            </value>
                                            <value name="ADD1">
                                              <block type="math_add" id="1309" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="1310">
                                                    <field name="VAR">x</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="1311">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="ADD2">
                                              <block type="math_add" id="1312" inline="true">
                                                <mutation items="2"></mutation>
                                                <value name="NUM0">
                                                  <block type="lexical_variable_get" id="1313">
                                                    <field name="VAR">y</field>
                                                  </block>
                                                </value>
                                                <value name="NUM1">
                                                  <block type="math_number" id="1314">
                                                    <field name="NUM">1</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <value name="ADD3">
                                              <block type="text" id="1315">
                                                <field name="TEXT">.png</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="component_method" id="1316" inline="false">
                                            <mutation component_type="File" method_name="ReadFrom" is_generic="false" instance_name="File1"></mutation>
                                            <field name="COMPONENT_SELECTOR">File1</field>
                                            <value name="ARG0">
                                              <block type="text_join" id="1317" inline="false">
                                                <mutation items="4"></mutation>
                                                <value name="ADD0">
                                                  <block type="text" id="1318">
                                                    <field name="TEXT">//back</field>
                                                  </block>
                                                </value>
                                                <value name="ADD1">
                                                  <block type="lexical_variable_get" id="1319">
                                                    <field name="VAR">x</field>
                                                  </block>
                                                </value>
                                                <value name="ADD2">
                                                  <block type="lexical_variable_get" id="1320">
                                                    <field name="VAR">y</field>
                                                  </block>
                                                </value>
                                                <value name="ADD3">
                                                  <block type="text" id="1321">
                                                    <field name="TEXT">.json</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="procedures_callnoreturn" id="1322">
                                                <mutation name="CollapseMap"></mutation>
                                                <field name="PROCNAME">CollapseMap</field>
                                                <next>
                                                  <block type="component_set_get" id="1323" inline="false">
                                                    <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="PlaceCharacterDelay"></mutation>
                                                    <field name="COMPONENT_SELECTOR">PlaceCharacterDelay</field>
                                                    <field name="PROP">TimerEnabled</field>
                                                    <value name="VALUE">
                                                      <block type="logic_boolean" id="1324">
                                                        <field name="BOOL">TRUE</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="procedures_defnoreturn" id="1325" collapsed="true" x="2464" y="3118">
    <mutation>
      <arg name="direction"></arg>
    </mutation>
    <field name="NAME">MoveToNewArea</field>
    <field name="VAR0">direction</field>
    <statement name="STACK">
      <block type="local_declaration_statement" id="1326" inline="false">
        <mutation>
          <localname name="newWorldPosition"></localname>
        </mutation>
        <field name="VAR0">newWorldPosition</field>
        <value name="DECL0">
          <block type="lists_create_with" id="1327">
            <mutation items="0"></mutation>
          </block>
        </value>
        <statement name="STACK">
          <block type="lists_add_items" id="1328" inline="false">
            <mutation items="1"></mutation>
            <value name="LIST">
              <block type="lexical_variable_get" id="1329">
                <field name="VAR">newWorldPosition</field>
              </block>
            </value>
            <value name="ITEM0">
              <block type="math_add" id="1330" inline="true">
                <mutation items="2"></mutation>
                <value name="NUM0">
                  <block type="lists_select_item" id="1331" inline="false">
                    <value name="LIST">
                      <block type="lexical_variable_get" id="1332">
                        <field name="VAR">global WorldPosition</field>
                      </block>
                    </value>
                    <value name="NUM">
                      <block type="math_number" id="1333">
                        <field name="NUM">1</field>
                      </block>
                    </value>
                  </block>
                </value>
                <value name="NUM1">
                  <block type="math_round" id="1334" inline="false">
                    <field name="OP">ROUND</field>
                    <value name="NUM">
                      <block type="math_cos" id="1335" inline="false">
                        <field name="OP">COS</field>
                        <value name="NUM">
                          <block type="lexical_variable_get" id="1336">
                            <field name="VAR">direction</field>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
              </block>
            </value>
            <next>
              <block type="lists_add_items" id="1337" inline="false">
                <mutation items="1"></mutation>
                <value name="LIST">
                  <block type="lexical_variable_get" id="1338">
                    <field name="VAR">newWorldPosition</field>
                  </block>
                </value>
                <value name="ITEM0">
                  <block type="math_add" id="1339" inline="true">
                    <mutation items="2"></mutation>
                    <value name="NUM0">
                      <block type="lists_select_item" id="1340" inline="false">
                        <value name="LIST">
                          <block type="lexical_variable_get" id="1341">
                            <field name="VAR">global WorldPosition</field>
                          </block>
                        </value>
                        <value name="NUM">
                          <block type="math_number" id="1342">
                            <field name="NUM">2</field>
                          </block>
                        </value>
                      </block>
                    </value>
                    <value name="NUM1">
                      <block type="math_neg" id="1343" inline="false">
                        <field name="OP">NEG</field>
                        <value name="NUM">
                          <block type="math_round" id="1344" inline="false">
                            <field name="OP">ROUND</field>
                            <value name="NUM">
                              <block type="math_cos" id="1345" inline="false">
                                <field name="OP">SIN</field>
                                <value name="NUM">
                                  <block type="lexical_variable_get" id="1346">
                                    <field name="VAR">direction</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="controls_if" id="1347" inline="false">
                    <value name="IF0">
                      <block type="logic_operation" id="1348" inline="true">
                        <field name="OP">AND</field>
                        <value name="A">
                          <block type="math_compare" id="1349" inline="true">
                            <field name="OP">LT</field>
                            <value name="A">
                              <block type="lists_select_item" id="1350" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="1351">
                                    <field name="VAR">newWorldPosition</field>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="math_number" id="1352">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lists_select_item" id="1353" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="1354">
                                    <field name="VAR">global WorldMapSize</field>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="math_number" id="1355">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <value name="B">
                          <block type="math_compare" id="1356" inline="true">
                            <field name="OP">LT</field>
                            <value name="A">
                              <block type="lists_select_item" id="1357" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="1358">
                                    <field name="VAR">newWorldPosition</field>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="math_number" id="1359">
                                    <field name="NUM">2</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="lists_select_item" id="1360" inline="false">
                                <value name="LIST">
                                  <block type="lexical_variable_get" id="1361">
                                    <field name="VAR">global WorldMapSize</field>
                                  </block>
                                </value>
                                <value name="NUM">
                                  <block type="math_number" id="1362">
                                    <field name="NUM">2</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                      </block>
                    </value>
                    <statement name="DO0">
                      <block type="controls_if" id="1363" inline="false">
                        <value name="IF0">
                          <block type="logic_operation" id="1364" inline="true">
                            <field name="OP">AND</field>
                            <value name="A">
                              <block type="math_compare" id="1365" inline="true">
                                <field name="OP">GTE</field>
                                <value name="A">
                                  <block type="lists_select_item" id="1366" inline="false">
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="1367">
                                        <field name="VAR">newWorldPosition</field>
                                      </block>
                                    </value>
                                    <value name="NUM">
                                      <block type="math_number" id="1368">
                                        <field name="NUM">1</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="1369">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_compare" id="1370" inline="true">
                                <field name="OP">GTE</field>
                                <value name="A">
                                  <block type="lists_select_item" id="1371" inline="false">
                                    <value name="LIST">
                                      <block type="lexical_variable_get" id="1372">
                                        <field name="VAR">newWorldPosition</field>
                                      </block>
                                    </value>
                                    <value name="NUM">
                                      <block type="math_number" id="1373">
                                        <field name="NUM">2</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="1374">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="lexical_variable_set" id="1375" inline="false">
                            <field name="VAR">global MapSlideDirection</field>
                            <value name="VALUE">
                              <block type="lexical_variable_get" id="1376">
                                <field name="VAR">direction</field>
                              </block>
                            </value>
                            <next>
                              <block type="lexical_variable_set" id="1377" inline="false">
                                <field name="VAR">global WorldPosition</field>
                                <value name="VALUE">
                                  <block type="lexical_variable_get" id="1378">
                                    <field name="VAR">newWorldPosition</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="component_set_get" id="1379" inline="false">
                                    <mutation component_type="ImageSprite" set_or_get="set" property_name="Visible" is_generic="false" instance_name="Character"></mutation>
                                    <field name="COMPONENT_SELECTOR">Character</field>
                                    <field name="PROP">Visible</field>
                                    <value name="VALUE">
                                      <block type="logic_boolean" id="1380">
                                        <field name="BOOL">FALSE</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="component_set_get" id="1381" inline="false">
                                        <mutation component_type="Clock" set_or_get="set" property_name="TimerEnabled" is_generic="false" instance_name="ZoomOutMapTimer"></mutation>
                                        <field name="COMPONENT_SELECTOR">ZoomOutMapTimer</field>
                                        <field name="PROP">TimerEnabled</field>
                                        <value name="VALUE">
                                          <block type="logic_boolean" id="1382">
                                            <field name="BOOL">TRUE</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="procedures_callnoreturn" id="1383" inline="false">
                                            <mutation name="SetCharacterLocationInNewArea">
                                              <arg name="direction"></arg>
                                            </mutation>
                                            <field name="PROCNAME">SetCharacterLocationInNewArea</field>
                                            <value name="ARG0">
                                              <block type="lexical_variable_get" id="1384">
                                                <field name="VAR">direction</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </statement>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </statement>
  </block>
  <yacodeblocks ya-version="159" language-version="20"></yacodeblocks>
</xml>